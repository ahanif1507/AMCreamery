# Logfile created on 2020-03-31 17:40:51 +0000 by logger.rb/v1.4.2
D, [2020-03-31T17:40:51.069357 #32196] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T17:40:51.182011 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.182532 #32196]  INFO -- : --------------------------------------------
I, [2020-03-31T17:40:51.182581 #32196]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T17:40:51.182605 #32196]  INFO -- : --------------------------------------------
D, [2020-03-31T17:40:51.341824 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.346899 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149618123"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.349297 #32196] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "149618123"], ["date_of_birth", "2001-03-31"], ["phone", "5795942589"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.350824 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.352263 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.416823 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.417306 #32196]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T17:40:51.417354 #32196]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T17:40:51.417378 #32196]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T17:40:51.418429 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.420119 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300693754"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.421689 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300693754"], ["date_of_birth", "2001-03-31"], ["phone", "9343875220"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.422832 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.423914 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.470604 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.471018 #32196]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T17:40:51.471064 #32196]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T17:40:51.471111 #32196]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T17:40:51.472387 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.474022 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045409409"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.475666 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045409409"], ["date_of_birth", "2001-03-31"], ["phone", "3474289989"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.476933 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.477899 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.505958 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.506391 #32196]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T17:40:51.506437 #32196]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T17:40:51.506459 #32196]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T17:40:51.507528 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.509134 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030657588"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.510580 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030657588"], ["date_of_birth", "2001-03-31"], ["phone", "0446337939"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.511881 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.512971 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T17:40:51.513879 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.573393 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.573796 #32196]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T17:40:51.573837 #32196]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T17:40:51.573859 #32196]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T17:40:51.574923 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.576553 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003382729"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.578020 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003382729"], ["date_of_birth", "2001-03-31"], ["phone", "9879820244"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.579228 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.580184 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.612927 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.613376 #32196]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T17:40:51.613418 #32196]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T17:40:51.613440 #32196]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T17:40:51.614504 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.616290 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242294720"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.617871 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242294720"], ["date_of_birth", "2001-03-31"], ["phone", "0197072791"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.619127 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.620140 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.647248 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.647861 #32196]  INFO -- : ----------------------------------------------
I, [2020-03-31T17:40:51.647904 #32196]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T17:40:51.647926 #32196]  INFO -- : ----------------------------------------------
D, [2020-03-31T17:40:51.648902 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.650710 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180460350"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.652603 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "180460350"], ["date_of_birth", "2001-03-31"], ["phone", "5753719741"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.654078 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.655118 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.702983 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.703432 #32196]  INFO -- : --------------------------------------------------
I, [2020-03-31T17:40:51.703477 #32196]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T17:40:51.703498 #32196]  INFO -- : --------------------------------------------------
D, [2020-03-31T17:40:51.704557 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.706170 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "092410575"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.707614 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "092410575"], ["date_of_birth", "2001-03-31"], ["phone", "2310591398"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.708788 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.723709 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.725975 #32196] DEBUG -- :   [1m[36mStore Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.727516 #32196] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0803690265"], ["active", 1]]
D, [2020-03-31T17:40:51.729278 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.756502 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.759144 #32196] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T17:40:51.762551 #32196] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T17:40:51.764755 #32196] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.777919 #32196] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.780092 #32196] DEBUG -- :   [1m[36mAssignment Create (0.7ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T17:40:51.781729 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.783414 #32196] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:40:51.824555 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:40:51.825136 #32196]  INFO -- : ---------------------------------------------
I, [2020-03-31T17:40:51.825205 #32196]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T17:40:51.825250 #32196]  INFO -- : ---------------------------------------------
D, [2020-03-31T17:40:51.827172 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.828890 #32196] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "128562486"], ["LIMIT", 1]]
D, [2020-03-31T17:40:51.830999 #32196] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "128562486"], ["date_of_birth", "2001-03-31"], ["phone", "4769707166"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:40:51.833276 #32196] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:40:51.834632 #32196] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:36.287013 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T17:42:36.406131 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:36.406825 #32339]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T17:42:36.406894 #32339]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T17:42:36.406942 #32339]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T17:42:36.556609 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.560164 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113507486"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.562045 #32339] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113507486"], ["date_of_birth", "2001-03-31"], ["phone", "2192760439"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:36.563514 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.564546 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T17:42:36.576149 #32339]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 17:42:36 +0000
I, [2020-03-31T17:42:36.584921 #32339]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T17:42:36.585316 #32339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T17:42:36.591915 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.594467 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.596616 #32339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:36.598478 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:36.599733 #32339]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T17:42:36.601169 #32339]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-03-31T17:42:36.612165 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T17:42:36.625070 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:36.628690 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:36.629067 #32339]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T17:42:36.629150 #32339]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T17:42:36.629223 #32339]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T17:42:36.630572 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.632546 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381567310"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.634247 #32339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381567310"], ["date_of_birth", "2001-03-31"], ["phone", "2182002208"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:36.635738 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:36.637516 #32339]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 17:42:36 +0000
I, [2020-03-31T17:42:36.638697 #32339]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T17:42:36.639015 #32339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T17:42:36.640532 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.925201 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.927084 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:36.932237 #32339]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T17:42:36.933894 #32339]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T17:42:36.935778 #32339]  INFO -- : Completed 200 OK in 296ms (Views: 6.9ms | ActiveRecord: 0.4ms)
D, [2020-03-31T17:42:36.939586 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:36.942154 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:36.942530 #32339]  INFO -- : --------------------------------------------------
I, [2020-03-31T17:42:36.942619 #32339]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T17:42:36.942687 #32339]  INFO -- : --------------------------------------------------
D, [2020-03-31T17:42:36.944036 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.946033 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "195907679"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.947952 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "195907679"], ["date_of_birth", "2001-03-31"], ["phone", "8257856540"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:36.949479 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.964724 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.966923 #32339] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T17:42:36.968768 #32339] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9371012465"], ["active", 1]]
D, [2020-03-31T17:42:36.970237 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.989892 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:36.992097 #32339] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T17:42:36.994559 #32339] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T17:42:36.996401 #32339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.005737 #32339] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.007229 #32339] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T17:42:37.008384 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.009928 #32339]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.011212 #32339]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T17:42:37.011553 #32339]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T17:42:37.012643 #32339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T17:42:37.016067 #32339]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T17:42:37.038092 #32339] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:11:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.045677 #32339] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.047998 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.048479 #32339]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T17:42:37.048577 #32339]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T17:42:37.048647 #32339]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T17:42:37.049967 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.051975 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381114263"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.053725 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381114263"], ["date_of_birth", "2001-03-31"], ["phone", "6304901187"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.055120 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.056843 #32339]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.058458 #32339]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T17:42:37.058806 #32339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T17:42:37.063631 #32339]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:42:37.093853 #32339] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.102007 #32339] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.103526 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.103909 #32339]  INFO -- : ---------------------------------------------
I, [2020-03-31T17:42:37.104015 #32339]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T17:42:37.104086 #32339]  INFO -- : ---------------------------------------------
D, [2020-03-31T17:42:37.105513 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.107460 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "328281205"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.109208 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "328281205"], ["date_of_birth", "2001-03-31"], ["phone", "3007835353"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.110729 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.112343 #32339]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.113633 #32339]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T17:42:37.113926 #32339]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T17:42:37.115055 #32339] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T17:42:37.140050 #32339]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.1ms)
F, [2020-03-31T17:42:37.155481 #32339] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.160444 #32339] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.161874 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.162281 #32339]  INFO -- : ----------------------------------------------
I, [2020-03-31T17:42:37.162375 #32339]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T17:42:37.162445 #32339]  INFO -- : ----------------------------------------------
D, [2020-03-31T17:42:37.163914 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.166041 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228327904"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.168145 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228327904"], ["date_of_birth", "2001-03-31"], ["phone", "7430041920"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.169813 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.171401 #32339]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.172661 #32339]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T17:42:37.197916 #32339]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:42:37.214898 #32339] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.219200 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.220757 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.221118 #32339]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T17:42:37.221198 #32339]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T17:42:37.221267 #32339]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T17:42:37.222594 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.224547 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206648340"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.226267 #32339] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "206648340"], ["date_of_birth", "2001-03-31"], ["phone", "4851622655"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.227727 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.228975 #32339]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.230151 #32339]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-03-31T17:42:37.230450 #32339]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T17:42:37.233262 #32339]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:42:37.249049 #32339] FATAL -- : 
NoMethodError - undefined method `destroy' for nil:NilClass:
  app/controllers/employees_controller.rb:45:in `destroy'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.253182 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.254647 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.254989 #32339]  INFO -- : --------------------------------------------
I, [2020-03-31T17:42:37.255070 #32339]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T17:42:37.255133 #32339]  INFO -- : --------------------------------------------
D, [2020-03-31T17:42:37.256456 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.258201 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "031431746"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.259915 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031431746"], ["date_of_birth", "2001-03-31"], ["phone", "0378182386"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.261326 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.262582 #32339]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.263816 #32339]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T17:42:37.265007 #32339]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T17:42:37.265478 #32339]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T17:42:37.266554 #32339]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T17:42:37.269026 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:42:37.270017 #32339] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:42:37.270433 #32339]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T17:42:37.270514 #32339]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T17:42:37.270593 #32339]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T17:42:37.271925 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T17:42:37.273771 #32339] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378196227"], ["LIMIT", 1]]
D, [2020-03-31T17:42:37.275632 #32339] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "378196227"], ["date_of_birth", "2001-03-31"], ["phone", "3128729710"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T17:42:37.277011 #32339] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T17:42:37.278432 #32339]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 17:42:37 +0000
I, [2020-03-31T17:42:37.279775 #32339]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T17:42:37.280171 #32339]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T17:42:37.284278 #32339]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:42:37.301074 #32339] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T17:42:37.305236 #32339] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:45:40.259922 #32577] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T17:45:40.348692 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:45:40.349157 #32577]  INFO -- : -------------------------------------------
I, [2020-03-31T17:45:40.349202 #32577]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-03-31T17:45:40.349226 #32577]  INFO -- : -------------------------------------------
D, [2020-03-31T17:45:40.436367 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:45:40.492035 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:45:40.492531 #32577]  INFO -- : -----------------------------------------
I, [2020-03-31T17:45:40.492578 #32577]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-03-31T17:45:40.492602 #32577]  INFO -- : -----------------------------------------
D, [2020-03-31T17:45:40.493086 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:45:40.537147 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:45:40.537596 #32577]  INFO -- : -------------------------------------------
I, [2020-03-31T17:45:40.537642 #32577]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-03-31T17:45:40.537666 #32577]  INFO -- : -------------------------------------------
D, [2020-03-31T17:45:40.538117 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:45:40.587398 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:45:40.587824 #32577]  INFO -- : -----------------------------------------
I, [2020-03-31T17:45:40.587867 #32577]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-03-31T17:45:40.587891 #32577]  INFO -- : -----------------------------------------
D, [2020-03-31T17:45:40.588395 #32577] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:47:33.196226 #32737] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T17:47:33.281821 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:47:33.282273 #32737]  INFO -- : -----------------------------------------
I, [2020-03-31T17:47:33.282320 #32737]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-03-31T17:47:33.282346 #32737]  INFO -- : -----------------------------------------
D, [2020-03-31T17:47:33.363478 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:47:33.426818 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:47:33.427446 #32737]  INFO -- : -------------------------------------------
I, [2020-03-31T17:47:33.427506 #32737]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-03-31T17:47:33.427544 #32737]  INFO -- : -------------------------------------------
D, [2020-03-31T17:47:33.428250 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:47:33.495737 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:47:33.496313 #32737]  INFO -- : -----------------------------------------
I, [2020-03-31T17:47:33.496401 #32737]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-03-31T17:47:33.496434 #32737]  INFO -- : -----------------------------------------
D, [2020-03-31T17:47:33.497310 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:47:33.498568 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:47:33.498975 #32737]  INFO -- : -------------------------------------------
I, [2020-03-31T17:47:33.499025 #32737]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-03-31T17:47:33.499056 #32737]  INFO -- : -------------------------------------------
D, [2020-03-31T17:47:33.500281 #32737] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:51:24.800087 #553] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T17:51:24.894452 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:51:24.894947 #553]  INFO -- : -------------------------------------------
I, [2020-03-31T17:51:24.895004 #553]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-03-31T17:51:24.895074 #553]  INFO -- : -------------------------------------------
I, [2020-03-31T17:51:24.980824 #553]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-03-31 17:51:24 +0000
I, [2020-03-31T17:51:24.990160 #553]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-03-31T17:51:25.017310 #553]  INFO -- : Completed 500  in 27ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:51:25.032297 #553] FATAL -- : 
ActionController::UnknownFormat - HomeController#privacy is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:21:in `block in <class:HomeControllerTest>'

D, [2020-03-31T17:51:25.039641 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:51:25.041097 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:51:25.041439 #553]  INFO -- : -----------------------------------------
I, [2020-03-31T17:51:25.041524 #553]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-03-31T17:51:25.041599 #553]  INFO -- : -----------------------------------------
I, [2020-03-31T17:51:25.042718 #553]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-03-31 17:51:25 +0000
I, [2020-03-31T17:51:25.043945 #553]  INFO -- : Processing by HomeController#about as HTML
I, [2020-03-31T17:51:25.066338 #553]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:51:25.080118 #553] FATAL -- : 
ActionController::UnknownFormat - HomeController#about is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:11:in `block in <class:HomeControllerTest>'

D, [2020-03-31T17:51:25.084509 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:51:25.085736 #553] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:51:25.086073 #553]  INFO -- : -----------------------------------------
I, [2020-03-31T17:51:25.086153 #553]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-03-31T17:51:25.086213 #553]  INFO -- : -----------------------------------------
I, [2020-03-31T17:51:25.087193 #553]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-03-31 17:51:25 +0000
I, [2020-03-31T17:51:25.088289 #553]  INFO -- : Processing by HomeController#index as HTML
I, [2020-03-31T17:51:25.111563 #553]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:51:25.130102 #553] FATAL -- : 
ActionController::UnknownFormat - HomeController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:6:in `block in <class:HomeControllerTest>'

D, [2020-03-31T17:51:25.134214 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T17:51:25.135678 #553] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T17:51:25.136055 #553]  INFO -- : -------------------------------------------
I, [2020-03-31T17:51:25.136134 #553]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-03-31T17:51:25.136198 #553]  INFO -- : -------------------------------------------
I, [2020-03-31T17:51:25.137164 #553]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-03-31 17:51:25 +0000
I, [2020-03-31T17:51:25.138255 #553]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-03-31T17:51:25.161879 #553]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T17:51:25.195552 #553] FATAL -- : 
ActionController::UnknownFormat - HomeController#contact is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:16:in `block in <class:HomeControllerTest>'

D, [2020-03-31T17:51:25.200117 #553] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.274336 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T18:01:37.355477 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.355962 #1262]  INFO -- : ---------------------------------------------
I, [2020-03-31T18:01:37.356010 #1262]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T18:01:37.356035 #1262]  INFO -- : ---------------------------------------------
D, [2020-03-31T18:01:37.455271 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.458633 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370152211"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.460489 #1262] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370152211"], ["date_of_birth", "2001-03-31"], ["phone", "9192281293"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.461723 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.464771 #1262]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.474012 #1262]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T18:01:37.474356 #1262]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:01:37.479847 #1262] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:01:37.504547 #1262]  INFO -- : Completed 500  in 30ms (ActiveRecord: 0.2ms)
F, [2020-03-31T18:01:37.518744 #1262] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:37.541455 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.542759 #1262] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.543104 #1262]  INFO -- : ----------------------------------------------
I, [2020-03-31T18:01:37.543189 #1262]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T18:01:37.543255 #1262]  INFO -- : ----------------------------------------------
D, [2020-03-31T18:01:37.544634 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.546466 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262444538"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.548183 #1262] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262444538"], ["date_of_birth", "2001-03-31"], ["phone", "2400994652"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.549573 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.550849 #1262]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.551964 #1262]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T18:01:37.581081 #1262]  INFO -- : Completed 500  in 29ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:01:37.597508 #1262] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:37.604950 #1262] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.606518 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.607048 #1262]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:01:37.607177 #1262]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T18:01:37.607310 #1262]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:01:37.609101 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.611756 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "321135107"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.614448 #1262] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "321135107"], ["date_of_birth", "2001-03-31"], ["phone", "1521137223"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.616837 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.619165 #1262]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.628612 #1262]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:01:37.629174 #1262]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T18:01:37.636343 #1262]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:01:37.652328 #1262] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:37.658557 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.659724 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.660088 #1262]  INFO -- : --------------------------------------------
I, [2020-03-31T18:01:37.660173 #1262]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T18:01:37.660244 #1262]  INFO -- : --------------------------------------------
D, [2020-03-31T18:01:37.661570 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.663526 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "271893035"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.665746 #1262] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "271893035"], ["date_of_birth", "2001-03-31"], ["phone", "6678134859"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.668226 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.669974 #1262]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.671396 #1262]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T18:01:37.676416 #1262]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:01:37.678213 #1262]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T18:01:37.679878 #1262]  INFO -- : Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
D, [2020-03-31T18:01:37.683176 #1262] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.684446 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.684981 #1262]  INFO -- : --------------------------------------------------
I, [2020-03-31T18:01:37.685183 #1262]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T18:01:37.685315 #1262]  INFO -- : --------------------------------------------------
D, [2020-03-31T18:01:37.686968 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.688898 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263637506"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.690953 #1262] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263637506"], ["date_of_birth", "2001-03-31"], ["phone", "0674765061"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.692495 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.716774 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.718957 #1262] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.720889 #1262] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7350589508"], ["active", 1]]
D, [2020-03-31T18:01:37.722524 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.745560 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.747927 #1262] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:01:37.749565 #1262] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:01:37.751140 #1262] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.765613 #1262] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.767845 #1262] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T18:01:37.769633 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.771689 #1262]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.773252 #1262]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T18:01:37.773796 #1262]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:01:37.775336 #1262] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:01:37.781041 #1262]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.1ms)
F, [2020-03-31T18:01:37.798715 #1262] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:11:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:37.806642 #1262] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.808452 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.809031 #1262]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:01:37.809164 #1262]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T18:01:37.809301 #1262]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:01:37.811186 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.814186 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348639689"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.816989 #1262] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "348639689"], ["date_of_birth", "2001-03-31"], ["phone", "3445364962"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.819484 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.821332 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T18:01:37.825398 #1262]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.827446 #1262]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:01:37.828022 #1262]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:01:37.830293 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.833415 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.836312 #1262] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.839143 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.840860 #1262]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T18:01:37.842889 #1262]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.8ms)
D, [2020-03-31T18:01:37.862991 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T18:01:37.879203 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.880731 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.881067 #1262]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:01:37.881198 #1262]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T18:01:37.881286 #1262]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:01:37.882713 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.884739 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225958301"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.886705 #1262] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225958301"], ["date_of_birth", "2001-03-31"], ["phone", "0630357828"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.888349 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.890082 #1262]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.891520 #1262]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:01:37.891891 #1262]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T18:01:37.896292 #1262]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:01:37.906652 #1262] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:37.913874 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:37.915027 #1262] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:37.915475 #1262]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:01:37.915570 #1262]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T18:01:37.915649 #1262]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:01:37.916958 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:37.918796 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217290848"], ["LIMIT", 1]]
D, [2020-03-31T18:01:37.920696 #1262] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "217290848"], ["date_of_birth", "2001-03-31"], ["phone", "7367625872"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:37.922397 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:37.924239 #1262]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:01:37 +0000
I, [2020-03-31T18:01:37.925383 #1262]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:01:37.925789 #1262]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:01:37.927160 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:38.197928 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:01:38.199531 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:38.200670 #1262]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:01:38.201120 #1262]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T18:01:38.202425 #1262]  INFO -- : Completed 200 OK in 276ms (Views: 1.4ms | ActiveRecord: 0.4ms)
D, [2020-03-31T18:01:38.205942 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:01:38.206756 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:01:38.207092 #1262]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T18:01:38.207180 #1262]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T18:01:38.207254 #1262]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T18:01:38.208409 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:01:38.210126 #1262] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "214549793"], ["LIMIT", 1]]
D, [2020-03-31T18:01:38.211791 #1262] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "214549793"], ["date_of_birth", "2001-03-31"], ["phone", "3036073552"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:01:38.213139 #1262] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:01:38.214313 #1262]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 18:01:38 +0000
I, [2020-03-31T18:01:38.215419 #1262]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-03-31T18:01:38.215740 #1262]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T18:01:38.218384 #1262]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:01:38.227434 #1262] FATAL -- : 
NoMethodError - undefined method `destroy' for nil:NilClass:
  app/controllers/employees_controller.rb:45:in `destroy'
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:01:38.231437 #1262] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:57.598529 #1384] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T18:02:57.708793 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:57.709442 #1384]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:02:57.709516 #1384]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T18:02:57.709570 #1384]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:02:57.810481 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:57.813936 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "067272182"], ["LIMIT", 1]]
D, [2020-03-31T18:02:57.815756 #1384] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "067272182"], ["date_of_birth", "2001-03-31"], ["phone", "9056306562"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:57.816988 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:57.825084 #1384]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:02:57 +0000
I, [2020-03-31T18:02:57.834616 #1384]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:02:57.834960 #1384]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:02:57.840419 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.038086 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.039767 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.044000 #1384]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:02:58.045485 #1384]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T18:02:58.047158 #1384]  INFO -- : Completed 200 OK in 212ms (Views: 5.8ms | ActiveRecord: 0.4ms)
D, [2020-03-31T18:02:58.053610 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.054648 #1384] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.054988 #1384]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:02:58.055075 #1384]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T18:02:58.055144 #1384]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:02:58.056434 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.058270 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038012647"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.060026 #1384] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038012647"], ["date_of_birth", "2001-03-31"], ["phone", "4162579873"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.061395 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.062562 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T18:02:58.064211 #1384]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.065343 #1384]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:02:58.065711 #1384]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:02:58.067092 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.068810 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.070466 #1384] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.072025 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.073059 #1384]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T18:02:58.074123 #1384]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T18:02:58.078997 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T18:02:58.085976 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.087200 #1384] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.087633 #1384]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T18:02:58.087734 #1384]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T18:02:58.087809 #1384]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T18:02:58.088992 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.090675 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069762797"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.092331 #1384] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069762797"], ["date_of_birth", "2001-03-31"], ["phone", "9819651020"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.093787 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.095019 #1384]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.096633 #1384]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-03-31T18:02:58.096940 #1384]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T18:02:58.118147 #1384]  INFO -- : No template found for EmployeesController#destroy, rendering head :no_content
I, [2020-03-31T18:02:58.119230 #1384]  INFO -- : Completed 204 No Content in 22ms (ActiveRecord: 0.0ms)
D, [2020-03-31T18:02:58.123037 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.124267 #1384] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.124592 #1384]  INFO -- : ----------------------------------------------
I, [2020-03-31T18:02:58.124677 #1384]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T18:02:58.124760 #1384]  INFO -- : ----------------------------------------------
D, [2020-03-31T18:02:58.125988 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.127792 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250215170"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.129392 #1384] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "250215170"], ["date_of_birth", "2001-03-31"], ["phone", "6615410399"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.130770 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.132491 #1384]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.133627 #1384]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T18:02:58.157129 #1384]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:02:58.167804 #1384] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:02:58.172259 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.173331 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.173678 #1384]  INFO -- : ---------------------------------------------
I, [2020-03-31T18:02:58.173781 #1384]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T18:02:58.173856 #1384]  INFO -- : ---------------------------------------------
D, [2020-03-31T18:02:58.175091 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.176926 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "118664001"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.178571 #1384] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "118664001"], ["date_of_birth", "2001-03-31"], ["phone", "0921799874"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.180015 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.181283 #1384]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.182404 #1384]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T18:02:58.182727 #1384]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:02:58.184168 #1384] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:02:58.208220 #1384]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.2ms)
F, [2020-03-31T18:02:58.220776 #1384] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:02:58.226213 #1384] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.227641 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.228058 #1384]  INFO -- : --------------------------------------------
I, [2020-03-31T18:02:58.228155 #1384]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T18:02:58.228270 #1384]  INFO -- : --------------------------------------------
D, [2020-03-31T18:02:58.229810 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.232158 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168999027"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.234283 #1384] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168999027"], ["date_of_birth", "2001-03-31"], ["phone", "8330222057"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.235771 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.237524 #1384]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.238866 #1384]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T18:02:58.240276 #1384]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:02:58.240758 #1384]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T18:02:58.241878 #1384]  INFO -- : Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T18:02:58.244723 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.245625 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.245961 #1384]  INFO -- : --------------------------------------------------
I, [2020-03-31T18:02:58.246050 #1384]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T18:02:58.246119 #1384]  INFO -- : --------------------------------------------------
D, [2020-03-31T18:02:58.247391 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.249205 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303933928"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.250900 #1384] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303933928"], ["date_of_birth", "2001-03-31"], ["phone", "0013375502"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.252329 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.267484 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.269538 #1384] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.271223 #1384] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8329658392"], ["active", 1]]
D, [2020-03-31T18:02:58.272679 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.292501 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.294670 #1384] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:02:58.296257 #1384] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:02:58.297632 #1384] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.307162 #1384] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.308755 #1384] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T18:02:58.309863 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.311256 #1384]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.312458 #1384]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T18:02:58.312771 #1384]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:02:58.313762 #1384] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:02:58.316894 #1384]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T18:02:58.329288 #1384] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:11:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:02:58.334134 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.335370 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.335821 #1384]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:02:58.335918 #1384]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T18:02:58.335993 #1384]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:02:58.337392 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.339225 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "013189645"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.340974 #1384] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "013189645"], ["date_of_birth", "2001-03-31"], ["phone", "4339184497"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.342359 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.343897 #1384]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.345344 #1384]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:02:58.345690 #1384]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T18:02:58.349780 #1384]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:02:58.360520 #1384] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:52:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:02:58.368254 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:02:58.369349 #1384] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:02:58.369681 #1384]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:02:58.369772 #1384]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T18:02:58.369840 #1384]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:02:58.371043 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:02:58.372823 #1384] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086925275"], ["LIMIT", 1]]
D, [2020-03-31T18:02:58.374455 #1384] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086925275"], ["date_of_birth", "2001-03-31"], ["phone", "7578296952"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:02:58.375807 #1384] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:02:58.377228 #1384]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:02:58 +0000
I, [2020-03-31T18:02:58.378492 #1384]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:02:58.378824 #1384]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
I, [2020-03-31T18:02:58.382787 #1384]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:02:58.394623 #1384] FATAL -- : 
NoMethodError - undefined method `update_attributes' for nil:NilClass:
  app/controllers/employees_controller.rb:36:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:02:58.398788 #1384] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:12.463695 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T18:04:12.551901 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:12.552323 #1510]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:04:12.552367 #1510]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T18:04:12.552391 #1510]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:04:12.651233 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.654511 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310125705"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.656306 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310125705"], ["date_of_birth", "2001-03-31"], ["phone", "1804211775"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.657542 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.658466 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T18:04:12.666463 #1510]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:04:12 +0000
I, [2020-03-31T18:04:12.677138 #1510]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:04:12.677522 #1510]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:04:12.683025 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.685169 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.686943 #1510] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.688575 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.689588 #1510]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T18:04:12.690696 #1510]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
D, [2020-03-31T18:04:12.698031 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T18:04:12.705771 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:12.707085 #1510] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:12.707496 #1510]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T18:04:12.707583 #1510]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T18:04:12.707646 #1510]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T18:04:12.708990 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.710745 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264543279"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.712537 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264543279"], ["date_of_birth", "2001-03-31"], ["phone", "9622404777"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.714056 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.715742 #1510]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:04:12 +0000
I, [2020-03-31T18:04:12.717280 #1510]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:04:12.717646 #1510]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T18:04:12.719188 #1510] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.721575 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.723747 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.725769 #1510] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T18:04:12.727259 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.728666 #1510]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T18:04:12.729800 #1510]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
D, [2020-03-31T18:04:12.737664 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:12.738861 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:12.739231 #1510]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:04:12.739388 #1510]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T18:04:12.739466 #1510]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:04:12.740707 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.742535 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316778028"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.744329 #1510] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "316778028"], ["date_of_birth", "2001-03-31"], ["phone", "2288899943"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.745820 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.747635 #1510]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 18:04:12 +0000
I, [2020-03-31T18:04:12.748822 #1510]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T18:04:12.749138 #1510]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T18:04:12.750547 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.937000 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.938731 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.943517 #1510]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:04:12.945261 #1510]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T18:04:12.947165 #1510]  INFO -- : Completed 200 OK in 198ms (Views: 6.6ms | ActiveRecord: 0.3ms)
D, [2020-03-31T18:04:12.951463 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:12.952415 #1510] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:12.952861 #1510]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T18:04:12.952952 #1510]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T18:04:12.953023 #1510]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T18:04:12.954336 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.956398 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "168139781"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.958289 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "168139781"], ["date_of_birth", "2001-03-31"], ["phone", "4099163975"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.959844 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:12.961201 #1510]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 18:04:12 +0000
I, [2020-03-31T18:04:12.962504 #1510]  INFO -- : Processing by EmployeesController#destroy as HTML
I, [2020-03-31T18:04:12.962903 #1510]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T18:04:12.985378 #1510]  INFO -- : No template found for EmployeesController#destroy, rendering head :no_content
I, [2020-03-31T18:04:12.986551 #1510]  INFO -- : Completed 204 No Content in 23ms (ActiveRecord: 0.0ms)
D, [2020-03-31T18:04:12.990467 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:12.991684 #1510] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:12.992066 #1510]  INFO -- : --------------------------------------------------
I, [2020-03-31T18:04:12.992154 #1510]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T18:04:12.992225 #1510]  INFO -- : --------------------------------------------------
D, [2020-03-31T18:04:12.993503 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:12.995417 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "047759234"], ["LIMIT", 1]]
D, [2020-03-31T18:04:12.997224 #1510] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "047759234"], ["date_of_birth", "2001-03-31"], ["phone", "0039308470"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:12.998659 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.013905 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.015919 #1510] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.017589 #1510] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4102871236"], ["active", 1]]
D, [2020-03-31T18:04:13.019033 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.037647 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.039723 #1510] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:04:13.041188 #1510] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T18:04:13.042601 #1510] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.052101 #1510] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.053567 #1510] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T18:04:13.054731 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.056302 #1510]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 18:04:13 +0000
I, [2020-03-31T18:04:13.057538 #1510]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T18:04:13.057834 #1510]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:04:13.058843 #1510] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:04:13.061982 #1510]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T18:04:13.072194 #1510] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:11:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:04:13.076571 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:13.077643 #1510] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:13.078046 #1510]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T18:04:13.078131 #1510]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T18:04:13.078199 #1510]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T18:04:13.079467 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.081342 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234867404"], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.083092 #1510] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234867404"], ["date_of_birth", "2001-03-31"], ["phone", "1873444678"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:13.084504 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.085985 #1510]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 18:04:13 +0000
I, [2020-03-31T18:04:13.087395 #1510]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T18:04:13.087727 #1510]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T18:04:13.088764 #1510] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.090222 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.093046 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.094939 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.099594 #1510]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.3ms)
F, [2020-03-31T18:04:13.111698 #1510] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:04:13.116674 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:13.117802 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:13.118119 #1510]  INFO -- : ---------------------------------------------
I, [2020-03-31T18:04:13.118206 #1510]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T18:04:13.118319 #1510]  INFO -- : ---------------------------------------------
D, [2020-03-31T18:04:13.119636 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.121578 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "093582606"], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.123350 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "093582606"], ["date_of_birth", "2001-03-31"], ["phone", "1245737046"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:13.124847 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.126320 #1510]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 18:04:13 +0000
I, [2020-03-31T18:04:13.127667 #1510]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T18:04:13.127974 #1510]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T18:04:13.129033 #1510] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T18:04:13.151650 #1510]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.1ms)
F, [2020-03-31T18:04:13.160756 #1510] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:04:13.164926 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:13.165991 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:13.166305 #1510]  INFO -- : ----------------------------------------------
I, [2020-03-31T18:04:13.166398 #1510]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T18:04:13.166464 #1510]  INFO -- : ----------------------------------------------
D, [2020-03-31T18:04:13.168124 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.169903 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260735807"], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.171599 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260735807"], ["date_of_birth", "2001-03-31"], ["phone", "8753881008"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:13.172973 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.174252 #1510]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 18:04:13 +0000
I, [2020-03-31T18:04:13.175394 #1510]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T18:04:13.197959 #1510]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T18:04:13.213981 #1510] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T18:04:13.219917 #1510] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T18:04:13.221230 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T18:04:13.221629 #1510]  INFO -- : --------------------------------------------
I, [2020-03-31T18:04:13.221709 #1510]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T18:04:13.221772 #1510]  INFO -- : --------------------------------------------
D, [2020-03-31T18:04:13.223207 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T18:04:13.225368 #1510] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "352937101"], ["LIMIT", 1]]
D, [2020-03-31T18:04:13.227441 #1510] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "352937101"], ["date_of_birth", "2001-03-31"], ["phone", "0620129360"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T18:04:13.229075 #1510] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T18:04:13.230679 #1510]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 18:04:13 +0000
I, [2020-03-31T18:04:13.232086 #1510]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T18:04:13.233630 #1510]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T18:04:13.234168 #1510]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T18:04:13.235527 #1510]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-03-31T18:04:13.238707 #1510] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:21:46.764330 #10563] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:21:46.908809 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:21:46.909237 #10563]  INFO -- : -----------------------------------------
I, [2020-03-31T20:21:46.909282 #10563]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-03-31T20:21:46.909306 #10563]  INFO -- : -----------------------------------------
I, [2020-03-31T20:21:46.991112 #10563]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-03-31 20:21:46 +0000
I, [2020-03-31T20:21:47.000114 #10563]  INFO -- : Processing by HomeController#about as HTML
I, [2020-03-31T20:21:47.025750 #10563]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:21:47.037070 #10563] FATAL -- : 
ActionController::UnknownFormat - HomeController#about is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:11:in `block in <class:HomeControllerTest>'

D, [2020-03-31T20:21:47.043529 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:21:47.044654 #10563] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:21:47.045009 #10563]  INFO -- : -------------------------------------------
I, [2020-03-31T20:21:47.045139 #10563]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-03-31T20:21:47.045212 #10563]  INFO -- : -------------------------------------------
I, [2020-03-31T20:21:47.046230 #10563]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-03-31 20:21:47 +0000
I, [2020-03-31T20:21:47.047426 #10563]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-03-31T20:21:47.070347 #10563]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:21:47.081557 #10563] FATAL -- : 
ActionController::UnknownFormat - HomeController#privacy is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:21:in `block in <class:HomeControllerTest>'

D, [2020-03-31T20:21:47.086067 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:21:47.087239 #10563] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:21:47.087627 #10563]  INFO -- : -------------------------------------------
I, [2020-03-31T20:21:47.087707 #10563]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-03-31T20:21:47.087818 #10563]  INFO -- : -------------------------------------------
I, [2020-03-31T20:21:47.088783 #10563]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-03-31 20:21:47 +0000
I, [2020-03-31T20:21:47.089889 #10563]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-03-31T20:21:47.112555 #10563]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:21:47.124657 #10563] FATAL -- : 
ActionController::UnknownFormat - HomeController#contact is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:16:in `block in <class:HomeControllerTest>'

D, [2020-03-31T20:21:47.128965 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:21:47.130140 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:21:47.130466 #10563]  INFO -- : -----------------------------------------
I, [2020-03-31T20:21:47.130555 #10563]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-03-31T20:21:47.130628 #10563]  INFO -- : -----------------------------------------
I, [2020-03-31T20:21:47.131691 #10563]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-03-31 20:21:47 +0000
I, [2020-03-31T20:21:47.132767 #10563]  INFO -- : Processing by HomeController#index as HTML
I, [2020-03-31T20:21:47.155991 #10563]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:21:47.173781 #10563] FATAL -- : 
ActionController::UnknownFormat - HomeController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/home_controller_test.rb:6:in `block in <class:HomeControllerTest>'

D, [2020-03-31T20:21:47.178448 #10563] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:08.933128 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:33:09.019598 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.020047 #11327]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:33:09.020092 #11327]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:33:09.020114 #11327]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:33:09.118904 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.122588 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175974611"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.124528 #11327] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "175974611"], ["date_of_birth", "2001-03-31"], ["phone", "7203038221"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.125763 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.140004 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.141778 #11327] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.143154 #11327] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2662813039"], ["active", 1]]
D, [2020-03-31T20:33:09.144367 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.168790 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.170847 #11327] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:33:09.173112 #11327] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:33:09.174786 #11327] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.184796 #11327] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.186304 #11327] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:33:09.187241 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.190828 #11327]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.201323 #11327]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:33:09.201651 #11327]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:33:09.207153 #11327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.208733 #11327] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:33:09.212199 #11327]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:33:09.226512 #11327] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:17:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:33:09.235368 #11327] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.249031 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.249538 #11327]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:33:09.249625 #11327]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:33:09.249688 #11327]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:33:09.251084 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.253142 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "024352749"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.255023 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "024352749"], ["date_of_birth", "2001-03-31"], ["phone", "3175042990"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.256715 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.257957 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:33:09.265332 #11327]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.266725 #11327]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:33:09.267105 #11327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
I, [2020-03-31T20:33:09.268642 #11327]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:33:09.269745 #11327]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:33:09.273703 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:33:09.274729 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.275856 #11327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.276187 #11327]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:33:09.276315 #11327]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:33:09.276389 #11327]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:33:09.277628 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.279560 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072452767"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.281319 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "072452767"], ["date_of_birth", "2001-03-31"], ["phone", "6892080614"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.282830 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.284336 #11327]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.285577 #11327]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:33:09.285881 #11327]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:33:09.286949 #11327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.288328 #11327] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:33:09.312616 #11327]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:33:09.325820 #11327] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:33:09.330712 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.331887 #11327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.332305 #11327]  INFO -- : --------------------------------------------
I, [2020-03-31T20:33:09.332388 #11327]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:33:09.332464 #11327]  INFO -- : --------------------------------------------
D, [2020-03-31T20:33:09.333770 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.335691 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310043544"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.337537 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310043544"], ["date_of_birth", "2001-03-31"], ["phone", "6037977130"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.339039 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.340519 #11327]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.341845 #11327]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:33:09.343375 #11327]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:33:09.344309 #11327]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:33:09.347819 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.348970 #11327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.349321 #11327]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:33:09.349403 #11327]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:33:09.349472 #11327]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:33:09.350821 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.352733 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127565451"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.354527 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127565451"], ["date_of_birth", "2001-03-31"], ["phone", "2266179023"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.356147 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.357465 #11327]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
F, [2020-03-31T20:33:09.375334 #11327] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:33:09.379686 #11327] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.380575 #11327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.380955 #11327]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:33:09.381050 #11327]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:33:09.381114 #11327]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:33:09.382404 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.384316 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112384015"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.386130 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112384015"], ["date_of_birth", "2001-03-31"], ["phone", "6490906461"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.387756 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.389187 #11327]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.390366 #11327]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:33:09.391847 #11327]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:33:09.392764 #11327]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:33:09.396050 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.397184 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.397552 #11327]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:33:09.397635 #11327]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:33:09.397698 #11327]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:33:09.398959 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.401526 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196741381"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.403400 #11327] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "196741381"], ["date_of_birth", "2001-03-31"], ["phone", "6607920787"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.404958 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.406712 #11327]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.408317 #11327]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:33:09.408694 #11327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:33:09.409822 #11327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.411307 #11327] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.412896 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.415643 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.417944 #11327] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:33:09.419559 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.420986 #11327]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:33:09.422260 #11327]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
D, [2020-03-31T20:33:09.438248 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.439723 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.440187 #11327]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:33:09.440299 #11327]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:33:09.440425 #11327]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:33:09.442048 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.444359 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385225628"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.446612 #11327] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385225628"], ["date_of_birth", "2001-03-31"], ["phone", "7442406583"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.448460 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.450382 #11327]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.452034 #11327]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:33:09.452459 #11327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:33:09.453734 #11327] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.455412 #11327] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.457135 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.730033 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.732211 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.737867 #11327]  INFO -- : Completed 500  in 285ms (ActiveRecord: 0.5ms)
F, [2020-03-31T20:33:09.750720 #11327] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:47:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:33:09.755670 #11327] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:33:09.756782 #11327] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:33:09.757126 #11327]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:33:09.757211 #11327]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:33:09.757277 #11327]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:33:09.758600 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:33:09.760449 #11327] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "017834427"], ["LIMIT", 1]]
D, [2020-03-31T20:33:09.762243 #11327] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "017834427"], ["date_of_birth", "2001-03-31"], ["phone", "3753325423"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:33:09.763756 #11327] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:33:09.765465 #11327]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:33:09 +0000
I, [2020-03-31T20:33:09.766637 #11327]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:33:09.767041 #11327]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
I, [2020-03-31T20:33:09.768464 #11327]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:33:09.769577 #11327]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:33:09.772788 #11327] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:50.551043 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:34:50.632145 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:50.632599 #11481]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:34:50.632644 #11481]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:34:50.632668 #11481]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:34:50.739237 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:50.742515 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "135927234"], ["LIMIT", 1]]
D, [2020-03-31T20:34:50.744330 #11481] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "135927234"], ["date_of_birth", "2001-03-31"], ["phone", "6168462977"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:50.745535 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:50.754680 #11481]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:34:50 +0000
I, [2020-03-31T20:34:50.765114 #11481]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:34:50.765515 #11481]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
I, [2020-03-31T20:34:50.771736 #11481]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:34:50.773079 #11481]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:34:50.779910 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:50.781123 #11481] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:50.781481 #11481]  INFO -- : --------------------------------------------
I, [2020-03-31T20:34:50.781588 #11481]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:34:50.781663 #11481]  INFO -- : --------------------------------------------
D, [2020-03-31T20:34:50.783055 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:50.785085 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "040312016"], ["LIMIT", 1]]
D, [2020-03-31T20:34:50.786963 #11481] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "040312016"], ["date_of_birth", "2001-03-31"], ["phone", "4869771161"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:50.788414 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:50.789948 #11481]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:34:50 +0000
I, [2020-03-31T20:34:50.791415 #11481]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:34:50.792845 #11481]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:34:50.793702 #11481]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:34:50.797588 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:50.798622 #11481] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:50.798943 #11481]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:34:50.799042 #11481]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:34:50.799143 #11481]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:34:50.800503 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:50.802356 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "170648308"], ["LIMIT", 1]]
D, [2020-03-31T20:34:50.804167 #11481] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "170648308"], ["date_of_birth", "2001-03-31"], ["phone", "9727484067"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:50.805620 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:50.807410 #11481]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:34:50 +0000
I, [2020-03-31T20:34:50.809010 #11481]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:34:50.809359 #11481]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:34:50.811022 #11481] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:50.813489 #11481] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:50.814925 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.006405 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.008996 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.016499 #11481]  INFO -- : Completed 500  in 207ms (ActiveRecord: 0.6ms)
F, [2020-03-31T20:34:51.032293 #11481] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:43:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:34:51.038052 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.039207 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.039625 #11481]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:34:51.039725 #11481]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:34:51.039802 #11481]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:34:51.041139 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.043099 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "036671412"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.044930 #11481] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "036671412"], ["date_of_birth", "2001-03-31"], ["phone", "3352180545"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.046387 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.047849 #11481]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
I, [2020-03-31T20:34:51.049078 #11481]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:34:51.049428 #11481]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:34:51.050396 #11481] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.051725 #11481] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:34:51.074511 #11481]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:34:51.084111 #11481] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:34:51.088028 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.089001 #11481] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.089318 #11481]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:34:51.089402 #11481]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:34:51.089466 #11481]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:34:51.090643 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.092443 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386136642"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.094022 #11481] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386136642"], ["date_of_birth", "2001-03-31"], ["phone", "3960867579"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.095373 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.108225 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.109947 #11481] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.111449 #11481] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3160491168"], ["active", 1]]
D, [2020-03-31T20:34:51.112725 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.129514 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.131480 #11481] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:34:51.132836 #11481] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:34:51.134097 #11481] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.142663 #11481] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.144031 #11481] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:34:51.145067 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.146483 #11481]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
I, [2020-03-31T20:34:51.147579 #11481]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:34:51.147867 #11481]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:34:51.148750 #11481] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.149865 #11481] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:34:51.152764 #11481]  INFO -- : Completed 500  in 5ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:34:51.163709 #11481] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:34:51.167654 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.168602 #11481] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.168928 #11481]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:34:51.169007 #11481]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:34:51.169069 #11481]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:34:51.170233 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.171925 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178613186"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.173538 #11481] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178613186"], ["date_of_birth", "2001-03-31"], ["phone", "8240898621"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.174873 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.176364 #11481]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
I, [2020-03-31T20:34:51.177562 #11481]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:34:51.177886 #11481]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:34:51.178747 #11481] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.179908 #11481] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.181121 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.183891 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.185987 #11481] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:34:51.187537 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.188786 #11481]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:34:51.189979 #11481]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:34:51.202849 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.203983 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.204367 #11481]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:34:51.204449 #11481]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:34:51.204514 #11481]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:34:51.205801 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.207715 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238456280"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.209460 #11481] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238456280"], ["date_of_birth", "2001-03-31"], ["phone", "1255193913"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.210874 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.212235 #11481]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
I, [2020-03-31T20:34:51.213393 #11481]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:34:51.214761 #11481]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:34:51.215677 #11481]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:34:51.218735 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.219752 #11481] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.220107 #11481]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:34:51.220184 #11481]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:34:51.220253 #11481]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:34:51.221406 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.223146 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178933832"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.224875 #11481] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178933832"], ["date_of_birth", "2001-03-31"], ["phone", "9640979114"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.226290 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:34:51.227643 #11481]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
F, [2020-03-31T20:34:51.245462 #11481] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:34:51.249814 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:34:51.250590 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:34:51.250996 #11481]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:34:51.251081 #11481]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:34:51.251151 #11481]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:34:51.252490 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.254467 #11481] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "121800287"], ["LIMIT", 1]]
D, [2020-03-31T20:34:51.256246 #11481] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "121800287"], ["date_of_birth", "2001-03-31"], ["phone", "5771260422"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:34:51.257733 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:34:51.258956 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:34:51.260705 #11481]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:34:51 +0000
I, [2020-03-31T20:34:51.261864 #11481]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:34:51.262245 #11481]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
I, [2020-03-31T20:34:51.263686 #11481]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:34:51.264821 #11481]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:34:51.268192 #11481] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:34:51.269148 #11481] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:11.423540 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:38:11.507845 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:11.508360 #11735]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:38:11.508410 #11735]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:38:11.508436 #11735]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:38:11.611160 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.614517 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295791549"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.616380 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295791549"], ["date_of_birth", "2001-03-31"], ["phone", "1461370185"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:11.617641 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.625761 #11735]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:38:11 +0000
I, [2020-03-31T20:38:11.635356 #11735]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:38:11.635712 #11735]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:38:11.641194 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.837534 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.839236 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.843982 #11735]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:38:11.845546 #11735]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T20:38:11.847415 #11735]  INFO -- : Completed 200 OK in 211ms (Views: 6.4ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:38:11.854468 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:11.855609 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:11.855974 #11735]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:38:11.856063 #11735]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:38:11.856132 #11735]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:38:11.857446 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.859364 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149048526"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.861096 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "149048526"], ["date_of_birth", "2001-03-31"], ["phone", "6252652263"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:11.862525 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.877609 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.879695 #11735] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.881348 #11735] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8215466051"], ["active", 1]]
D, [2020-03-31T20:38:11.882746 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.903103 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.905245 #11735] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:38:11.907721 #11735] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:38:11.909510 #11735] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.920229 #11735] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.921848 #11735] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:38:11.923087 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.924923 #11735]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:38:11 +0000
I, [2020-03-31T20:38:11.926236 #11735]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:38:11.926553 #11735]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:38:11.927687 #11735] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:38:11.930994 #11735]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:38:11.942137 #11735] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:38:11.947629 #11735] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:11.948727 #11735] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:11.949070 #11735]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:38:11.949158 #11735]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:38:11.949228 #11735]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:38:11.950526 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.952420 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007612246"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.954237 #11735] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007612246"], ["date_of_birth", "2001-03-31"], ["phone", "4423204419"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:11.955721 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.957323 #11735]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:38:11 +0000
I, [2020-03-31T20:38:11.958923 #11735]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:38:11.959256 #11735]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:38:11.960370 #11735] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.961877 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.964180 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.966214 #11735] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:38:11.967811 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.969020 #11735]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:38:11.970180 #11735]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:38:11.983130 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:11.984318 #11735] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:11.984655 #11735]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:38:11.984756 #11735]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:38:11.984817 #11735]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:38:11.986124 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:11.988086 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238380631"], ["LIMIT", 1]]
D, [2020-03-31T20:38:11.989895 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238380631"], ["date_of_birth", "2001-03-31"], ["phone", "8093937024"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:11.991374 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:11.992825 #11735]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:38:11 +0000
I, [2020-03-31T20:38:11.993989 #11735]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:38:11.994300 #11735]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:38:11.995307 #11735] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:38:12.018874 #11735]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:38:12.036281 #11735] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:38:12.041084 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:12.042245 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:12.042597 #11735]  INFO -- : --------------------------------------------
I, [2020-03-31T20:38:12.042727 #11735]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:38:12.042801 #11735]  INFO -- : --------------------------------------------
D, [2020-03-31T20:38:12.044466 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.046488 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184610730"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.048428 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184610730"], ["date_of_birth", "2001-03-31"], ["phone", "1422958775"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.049930 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.051310 #11735]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:38:12 +0000
I, [2020-03-31T20:38:12.052568 #11735]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:38:12.053944 #11735]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:38:12.054842 #11735]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:38:12.058137 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:12.059186 #11735] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:12.059538 #11735]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:38:12.059649 #11735]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:38:12.059779 #11735]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:38:12.061025 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.062902 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097429299"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.064649 #11735] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097429299"], ["date_of_birth", "2001-03-31"], ["phone", "0669397449"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.066113 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.067272 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:38:12.068998 #11735]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:38:12 +0000
I, [2020-03-31T20:38:12.070128 #11735]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:38:12.070452 #11735]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:38:12.071918 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.073815 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.075571 #11735] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.077118 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.078136 #11735]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:38:12.079319 #11735]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:38:12.084258 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:38:12.087981 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:12.089049 #11735] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:12.089355 #11735]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:38:12.089433 #11735]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:38:12.089508 #11735]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:38:12.090790 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.092568 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "023946239"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.094279 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "023946239"], ["date_of_birth", "2001-03-31"], ["phone", "7625574857"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.095732 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.097125 #11735]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:38:12 +0000
I, [2020-03-31T20:38:12.098258 #11735]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:38:12.121316 #11735]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:38:12.132802 #11735] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:38:12.137289 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:12.138313 #11735] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:12.138657 #11735]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:38:12.138741 #11735]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:38:12.138802 #11735]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:38:12.140062 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.141911 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304758580"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.143855 #11735] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "304758580"], ["date_of_birth", "2001-03-31"], ["phone", "2506075739"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.145318 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.146850 #11735]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:38:12 +0000
I, [2020-03-31T20:38:12.148128 #11735]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:38:12.148451 #11735]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:38:12.149402 #11735] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.150868 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.153573 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.155533 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.159511 #11735]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.3ms)
F, [2020-03-31T20:38:12.176292 #11735] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:38:12.181302 #11735] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:38:12.183011 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:38:12.183363 #11735]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:38:12.183443 #11735]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:38:12.183543 #11735]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:38:12.184845 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:38:12.186773 #11735] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358520411"], ["LIMIT", 1]]
D, [2020-03-31T20:38:12.188644 #11735] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358520411"], ["date_of_birth", "2001-03-31"], ["phone", "3950900563"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:38:12.190253 #11735] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:38:12.191706 #11735]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:38:12 +0000
F, [2020-03-31T20:38:12.220521 #11735] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:38:12.235957 #11735] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.141840 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:39:47.227265 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.227973 #11930]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:39:47.228019 #11930]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:39:47.228042 #11930]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:39:47.342065 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.345727 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169554853"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.347692 #11930] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "169554853"], ["date_of_birth", "2001-03-31"], ["phone", "5790855467"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.349010 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.352383 #11930]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.362440 #11930]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:39:47.362771 #11930]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T20:39:47.373315 #11930]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:39:47.391839 #11930] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x0000000005f1ca98>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:39:47.399991 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.401344 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.401787 #11930]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:39:47.401871 #11930]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:39:47.401931 #11930]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:39:47.403372 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.405462 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052084509"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.407342 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052084509"], ["date_of_birth", "2001-03-31"], ["phone", "7399399152"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.409135 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.417294 #11930]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.418793 #11930]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:39:47.419104 #11930]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:39:47.420916 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.626701 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.628708 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.633954 #11930]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:39:47.635757 #11930]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.4ms)
I, [2020-03-31T20:39:47.637626 #11930]  INFO -- : Completed 200 OK in 218ms (Views: 7.1ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:39:47.641668 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.642692 #11930] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.643047 #11930]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:39:47.643176 #11930]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:39:47.643261 #11930]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:39:47.644650 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.646630 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019308285"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.648475 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "019308285"], ["date_of_birth", "2001-03-31"], ["phone", "2670382028"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.649917 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.651647 #11930]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.653287 #11930]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:39:47.653826 #11930]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:39:47.655673 #11930] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.658456 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.661606 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.663665 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.669099 #11930]  INFO -- : Completed 500  in 15ms (ActiveRecord: 0.5ms)
F, [2020-03-31T20:39:47.685632 #11930] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:39:47.692381 #11930] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.694199 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.694731 #11930]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:39:47.694871 #11930]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:39:47.695021 #11930]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:39:47.696972 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.699767 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338117242"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.701468 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338117242"], ["date_of_birth", "2001-03-31"], ["phone", "4218487827"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.702915 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.704056 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:39:47.705712 #11930]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.706839 #11930]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:39:47.707150 #11930]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:39:47.708559 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.710339 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.712043 #11930] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.713454 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.714441 #11930]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:39:47.715564 #11930]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:39:47.720508 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:39:47.728490 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.729710 #11930] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.730108 #11930]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:39:47.730198 #11930]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:39:47.730261 #11930]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:39:47.731551 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.733267 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309954110"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.734872 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "309954110"], ["date_of_birth", "2001-03-31"], ["phone", "4296747214"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.736252 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.737456 #11930]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
F, [2020-03-31T20:39:47.756724 #11930] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:39:47.760882 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.761836 #11930] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.762185 #11930]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:39:47.762265 #11930]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:39:47.762327 #11930]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:39:47.763585 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.765277 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058453681"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.766900 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058453681"], ["date_of_birth", "2001-03-31"], ["phone", "9230078416"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.768273 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.769518 #11930]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.770580 #11930]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:39:47.793083 #11930]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:39:47.806166 #11930] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:39:47.810322 #11930] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.811657 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.811991 #11930]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:39:47.812068 #11930]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:39:47.812130 #11930]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:39:47.813325 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.815039 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379986014"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.816756 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "379986014"], ["date_of_birth", "2001-03-31"], ["phone", "0385883121"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.818077 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.831685 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.833619 #11930] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.835176 #11930] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0311045687"], ["active", 1]]
D, [2020-03-31T20:39:47.836522 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.854708 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.856730 #11930] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:39:47.858100 #11930] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:39:47.859489 #11930] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.868923 #11930] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.870362 #11930] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:39:47.871523 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.872887 #11930]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.874110 #11930]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:39:47.874416 #11930]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:39:47.875427 #11930] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:39:47.878381 #11930]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:39:47.891417 #11930] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:39:47.896054 #11930] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.897281 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.897666 #11930]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:39:47.897745 #11930]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:39:47.897809 #11930]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:39:47.899039 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.900930 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350260074"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.902692 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350260074"], ["date_of_birth", "2001-03-31"], ["phone", "2268780226"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.904192 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.905711 #11930]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.907097 #11930]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:39:47.907601 #11930]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:39:47.909085 #11930] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.911252 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.914811 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.917959 #11930] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:39:47.920257 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.921966 #11930]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:39:47.923792 #11930]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-03-31T20:39:47.934780 #11930] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:39:47.936717 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:39:47.937216 #11930]  INFO -- : --------------------------------------------
I, [2020-03-31T20:39:47.937343 #11930]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:39:47.937482 #11930]  INFO -- : --------------------------------------------
D, [2020-03-31T20:39:47.939411 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:39:47.942113 #11930] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291383167"], ["LIMIT", 1]]
D, [2020-03-31T20:39:47.944718 #11930] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291383167"], ["date_of_birth", "2001-03-31"], ["phone", "7742384240"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:39:47.946920 #11930] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:39:47.948865 #11930]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:39:47 +0000
I, [2020-03-31T20:39:47.950705 #11930]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:39:47.952773 #11930]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:39:47.954164 #11930]  INFO -- : Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:39:47.958954 #11930] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.215054 #12059] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:41:04.317579 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.318027 #12059]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:41:04.318148 #12059]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:41:04.318193 #12059]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:41:04.437516 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.440979 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "086288536"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.442918 #12059] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "086288536"], ["date_of_birth", "2001-03-31"], ["phone", "2044354802"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.444286 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.447617 #12059]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.457635 #12059]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:41:04.457964 #12059]  INFO -- :   Parameters: {"id"=>"1"}
I, [2020-03-31T20:41:04.468695 #12059]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:41:04.479414 #12059] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x0000000007034948>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:41:04.486192 #12059] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.487427 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.487773 #12059]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:41:04.487855 #12059]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:41:04.487921 #12059]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:41:04.489227 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.491128 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116053118"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.492857 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116053118"], ["date_of_birth", "2001-03-31"], ["phone", "5440245806"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.494275 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.495723 #12059]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.496895 #12059]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:41:04.519808 #12059]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:41:04.528871 #12059] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:41:04.533803 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.534916 #12059] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.535253 #12059]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:41:04.535359 #12059]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:41:04.535426 #12059]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:41:04.536869 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.538810 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264914537"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.540734 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264914537"], ["date_of_birth", "2001-03-31"], ["phone", "9771387093"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.542466 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.569866 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.572023 #12059] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.573837 #12059] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8191402594"], ["active", 1]]
D, [2020-03-31T20:41:04.575226 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.593699 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.595782 #12059] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:41:04.598280 #12059] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:41:04.600427 #12059] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.611054 #12059] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.612581 #12059] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:41:04.613636 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.615058 #12059]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.616357 #12059]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:41:04.616687 #12059]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:41:04.617808 #12059] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:41:04.621303 #12059]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:41:04.631600 #12059] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:41:04.637601 #12059] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.639275 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.639816 #12059]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:41:04.639941 #12059]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:41:04.640079 #12059]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:41:04.641979 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.644859 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386268074"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.647840 #12059] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386268074"], ["date_of_birth", "2001-03-31"], ["phone", "1917709766"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.650273 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.652192 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:41:04.663397 #12059]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.665039 #12059]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:41:04.665519 #12059]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:41:04.667659 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.670465 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.673157 #12059] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.675592 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.677293 #12059]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:41:04.679230 #12059]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
D, [2020-03-31T20:41:04.688068 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:41:04.697418 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.699105 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.699694 #12059]  INFO -- : --------------------------------------------
I, [2020-03-31T20:41:04.699816 #12059]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:41:04.699888 #12059]  INFO -- : --------------------------------------------
D, [2020-03-31T20:41:04.701365 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.703465 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184789546"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.705401 #12059] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184789546"], ["date_of_birth", "2001-03-31"], ["phone", "8790334543"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.706908 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.708390 #12059]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.709784 #12059]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:41:04.711365 #12059]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:41:04.712278 #12059]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:41:04.715766 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:04.716966 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:04.717340 #12059]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:41:04.717434 #12059]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:41:04.717502 #12059]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:41:04.718888 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:04.721103 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309670386"], ["LIMIT", 1]]
D, [2020-03-31T20:41:04.723427 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "309670386"], ["date_of_birth", "2001-03-31"], ["phone", "6252882404"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:04.724863 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:04.726680 #12059]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:41:04 +0000
I, [2020-03-31T20:41:04.727865 #12059]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:41:04.728167 #12059]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:41:04.729631 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.023410 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.025165 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.029921 #12059]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:41:05.031583 #12059]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T20:41:05.033319 #12059]  INFO -- : Completed 200 OK in 305ms (Views: 6.5ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:41:05.037504 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:05.038383 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:05.038724 #12059]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:41:05.038809 #12059]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:41:05.038880 #12059]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:41:05.040304 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.042228 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098681392"], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.044018 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098681392"], ["date_of_birth", "2001-03-31"], ["phone", "4541941922"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:05.045608 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.047330 #12059]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:41:05 +0000
I, [2020-03-31T20:41:05.048857 #12059]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:41:05.049230 #12059]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:41:05.050333 #12059] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.051887 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.054288 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.056577 #12059] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:41:05.058136 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.059385 #12059]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:41:05.060598 #12059]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:41:05.069316 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:05.070660 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:05.071061 #12059]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:41:05.071180 #12059]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:41:05.071302 #12059]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:41:05.072790 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.074951 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204987440"], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.077056 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204987440"], ["date_of_birth", "2001-03-31"], ["phone", "5923276744"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:05.078556 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.079905 #12059]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:41:05 +0000
F, [2020-03-31T20:41:05.097760 #12059] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:41:05.102214 #12059] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:41:05.103118 #12059] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:41:05.103476 #12059]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:41:05.103562 #12059]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:41:05.103662 #12059]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:41:05.105007 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.106979 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "221972908"], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.109136 #12059] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "221972908"], ["date_of_birth", "2001-03-31"], ["phone", "1452205902"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:41:05.110894 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.112655 #12059]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:41:05 +0000
I, [2020-03-31T20:41:05.113991 #12059]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:41:05.114396 #12059]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:41:05.115496 #12059] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.117143 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:41:05.120310 #12059] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:41:05.122316 #12059] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:41:05.127666 #12059]  INFO -- : Completed 500  in 13ms (ActiveRecord: 0.4ms)
F, [2020-03-31T20:41:05.141107 #12059] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:41:05.146282 #12059] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:20.625389 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:42:20.719392 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:20.719866 #12178]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:42:20.719911 #12178]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:42:20.719936 #12178]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:42:20.819834 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.823109 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055527455"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.825026 #12178] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055527455"], ["date_of_birth", "2001-03-31"], ["phone", "0416724151"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.826312 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.827345 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:42:20.835334 #12178]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:42:20 +0000
I, [2020-03-31T20:42:20.844919 #12178]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:42:20.845247 #12178]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:42:20.850998 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.853212 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.854963 #12178] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.856649 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.857752 #12178]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:42:20.858931 #12178]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:42:20.866644 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:42:20.873637 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:20.875065 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:20.875473 #12178]  INFO -- : --------------------------------------------
I, [2020-03-31T20:42:20.875554 #12178]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:42:20.875620 #12178]  INFO -- : --------------------------------------------
D, [2020-03-31T20:42:20.877037 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.878899 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "297390473"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.880765 #12178] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "297390473"], ["date_of_birth", "2001-03-31"], ["phone", "9407314907"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.882344 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.883815 #12178]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:42:20 +0000
I, [2020-03-31T20:42:20.885199 #12178]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:42:20.886685 #12178]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:42:20.887644 #12178]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:42:20.891892 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:20.893147 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:20.893557 #12178]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:42:20.893664 #12178]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:42:20.893739 #12178]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:42:20.895082 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.897120 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337132454"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.899012 #12178] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "337132454"], ["date_of_birth", "2001-03-31"], ["phone", "6033759674"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.900594 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.902064 #12178]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:42:20 +0000
F, [2020-03-31T20:42:20.934592 #12178] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:42:20.938740 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:20.939679 #12178] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:20.939998 #12178]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:42:20.940080 #12178]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:42:20.940156 #12178]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:42:20.941537 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.943493 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137783103"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.945385 #12178] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "137783103"], ["date_of_birth", "2001-03-31"], ["phone", "4954617971"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.947297 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.959895 #12178]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:42:20 +0000
I, [2020-03-31T20:42:20.961379 #12178]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:42:20.961718 #12178]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:42:20.963316 #12178] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.965764 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.968063 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.970061 #12178] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:42:20.971638 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.972983 #12178]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:42:20.974162 #12178]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
D, [2020-03-31T20:42:20.981990 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:20.983140 #12178] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:20.983574 #12178]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:42:20.983670 #12178]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:42:20.983748 #12178]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:42:20.984971 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:20.986715 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "256968346"], ["LIMIT", 1]]
D, [2020-03-31T20:42:20.988444 #12178] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "256968346"], ["date_of_birth", "2001-03-31"], ["phone", "4792688558"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:20.989835 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:20.991156 #12178]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:42:20 +0000
I, [2020-03-31T20:42:20.992348 #12178]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:42:21.016214 #12178]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:42:21.028492 #12178] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:42:21.032825 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:21.034001 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:21.034355 #12178]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:42:21.034438 #12178]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:42:21.034501 #12178]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:42:21.035926 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.037750 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029440613"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.039479 #12178] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "029440613"], ["date_of_birth", "2001-03-31"], ["phone", "8761680207"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:21.040907 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.054584 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.056482 #12178] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.058105 #12178] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6502922051"], ["active", 1]]
D, [2020-03-31T20:42:21.059614 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.077209 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.079124 #12178] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:42:21.080682 #12178] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:42:21.082032 #12178] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.090574 #12178] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.092130 #12178] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:42:21.093260 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.094677 #12178]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:42:21 +0000
I, [2020-03-31T20:42:21.095923 #12178]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:42:21.096211 #12178]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:42:21.097198 #12178] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:42:21.100401 #12178]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:42:21.111601 #12178] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:42:21.116059 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:21.117113 #12178] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:21.117478 #12178]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:42:21.117560 #12178]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:42:21.117627 #12178]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:42:21.118909 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.120779 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228019777"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.122445 #12178] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228019777"], ["date_of_birth", "2001-03-31"], ["phone", "1124381390"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:21.124007 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.125340 #12178]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:42:21 +0000
I, [2020-03-31T20:42:21.126486 #12178]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:42:21.126789 #12178]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:42:21.127813 #12178] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:42:21.150262 #12178]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:42:21.161461 #12178] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:42:21.166619 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:21.167781 #12178] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:21.168123 #12178]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:42:21.168222 #12178]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:42:21.168329 #12178]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:42:21.169585 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.171549 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "276234351"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.173349 #12178] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "276234351"], ["date_of_birth", "2001-03-31"], ["phone", "3562406610"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:21.174934 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.176483 #12178]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:42:21 +0000
I, [2020-03-31T20:42:21.177898 #12178]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:42:21.178296 #12178]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:42:21.179263 #12178] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.180776 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.436884 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.438906 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.444053 #12178]  INFO -- : Completed 500  in 265ms (ActiveRecord: 0.4ms)
F, [2020-03-31T20:42:21.480272 #12178] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:42:21.485204 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:42:21.486563 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:42:21.486893 #12178]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:42:21.486979 #12178]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:42:21.487048 #12178]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:42:21.488416 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.490218 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273022286"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.491982 #12178] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "273022286"], ["date_of_birth", "2001-03-31"], ["phone", "6891563030"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:42:21.493409 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.495033 #12178]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:42:21 +0000
I, [2020-03-31T20:42:21.496228 #12178]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:42:21.496590 #12178]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:42:21.497917 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:42:21.500275 #12178] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:42:21.501757 #12178] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:42:21.504504 #12178]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:42:21.506095 #12178]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T20:42:21.507800 #12178]  INFO -- : Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 0.2ms)
D, [2020-03-31T20:42:21.511542 #12178] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:13.988080 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:47:14.075577 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.076049 #12535]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:47:14.076094 #12535]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:47:14.076118 #12535]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:47:14.174964 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.178822 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "386211108"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.180685 #12535] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386211108"], ["date_of_birth", "2001-03-31"], ["phone", "4530694139"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.181967 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.185124 #12535]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.194910 #12535]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:47:14.195216 #12535]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:47:14.200990 #12535] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:47:14.208690 #12535]  INFO -- : Completed 500  in 13ms (ActiveRecord: 0.2ms)
F, [2020-03-31T20:47:14.219876 #12535] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x0000000004f79be0>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:47:14.226567 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.227774 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.228131 #12535]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:47:14.228224 #12535]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:47:14.228306 #12535]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:47:14.229635 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.231619 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "335335814"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.233339 #12535] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "335335814"], ["date_of_birth", "2001-03-31"], ["phone", "4741816457"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.234702 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.236096 #12535]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.237285 #12535]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:47:14.260467 #12535]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:47:14.269562 #12535] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:47:14.274112 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.275115 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.275469 #12535]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:47:14.275549 #12535]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:47:14.275612 #12535]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:47:14.276893 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.278769 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "247663437"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.280692 #12535] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "247663437"], ["date_of_birth", "2001-03-31"], ["phone", "8952210457"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.282518 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.284309 #12535]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.300833 #12535]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:47:14.301190 #12535]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:47:14.302363 #12535] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.303832 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.470837 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.472918 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.478583 #12535]  INFO -- : Completed 500  in 177ms (ActiveRecord: 0.5ms)
F, [2020-03-31T20:47:14.490505 #12535] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:47:14.495179 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.496234 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.496583 #12535]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:47:14.496669 #12535]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:47:14.496735 #12535]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:47:14.497938 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.499741 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199461373"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.501435 #12535] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199461373"], ["date_of_birth", "2001-03-31"], ["phone", "8898708025"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.502787 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.504032 #12535]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
F, [2020-03-31T20:47:14.519933 #12535] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:47:14.523648 #12535] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.524444 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.524779 #12535]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:47:14.524861 #12535]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:47:14.524927 #12535]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:47:14.526146 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.527923 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303498600"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.529575 #12535] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303498600"], ["date_of_birth", "2001-03-31"], ["phone", "1473763620"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.530889 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.531970 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:47:14.534358 #12535]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.535628 #12535]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:47:14.535941 #12535]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:47:14.537294 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.539008 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.540628 #12535] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.542082 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.543093 #12535]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:47:14.544177 #12535]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:47:14.548988 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:47:14.569519 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.570771 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.571120 #12535]  INFO -- : --------------------------------------------
I, [2020-03-31T20:47:14.571204 #12535]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:47:14.571379 #12535]  INFO -- : --------------------------------------------
D, [2020-03-31T20:47:14.572708 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.574541 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "227113804"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.576313 #12535] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "227113804"], ["date_of_birth", "2001-03-31"], ["phone", "7171975286"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.577847 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.579259 #12535]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.580558 #12535]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:47:14.581895 #12535]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:47:14.582837 #12535]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:47:14.585901 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.586917 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.587316 #12535]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:47:14.587407 #12535]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:47:14.587471 #12535]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:47:14.588648 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.590421 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057827802"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.592081 #12535] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057827802"], ["date_of_birth", "2001-03-31"], ["phone", "0351331797"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.593567 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.607904 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.609789 #12535] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.611492 #12535] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7590600479"], ["active", 1]]
D, [2020-03-31T20:47:14.612917 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.631612 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.633578 #12535] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:47:14.635038 #12535] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:47:14.636433 #12535] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.645657 #12535] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.647045 #12535] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:47:14.648383 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.649834 #12535]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.650966 #12535]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:47:14.651245 #12535]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:47:14.652277 #12535] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:47:14.655322 #12535]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:47:14.666616 #12535] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:47:14.671465 #12535] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.672555 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.672883 #12535]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:47:14.672961 #12535]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:47:14.673060 #12535]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:47:14.674408 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.676541 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129478184"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.678182 #12535] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "129478184"], ["date_of_birth", "2001-03-31"], ["phone", "1300460786"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.679546 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.681226 #12535]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.682299 #12535]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:47:14.682601 #12535]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:47:14.683886 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.685993 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.687698 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.690477 #12535]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:47:14.692242 #12535]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T20:47:14.693808 #12535]  INFO -- : Completed 200 OK in 11ms (Views: 4.7ms | ActiveRecord: 0.2ms)
D, [2020-03-31T20:47:14.697213 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:47:14.698000 #12535] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:47:14.698342 #12535]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:47:14.698419 #12535]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:47:14.698486 #12535]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:47:14.699615 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.701422 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342298082"], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.703804 #12535] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342298082"], ["date_of_birth", "2001-03-31"], ["phone", "6069456823"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:47:14.705139 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.706560 #12535]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:47:14 +0000
I, [2020-03-31T20:47:14.707809 #12535]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:47:14.708138 #12535]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:47:14.709314 #12535] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.710696 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:47:14.712656 #12535] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:47:14.714533 #12535] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:47:14.715916 #12535] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:47:14.716987 #12535]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:47:14.718046 #12535]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:47:14.725480 #12535] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:42.795822 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:50:42.882731 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:42.883185 #12796]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:50:42.883263 #12796]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:50:42.883371 #12796]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:50:42.982643 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:42.986016 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "055393975"], ["LIMIT", 1]]
D, [2020-03-31T20:50:42.987819 #12796] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055393975"], ["date_of_birth", "2001-03-31"], ["phone", "3229664265"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:42.989061 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:42.991963 #12796]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:50:42 +0000
F, [2020-03-31T20:50:43.038709 #12796] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:50:43.045249 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.046197 #12796] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.046565 #12796]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:50:43.046649 #12796]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:50:43.046711 #12796]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:50:43.048003 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.049875 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "243991752"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.051616 #12796] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "243991752"], ["date_of_birth", "2001-03-31"], ["phone", "0197915885"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.053061 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.079299 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.081211 #12796] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.082867 #12796] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0420924353"], ["active", 1]]
D, [2020-03-31T20:50:43.084262 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.101491 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.103453 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:50:43.105634 #12796] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:50:43.107387 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.116113 #12796] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.117585 #12796] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:50:43.118659 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.120173 #12796]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.121404 #12796]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:50:43.121706 #12796]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:50:43.126599 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:50:43.129897 #12796]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:50:43.139828 #12796] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:50:43.144250 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.145282 #12796] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.145617 #12796]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:50:43.145699 #12796]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:50:43.145763 #12796]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:50:43.147028 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.148934 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072713720"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.150700 #12796] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "072713720"], ["date_of_birth", "2001-03-31"], ["phone", "4262275121"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.152175 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.153686 #12796]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.159422 #12796]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:50:43.159834 #12796]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:50:43.160847 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.162338 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.312418 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.314735 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.320467 #12796]  INFO -- : Completed 500  in 160ms (ActiveRecord: 0.5ms)
F, [2020-03-31T20:50:43.333026 #12796] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:50:43.341811 #12796] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.344358 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.344869 #12796]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:50:43.344996 #12796]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:50:43.345098 #12796]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:50:43.346844 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.349574 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143939885"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.352112 #12796] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143939885"], ["date_of_birth", "2001-03-31"], ["phone", "8658775783"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.354180 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.356130 #12796]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.357750 #12796]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:50:43.358264 #12796]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:50:43.359607 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:50:43.368582 #12796]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:50:43.391538 #12796] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x00000000078cc240>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:50:43.395931 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.397050 #12796] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.397477 #12796]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:50:43.397564 #12796]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:50:43.397638 #12796]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:50:43.398892 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.400789 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199148921"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.402640 #12796] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199148921"], ["date_of_birth", "2001-03-31"], ["phone", "5353053955"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.404179 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.405638 #12796]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.406760 #12796]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:50:43.430048 #12796]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:50:43.440338 #12796] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:50:43.444434 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.445461 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.445803 #12796]  INFO -- : --------------------------------------------
I, [2020-03-31T20:50:43.445886 #12796]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:50:43.445950 #12796]  INFO -- : --------------------------------------------
D, [2020-03-31T20:50:43.447129 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.448908 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095719133"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.450564 #12796] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095719133"], ["date_of_birth", "2001-03-31"], ["phone", "4780171184"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.452032 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.453286 #12796]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.454397 #12796]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:50:43.455787 #12796]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:50:43.456627 #12796]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:50:43.459693 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.460633 #12796] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.460939 #12796]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:50:43.461021 #12796]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:50:43.461085 #12796]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:50:43.462136 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.463744 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246377516"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.465343 #12796] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246377516"], ["date_of_birth", "2001-03-31"], ["phone", "5513235885"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.466686 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.467993 #12796]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.469071 #12796]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:50:43.469392 #12796]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:50:43.470219 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.471658 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.473613 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.475578 #12796] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:50:43.476976 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.478022 #12796]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:50:43.479077 #12796]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:50:43.489242 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.490198 #12796] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.490532 #12796]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:50:43.490620 #12796]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:50:43.490686 #12796]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:50:43.491802 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.493411 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367321754"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.495009 #12796] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367321754"], ["date_of_birth", "2001-03-31"], ["phone", "8101356657"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.496382 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.497437 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:50:43.499855 #12796]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.501064 #12796]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:50:43.501421 #12796]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:50:43.502783 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.504597 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.506242 #12796] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.508046 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.522839 #12796]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:50:43.524043 #12796]  INFO -- : Completed 302 Found in 22ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:50:43.529134 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:50:43.530309 #12796] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:50:43.531552 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:50:43.532362 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:50:43.532662 #12796]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:50:43.532771 #12796]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:50:43.532835 #12796]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:50:43.534180 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.535795 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "092242496"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.537390 #12796] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "092242496"], ["date_of_birth", "2001-03-31"], ["phone", "5722520514"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:50:43.538707 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.540241 #12796]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:50:43 +0000
I, [2020-03-31T20:50:43.541225 #12796]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:50:43.541549 #12796]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:50:43.542775 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:50:43.544962 #12796] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:50:43.546338 #12796] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:50:43.548966 #12796]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:50:43.550490 #12796]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T20:50:43.552147 #12796]  INFO -- : Completed 200 OK in 10ms (Views: 4.3ms | ActiveRecord: 0.2ms)
D, [2020-03-31T20:50:43.555779 #12796] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:10.375006 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:51:10.461339 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:10.461781 #12865]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:51:10.461825 #12865]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:51:10.461847 #12865]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:51:10.559550 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.562908 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "199505108"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.564722 #12865] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199505108"], ["date_of_birth", "2001-03-31"], ["phone", "9251748322"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:10.565952 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:10.569001 #12865]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:51:10 +0000
I, [2020-03-31T20:51:10.578657 #12865]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:51:10.605307 #12865]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:51:10.633172 #12865] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:51:10.639732 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:10.641670 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:10.641997 #12865]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:51:10.642089 #12865]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:51:10.642155 #12865]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:51:10.643579 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.645477 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193369538"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.647190 #12865] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "193369538"], ["date_of_birth", "2001-03-31"], ["phone", "2822523756"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:10.648599 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:10.655188 #12865]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:51:10 +0000
I, [2020-03-31T20:51:10.656552 #12865]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:51:10.656873 #12865]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:51:10.658435 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.848800 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.850620 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:10.855315 #12865]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:51:10.856955 #12865]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T20:51:10.858725 #12865]  INFO -- : Completed 200 OK in 201ms (Views: 6.5ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:51:10.862774 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:10.864330 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:10.864707 #12865]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:51:10.864837 #12865]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:51:10.864918 #12865]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:51:10.866228 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.868244 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373268013"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.870006 #12865] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373268013"], ["date_of_birth", "2001-03-31"], ["phone", "9116311881"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:10.871584 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.872779 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:51:10.874823 #12865]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:51:10 +0000
I, [2020-03-31T20:51:10.876290 #12865]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:51:10.876664 #12865]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:51:10.878390 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.880421 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.882210 #12865] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:10.883820 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:10.885017 #12865]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:51:10.886350 #12865]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:51:10.892101 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:51:10.893565 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:51:10.896178 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:10.897510 #12865] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:10.897876 #12865]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:51:10.897969 #12865]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:51:10.898038 #12865]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:51:10.899659 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.902123 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384544931"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.904141 #12865] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384544931"], ["date_of_birth", "2001-03-31"], ["phone", "1019898496"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:10.905812 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.922531 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.924833 #12865] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.926551 #12865] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2831930417"], ["active", 1]]
D, [2020-03-31T20:51:10.928109 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.948111 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:10.950410 #12865] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:51:10.952039 #12865] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:51:10.953975 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.963996 #12865] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:10.965553 #12865] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:51:10.966614 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:10.968490 #12865]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:51:10 +0000
I, [2020-03-31T20:51:10.969797 #12865]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:51:10.970080 #12865]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:51:10.971109 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:51:10.974591 #12865]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:51:11.008034 #12865] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:51:11.013080 #12865] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:11.014950 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:11.015456 #12865]  INFO -- : --------------------------------------------
I, [2020-03-31T20:51:11.015560 #12865]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:51:11.015658 #12865]  INFO -- : --------------------------------------------
D, [2020-03-31T20:51:11.017317 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.019487 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197716738"], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.021552 #12865] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197716738"], ["date_of_birth", "2001-03-31"], ["phone", "6876661318"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:11.023387 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.024753 #12865]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:51:11 +0000
I, [2020-03-31T20:51:11.026225 #12865]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:51:11.027992 #12865]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:51:11.028854 #12865]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:51:11.032374 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:11.034252 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:11.034640 #12865]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:51:11.034733 #12865]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:51:11.034840 #12865]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:51:11.036312 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.038340 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054604867"], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.040378 #12865] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054604867"], ["date_of_birth", "2001-03-31"], ["phone", "0129676513"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:11.042015 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.043581 #12865]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:51:11 +0000
I, [2020-03-31T20:51:11.045068 #12865]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:51:11.045417 #12865]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:51:11.046534 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:51:11.053674 #12865]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:51:11.081476 #12865] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x00000000068816b0>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:51:11.086025 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:11.087598 #12865] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:11.087979 #12865]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:51:11.088099 #12865]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:51:11.088179 #12865]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:51:11.089646 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.091431 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193366603"], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.093093 #12865] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "193366603"], ["date_of_birth", "2001-03-31"], ["phone", "2843612560"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:11.094835 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.096157 #12865]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:51:11 +0000
F, [2020-03-31T20:51:11.128256 #12865] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:51:11.132428 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:11.133622 #12865] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:11.134022 #12865]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:51:11.134111 #12865]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:51:11.134184 #12865]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:51:11.135907 #12865] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.137676 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106503302"], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.139473 #12865] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "106503302"], ["date_of_birth", "2001-03-31"], ["phone", "7244143228"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:11.141051 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.142812 #12865]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:51:11 +0000
I, [2020-03-31T20:51:11.144513 #12865]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:51:11.144942 #12865]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:51:11.146106 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.147905 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.151118 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.152976 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.157478 #12865]  INFO -- : Completed 500  in 12ms (ActiveRecord: 0.4ms)
F, [2020-03-31T20:51:11.186561 #12865] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:51:11.191537 #12865] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:51:11.192653 #12865] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:51:11.192990 #12865]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:51:11.193068 #12865]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:51:11.193127 #12865]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:51:11.194393 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.197122 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091771091"], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.198803 #12865] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091771091"], ["date_of_birth", "2001-03-31"], ["phone", "7982467916"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:51:11.200173 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.201691 #12865]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:51:11 +0000
I, [2020-03-31T20:51:11.203072 #12865]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:51:11.203440 #12865]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:51:11.204384 #12865] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.205790 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:51:11.208091 #12865] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:51:11.210013 #12865] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:51:11.211523 #12865] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:51:11.212632 #12865]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:51:11.213705 #12865]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:51:11.218755 #12865] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.193640 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:52:08.279547 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.279989 #12970]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:52:08.280036 #12970]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:52:08.280062 #12970]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:52:08.378504 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.381800 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "011605207"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.383579 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011605207"], ["date_of_birth", "2001-03-31"], ["phone", "0808554195"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.384807 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.388219 #12970]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.402294 #12970]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:52:08.402620 #12970]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:52:08.408455 #12970] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.411015 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.413649 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.415775 #12970] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:52:08.417236 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.418686 #12970]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:52:08.419933 #12970]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-03-31T20:52:08.429746 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.430700 #12970] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.431013 #12970]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:52:08.431090 #12970]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:52:08.431149 #12970]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:52:08.432500 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.434345 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326116367"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.436110 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326116367"], ["date_of_birth", "2001-03-31"], ["phone", "5776831906"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.437504 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.439225 #12970]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.440542 #12970]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:52:08.440875 #12970]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:52:08.442282 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.637601 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.639543 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.644710 #12970]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:52:08.646569 #12970]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T20:52:08.648672 #12970]  INFO -- : Completed 200 OK in 207ms (Views: 7.2ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:52:08.653218 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.654239 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.654644 #12970]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:52:08.654761 #12970]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:52:08.654832 #12970]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:52:08.656353 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.658616 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305556888"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.660690 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305556888"], ["date_of_birth", "2001-03-31"], ["phone", "8318381461"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.662371 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.663928 #12970]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
F, [2020-03-31T20:52:08.683823 #12970] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:52:08.688392 #12970] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.689372 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.689763 #12970]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:52:08.689849 #12970]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:52:08.689937 #12970]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:52:08.691341 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.693384 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307477626"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.695345 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "307477626"], ["date_of_birth", "2001-03-31"], ["phone", "3606051691"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.696939 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.698430 #12970]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.699753 #12970]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:52:08.726002 #12970]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:52:08.736622 #12970] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:52:08.741565 #12970] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.742743 #12970] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.743132 #12970]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:52:08.743268 #12970]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:52:08.743380 #12970]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:52:08.744721 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.746660 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145283957"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.748571 #12970] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "145283957"], ["date_of_birth", "2001-03-31"], ["phone", "4845817559"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.750013 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.751234 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:52:08.753046 #12970]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.754299 #12970]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:52:08.754728 #12970]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:52:08.756208 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.758041 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.759853 #12970] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.761355 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.762376 #12970]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:52:08.763535 #12970]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:52:08.768695 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:52:08.769927 #12970] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:52:08.771264 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.772124 #12970] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.772477 #12970]  INFO -- : --------------------------------------------
I, [2020-03-31T20:52:08.772575 #12970]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:52:08.772641 #12970]  INFO -- : --------------------------------------------
D, [2020-03-31T20:52:08.773864 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.775737 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164455589"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.777562 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164455589"], ["date_of_birth", "2001-03-31"], ["phone", "9601098663"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.778991 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.780456 #12970]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.781807 #12970]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:52:08.783259 #12970]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:52:08.784205 #12970]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:52:08.787501 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.788610 #12970] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.789002 #12970]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:52:08.789093 #12970]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:52:08.789157 #12970]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:52:08.790418 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.792331 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "256792875"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.794120 #12970] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "256792875"], ["date_of_birth", "2001-03-31"], ["phone", "6537456550"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.795587 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.810299 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.812301 #12970] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.813885 #12970] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6160105997"], ["active", 1]]
D, [2020-03-31T20:52:08.815226 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.833267 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.835319 #12970] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:52:08.836710 #12970] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:52:08.838036 #12970] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.847561 #12970] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.849086 #12970] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:52:08.850315 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.851857 #12970]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.853006 #12970]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:52:08.853302 #12970]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:52:08.854403 #12970] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:52:08.857702 #12970]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:52:08.867639 #12970] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:52:08.872059 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.873172 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.873503 #12970]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:52:08.873579 #12970]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:52:08.873642 #12970]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:52:08.874917 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.876774 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038955699"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.878454 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038955699"], ["date_of_birth", "2001-03-31"], ["phone", "5798417204"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.879865 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.881432 #12970]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.882772 #12970]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:52:08.883099 #12970]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:52:08.884134 #12970] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.885584 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.888634 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.890653 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.895063 #12970]  INFO -- : Completed 500  in 12ms (ActiveRecord: 0.4ms)
F, [2020-03-31T20:52:08.907796 #12970] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:52:08.912429 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:52:08.913451 #12970] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:52:08.913767 #12970]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:52:08.913844 #12970]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:52:08.913904 #12970]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:52:08.915170 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:52:08.917035 #12970] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229807137"], ["LIMIT", 1]]
D, [2020-03-31T20:52:08.918762 #12970] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229807137"], ["date_of_birth", "2001-03-31"], ["phone", "4469517399"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:52:08.920229 #12970] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:52:08.921613 #12970]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:52:08 +0000
I, [2020-03-31T20:52:08.922869 #12970]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:52:08.923160 #12970]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:52:08.924270 #12970] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:52:08.946024 #12970]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:52:08.955393 #12970] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:52:08.959522 #12970] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.403167 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:54:35.527723 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.528156 #13155]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:54:35.528202 #13155]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:54:35.528224 #13155]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:54:35.627348 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.631125 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148872054"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.632930 #13155] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148872054"], ["date_of_birth", "2001-03-31"], ["phone", "2758587177"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.634127 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.641954 #13155]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:54:35 +0000
I, [2020-03-31T20:54:35.651216 #13155]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:54:35.651586 #13155]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:54:35.656858 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.831221 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.832909 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.837365 #13155]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:54:35.838866 #13155]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T20:54:35.840704 #13155]  INFO -- : Completed 200 OK in 189ms (Views: 6.2ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:54:35.847152 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.848145 #13155] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.848461 #13155]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:54:35.848540 #13155]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:54:35.848601 #13155]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:54:35.849965 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.851838 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246753543"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.853513 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246753543"], ["date_of_birth", "2001-03-31"], ["phone", "8756220983"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.854929 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.856526 #13155]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:54:35 +0000
I, [2020-03-31T20:54:35.858070 #13155]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:54:35.858427 #13155]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:54:35.860013 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.862472 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.865345 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.867341 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.871578 #13155]  INFO -- : Completed 500  in 13ms (ActiveRecord: 0.4ms)
F, [2020-03-31T20:54:35.884706 #13155] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:54:35.889553 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.890652 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.890976 #13155]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:54:35.891053 #13155]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:54:35.891124 #13155]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:54:35.892402 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.894192 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134761393"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.895920 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134761393"], ["date_of_birth", "2001-03-31"], ["phone", "8290748203"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.897291 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.898392 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:54:35.900121 #13155]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:54:35 +0000
I, [2020-03-31T20:54:35.901251 #13155]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:54:35.901559 #13155]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:54:35.902923 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.904562 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.906159 #13155] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.907736 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.908775 #13155]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:54:35.909810 #13155]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:54:35.914773 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:54:35.915938 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:54:35.918082 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.918939 #13155] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.919247 #13155]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:54:35.919416 #13155]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:54:35.919483 #13155]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:54:35.920695 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.922346 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182273378"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.924043 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182273378"], ["date_of_birth", "2001-03-31"], ["phone", "0503727455"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.925492 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.927054 #13155]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:54:35 +0000
I, [2020-03-31T20:54:35.928386 #13155]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:54:35.928708 #13155]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:54:35.929692 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.931097 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.933174 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.935326 #13155] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:54:35.936848 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.938057 #13155]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:54:35.939265 #13155]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:54:35.945114 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.945935 #13155] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.946289 #13155]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:54:35.946367 #13155]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:54:35.946429 #13155]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:54:35.947614 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:35.949322 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "018112896"], ["LIMIT", 1]]
D, [2020-03-31T20:54:35.951115 #13155] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "018112896"], ["date_of_birth", "2001-03-31"], ["phone", "1821502414"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:35.952664 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:35.954007 #13155]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:54:35 +0000
I, [2020-03-31T20:54:35.955152 #13155]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:54:35.977985 #13155]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:54:35.990245 #13155] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:54:35.994905 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:35.996044 #13155] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:35.996451 #13155]  INFO -- : --------------------------------------------
I, [2020-03-31T20:54:35.996536 #13155]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:54:35.996600 #13155]  INFO -- : --------------------------------------------
D, [2020-03-31T20:54:35.997938 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.000085 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372725323"], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.002263 #13155] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "372725323"], ["date_of_birth", "2001-03-31"], ["phone", "3756585267"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:36.004077 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:36.005679 #13155]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:54:36 +0000
I, [2020-03-31T20:54:36.007272 #13155]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:54:36.009021 #13155]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:54:36.010098 #13155]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:54:36.013984 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:36.015489 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:36.015870 #13155]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:54:36.015979 #13155]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:54:36.016103 #13155]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:54:36.017685 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.019494 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "359741659"], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.021148 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "359741659"], ["date_of_birth", "2001-03-31"], ["phone", "8900806633"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:36.022591 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:36.023926 #13155]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:54:36 +0000
I, [2020-03-31T20:54:36.025018 #13155]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:54:36.025323 #13155]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:54:36.026276 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:54:36.032814 #13155]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:54:36.043089 #13155] FATAL -- : 
NoMethodError - undefined method `edit' for #<Class:0x0000000006945ec0>:
  app/controllers/employees_controller.rb:34:in `edit'
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:54:36.047325 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:36.048381 #13155] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:36.048704 #13155]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:54:36.048806 #13155]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:54:36.048874 #13155]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:54:36.050047 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.051872 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337042524"], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.053640 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "337042524"], ["date_of_birth", "2001-03-31"], ["phone", "2980266539"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:36.055021 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:36.056289 #13155]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:54:36 +0000
F, [2020-03-31T20:54:36.074497 #13155] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:54:36.078500 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:54:36.079444 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:54:36.079789 #13155]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:54:36.079868 #13155]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:54:36.079932 #13155]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:54:36.081126 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.082901 #13155] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083579440"], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.084701 #13155] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "083579440"], ["date_of_birth", "2001-03-31"], ["phone", "6603703639"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:54:36.096319 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.109649 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.111611 #13155] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.113159 #13155] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8434603566"], ["active", 1]]
D, [2020-03-31T20:54:36.114488 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.131470 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:54:36.133354 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:54:36.134769 #13155] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:54:36.136142 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.144413 #13155] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:54:36.145756 #13155] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:54:36.146793 #13155] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:54:36.148208 #13155]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:54:36 +0000
I, [2020-03-31T20:54:36.149279 #13155]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:54:36.149581 #13155]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:54:36.150544 #13155] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:54:36.153532 #13155]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:54:36.165042 #13155] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:54:36.169520 #13155] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.287576 #13269] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:55:39.401090 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.401594 #13269]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:55:39.401641 #13269]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:55:39.401666 #13269]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:55:39.501930 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.505426 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179161473"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.507325 #13269] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179161473"], ["date_of_birth", "2001-03-31"], ["phone", "3855906814"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.508611 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.516942 #13269]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.526818 #13269]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:55:39.527146 #13269]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:55:39.532879 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.724543 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.726357 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.730983 #13269]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:55:39.732615 #13269]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T20:55:39.734445 #13269]  INFO -- : Completed 200 OK in 207ms (Views: 6.4ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:55:39.741431 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.743081 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.743455 #13269]  INFO -- : --------------------------------------------
I, [2020-03-31T20:55:39.743545 #13269]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:55:39.743615 #13269]  INFO -- : --------------------------------------------
D, [2020-03-31T20:55:39.745044 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.747015 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113485828"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.748907 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113485828"], ["date_of_birth", "2001-03-31"], ["phone", "1613726136"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.750407 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.751906 #13269]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.753356 #13269]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:55:39.754970 #13269]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:55:39.755935 #13269]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:55:39.760292 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.762277 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.762663 #13269]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:55:39.762750 #13269]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:55:39.762831 #13269]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:55:39.764218 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.766138 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213871538"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.767994 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "213871538"], ["date_of_birth", "2001-03-31"], ["phone", "6770805519"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.769499 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.771170 #13269]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.772621 #13269]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:55:39.773040 #13269]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:55:39.774505 #13269] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.777167 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.780332 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.782418 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.787149 #13269]  INFO -- : Completed 500  in 14ms (ActiveRecord: 0.5ms)
F, [2020-03-31T20:55:39.802752 #13269] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:55:39.807991 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.809128 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.809486 #13269]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:55:39.809569 #13269]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:55:39.809629 #13269]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:55:39.810937 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.812838 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "092008801"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.814671 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "092008801"], ["date_of_birth", "2001-03-31"], ["phone", "9164606709"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.816224 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.830682 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.832784 #13269] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.834503 #13269] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5828069912"], ["active", 1]]
D, [2020-03-31T20:55:39.835926 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.854673 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.856797 #13269] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:55:39.858365 #13269] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:55:39.859882 #13269] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.869073 #13269] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.870603 #13269] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:55:39.871749 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.873244 #13269]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.874411 #13269]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:55:39.874788 #13269]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:55:39.875885 #13269] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:55:39.879103 #13269]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:55:39.891441 #13269] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:55:39.896403 #13269] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.897573 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.897965 #13269]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:55:39.898054 #13269]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:55:39.898121 #13269]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:55:39.899558 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.901540 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179097370"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.903383 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179097370"], ["date_of_birth", "2001-03-31"], ["phone", "9420947623"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.904932 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.906439 #13269]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.907846 #13269]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:55:39.908199 #13269]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:55:39.909188 #13269] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.910664 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.913046 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.915254 #13269] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:55:39.916833 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.918141 #13269]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:55:39.920461 #13269]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:55:39.926417 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.928019 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.928402 #13269]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:55:39.928490 #13269]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:55:39.928558 #13269]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:55:39.929913 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.932044 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "080138356"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.934055 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "080138356"], ["date_of_birth", "2001-03-31"], ["phone", "1420999975"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.935565 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.936945 #13269]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
F, [2020-03-31T20:55:39.973890 #13269] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:55:39.978610 #13269] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:39.979586 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:39.979959 #13269]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:55:39.980044 #13269]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:55:39.980123 #13269]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:55:39.981448 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:39.983472 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109629965"], ["LIMIT", 1]]
D, [2020-03-31T20:55:39.985500 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109629965"], ["date_of_birth", "2001-03-31"], ["phone", "0586839775"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:39.987049 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:39.988581 #13269]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:55:39 +0000
I, [2020-03-31T20:55:39.989903 #13269]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:55:39.990203 #13269]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:55:39.991266 #13269] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:55:40.014705 #13269]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:55:40.025197 #13269] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:55:40.029546 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:40.030645 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:40.030960 #13269]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:55:40.031038 #13269]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:55:40.031136 #13269]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:55:40.032551 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:40.034407 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242301875"], ["LIMIT", 1]]
D, [2020-03-31T20:55:40.036139 #13269] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242301875"], ["date_of_birth", "2001-03-31"], ["phone", "7390958237"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:40.037595 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:40.038701 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:55:40.040405 #13269]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:55:40 +0000
I, [2020-03-31T20:55:40.041589 #13269]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:55:40.041913 #13269]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:55:40.043244 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:40.044997 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:55:40.046671 #13269] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:40.053115 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:40.054729 #13269]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:55:40.056825 #13269]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:55:40.065610 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:55:40.067727 #13269] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:55:40.069719 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:55:40.071957 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:55:40.072505 #13269]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:55:40.072644 #13269]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:55:40.072779 #13269]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:55:40.074589 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:55:40.077394 #13269] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303251761"], ["LIMIT", 1]]
D, [2020-03-31T20:55:40.080634 #13269] DEBUG -- :   [1m[36mEmployee Create (0.8ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303251761"], ["date_of_birth", "2001-03-31"], ["phone", "7853784570"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:55:40.083192 #13269] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:55:40.085279 #13269]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:55:40 +0000
I, [2020-03-31T20:55:40.087118 #13269]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:55:40.114092 #13269]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:55:40.151609 #13269] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:55:40.155865 #13269] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.258946 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:58:15.356116 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.356554 #13473]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:58:15.356615 #13473]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:58:15.356657 #13473]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:58:15.462184 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.466367 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054617570"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.468417 #13473] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054617570"], ["date_of_birth", "2001-03-31"], ["phone", "1612352446"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.469833 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.473444 #13473]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
F, [2020-03-31T20:58:15.500657 #13473] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:58:15.507322 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.508376 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.508704 #13473]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:58:15.508789 #13473]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:58:15.508865 #13473]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:58:15.510265 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.512264 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035725871"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.513989 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "035725871"], ["date_of_birth", "2001-03-31"], ["phone", "6736496559"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.515424 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.530266 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.532343 #13473] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.533989 #13473] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4318567553"], ["active", 1]]
D, [2020-03-31T20:58:15.535427 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.554144 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.556309 #13473] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:58:15.558687 #13473] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:58:15.560497 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.569961 #13473] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.571621 #13473] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:58:15.572931 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.574602 #13473]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.576194 #13473]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:58:15.576600 #13473]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:58:15.581804 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:58:15.597541 #13473]  INFO -- : Completed 500  in 21ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:58:15.611664 #13473] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:14:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:58:15.616857 #13473] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.618423 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.618896 #13473]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:58:15.619015 #13473]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:58:15.619134 #13473]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:58:15.621046 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.622959 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "173754814"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.624848 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "173754814"], ["date_of_birth", "2001-03-31"], ["phone", "4812777705"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.626362 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.633296 #13473]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.634648 #13473]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:58:15.635000 #13473]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:58:15.636570 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.814472 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.816427 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.820811 #13473]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:58:15.822390 #13473]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T20:58:15.824225 #13473]  INFO -- : Completed 200 OK in 189ms (Views: 6.1ms | ActiveRecord: 0.4ms)
D, [2020-03-31T20:58:15.828390 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.829537 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.830001 #13473]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:58:15.830095 #13473]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:58:15.830169 #13473]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:58:15.831570 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.833477 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230985907"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.835335 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "230985907"], ["date_of_birth", "2001-03-31"], ["phone", "9035327843"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.836853 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.838587 #13473]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.840267 #13473]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:58:15.840608 #13473]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:58:15.841721 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.843394 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.845889 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.848183 #13473] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:58:15.849669 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.850975 #13473]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:58:15.852268 #13473]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:58:15.857859 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.858939 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.859538 #13473]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:58:15.859635 #13473]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:58:15.859711 #13473]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:58:15.860961 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.862775 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "202282921"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.864587 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202282921"], ["date_of_birth", "2001-03-31"], ["phone", "2944031666"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.866029 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.867466 #13473]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.868688 #13473]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:58:15.869037 #13473]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:58:15.870056 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:58:15.892503 #13473]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:58:15.911584 #13473] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:58:15.919786 #13473] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.921745 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.922360 #13473]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:58:15.922517 #13473]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:58:15.922672 #13473]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:58:15.924484 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.926321 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103118525"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.928128 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103118525"], ["date_of_birth", "2001-03-31"], ["phone", "8957647340"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.929494 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.930665 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:58:15.932375 #13473]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.933500 #13473]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:58:15.933865 #13473]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:58:15.935202 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.937139 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.938824 #13473] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.940381 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.941386 #13473]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:58:15.942464 #13473]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:58:15.947505 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:58:15.948686 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:58:15.949894 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.950911 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.951453 #13473]  INFO -- : --------------------------------------------
I, [2020-03-31T20:58:15.951545 #13473]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:58:15.951616 #13473]  INFO -- : --------------------------------------------
D, [2020-03-31T20:58:15.952796 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.954541 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379155927"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.956292 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "379155927"], ["date_of_birth", "2001-03-31"], ["phone", "7078387030"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.957684 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.960258 #13473]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.961612 #13473]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:58:15.963211 #13473]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:58:15.964187 #13473]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:58:15.967471 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:15.969230 #13473] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:15.969696 #13473]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:58:15.969787 #13473]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:58:15.969862 #13473]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:58:15.971131 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:15.972945 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241260521"], ["LIMIT", 1]]
D, [2020-03-31T20:58:15.974671 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241260521"], ["date_of_birth", "2001-03-31"], ["phone", "7777656167"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:15.976150 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:15.977508 #13473]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:58:15 +0000
I, [2020-03-31T20:58:15.978636 #13473]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:58:16.001023 #13473]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:58:16.026739 #13473] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:58:16.030935 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:58:16.032507 #13473] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:58:16.032874 #13473]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:58:16.032956 #13473]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:58:16.033017 #13473]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:58:16.034261 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:16.036136 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "203884830"], ["LIMIT", 1]]
D, [2020-03-31T20:58:16.037842 #13473] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "203884830"], ["date_of_birth", "2001-03-31"], ["phone", "2396277172"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:58:16.039484 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:16.041013 #13473]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:58:16 +0000
I, [2020-03-31T20:58:16.042250 #13473]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:58:16.042577 #13473]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:58:16.043545 #13473] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:16.044910 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:58:16.047614 #13473] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:58:16.049406 #13473] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:58:16.053197 #13473]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.3ms)
F, [2020-03-31T20:58:16.083919 #13473] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:58:16.088697 #13473] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.463155 #13561] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T20:59:05.598320 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.598787 #13561]  INFO -- : ----------------------------------------------
I, [2020-03-31T20:59:05.598841 #13561]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T20:59:05.598866 #13561]  INFO -- : ----------------------------------------------
D, [2020-03-31T20:59:05.700329 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.703742 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303746483"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.705549 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303746483"], ["date_of_birth", "2001-03-31"], ["phone", "6791155329"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.706749 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.709714 #13561]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
I, [2020-03-31T20:59:05.719086 #13561]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T20:59:05.746549 #13561]  INFO -- : Completed 500  in 27ms (ActiveRecord: 0.0ms)
F, [2020-03-31T20:59:05.757433 #13561] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:59:05.764455 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.765859 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.766217 #13561]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T20:59:05.766380 #13561]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T20:59:05.766456 #13561]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T20:59:05.767915 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.769955 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282089851"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.783607 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "282089851"], ["date_of_birth", "2001-03-31"], ["phone", "8486808891"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.785152 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.786461 #13561]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
F, [2020-03-31T20:59:05.802344 #13561] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:59:05.806190 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.807030 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.807388 #13561]  INFO -- : --------------------------------------------------
I, [2020-03-31T20:59:05.807473 #13561]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T20:59:05.807535 #13561]  INFO -- : --------------------------------------------------
D, [2020-03-31T20:59:05.808755 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.810426 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178393249"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.812128 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178393249"], ["date_of_birth", "2001-03-31"], ["phone", "1169164487"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.813467 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.826998 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.828968 #13561] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.830642 #13561] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2770271735"], ["active", 1]]
D, [2020-03-31T20:59:05.832101 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.849435 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.851392 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:59:05.853623 #13561] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T20:59:05.855415 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.864637 #13561] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.866023 #13561] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T20:59:05.867089 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.868561 #13561]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
I, [2020-03-31T20:59:05.869726 #13561]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T20:59:05.870050 #13561]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:59:05.870984 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:59:05.874120 #13561]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:59:05.883564 #13561] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:14:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:59:05.887815 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.888860 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.889198 #13561]  INFO -- : ---------------------------------------------
I, [2020-03-31T20:59:05.889279 #13561]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T20:59:05.889340 #13561]  INFO -- : ---------------------------------------------
D, [2020-03-31T20:59:05.890563 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.892321 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "161825520"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.893981 #13561] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "161825520"], ["date_of_birth", "2001-03-31"], ["phone", "3299362745"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.895426 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.896666 #13561]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
I, [2020-03-31T20:59:05.897733 #13561]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T20:59:05.898045 #13561]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T20:59:05.898942 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T20:59:05.921200 #13561]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.1ms)
F, [2020-03-31T20:59:05.930398 #13561] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:59:05.934620 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.935727 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.936045 #13561]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:59:05.936123 #13561]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T20:59:05.936183 #13561]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:59:05.937368 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.939110 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317655809"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.940835 #13561] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317655809"], ["date_of_birth", "2001-03-31"], ["phone", "2887330664"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.942242 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.943723 #13561]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
I, [2020-03-31T20:59:05.949320 #13561]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:59:05.949664 #13561]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:59:05.950655 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.952219 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.954505 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.956678 #13561] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T20:59:05.958212 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.959656 #13561]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T20:59:05.960820 #13561]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T20:59:05.967725 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:05.968681 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:05.969045 #13561]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T20:59:05.969127 #13561]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T20:59:05.969203 #13561]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T20:59:05.970495 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.972434 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306650034"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.974229 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306650034"], ["date_of_birth", "2001-03-31"], ["phone", "1443209598"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.975797 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.976973 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T20:59:05.978734 #13561]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:59:05 +0000
I, [2020-03-31T20:59:05.980113 #13561]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:59:05.980459 #13561]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:59:05.981867 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:05.983708 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:59:05.985515 #13561] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:05.987207 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:05.988307 #13561]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T20:59:05.989567 #13561]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-03-31T20:59:06.002763 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T20:59:06.004026 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T20:59:06.005284 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:06.006059 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:06.006373 #13561]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:59:06.006454 #13561]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T20:59:06.006518 #13561]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:59:06.007782 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:06.009428 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144074595"], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.011134 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144074595"], ["date_of_birth", "2001-03-31"], ["phone", "9961090717"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:06.012627 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:06.014238 #13561]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 20:59:06 +0000
I, [2020-03-31T20:59:06.015549 #13561]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T20:59:06.015913 #13561]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T20:59:06.017220 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:06.268440 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.270134 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:06.274695 #13561]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T20:59:06.276176 #13561]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T20:59:06.277841 #13561]  INFO -- : Completed 200 OK in 262ms (Views: 6.1ms | ActiveRecord: 0.3ms)
D, [2020-03-31T20:59:06.281481 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:06.282292 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:06.282632 #13561]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T20:59:06.282714 #13561]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T20:59:06.282782 #13561]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T20:59:06.284073 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:06.286009 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "177631416"], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.287760 #13561] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "177631416"], ["date_of_birth", "2001-03-31"], ["phone", "7955254338"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:06.289172 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:06.290689 #13561]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 20:59:06 +0000
I, [2020-03-31T20:59:06.292016 #13561]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T20:59:06.292335 #13561]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T20:59:06.293346 #13561] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.294816 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:06.297647 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.299582 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:06.303313 #13561]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.3ms)
F, [2020-03-31T20:59:06.315486 #13561] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:42:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T20:59:06.320230 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T20:59:06.321272 #13561] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T20:59:06.321602 #13561]  INFO -- : --------------------------------------------
I, [2020-03-31T20:59:06.321686 #13561]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T20:59:06.321764 #13561]  INFO -- : --------------------------------------------
D, [2020-03-31T20:59:06.322986 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T20:59:06.324815 #13561] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261164953"], ["LIMIT", 1]]
D, [2020-03-31T20:59:06.326508 #13561] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "261164953"], ["date_of_birth", "2001-03-31"], ["phone", "2021317346"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T20:59:06.327954 #13561] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T20:59:06.329278 #13561]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 20:59:06 +0000
I, [2020-03-31T20:59:06.330502 #13561]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T20:59:06.331930 #13561]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T20:59:06.332780 #13561]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T20:59:06.335760 #13561] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:04.857175 #13656] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:00:05.006350 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.006977 #13656]  INFO -- : ---------------------------------------------
I, [2020-03-31T21:00:05.007099 #13656]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T21:00:05.007134 #13656]  INFO -- : ---------------------------------------------
D, [2020-03-31T21:00:05.180006 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.184138 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "356723242"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.186566 #13656] DEBUG -- :   [1m[36mEmployee Create (0.6ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "356723242"], ["date_of_birth", "2001-03-31"], ["phone", "2486957262"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.188780 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.193391 #13656]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.206463 #13656]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T21:00:05.206908 #13656]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:00:05.214731 #13656] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T21:00:05.245225 #13656]  INFO -- : Completed 500  in 38ms (ActiveRecord: 0.3ms)
F, [2020-03-31T21:00:05.268584 #13656] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T21:00:05.279690 #13656] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.289369 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.290104 #13656]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:00:05.290256 #13656]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T21:00:05.290400 #13656]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:00:05.292957 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.296321 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "296809477"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.300081 #13656] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296809477"], ["date_of_birth", "2001-03-31"], ["phone", "6204799190"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.301862 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.303639 #13656]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.304946 #13656]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T21:00:05.330671 #13656]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:00:05.349517 #13656] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T21:00:05.358422 #13656] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.360429 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.360852 #13656]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T21:00:05.360945 #13656]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T21:00:05.361013 #13656]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T21:00:05.362626 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.364966 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154940602"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.367076 #13656] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154940602"], ["date_of_birth", "2001-03-31"], ["phone", "4396871397"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.368843 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.371090 #13656]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.379150 #13656]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T21:00:05.379694 #13656]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T21:00:05.381254 #13656] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.397673 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.400743 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.403545 #13656] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T21:00:05.405287 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.407134 #13656]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T21:00:05.408616 #13656]  INFO -- : Completed 302 Found in 29ms (ActiveRecord: 0.8ms)
D, [2020-03-31T21:00:05.416813 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.418046 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.418608 #13656]  INFO -- : --------------------------------------------
I, [2020-03-31T21:00:05.418744 #13656]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T21:00:05.418834 #13656]  INFO -- : --------------------------------------------
D, [2020-03-31T21:00:05.420428 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.423163 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326065515"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.425253 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326065515"], ["date_of_birth", "2001-03-31"], ["phone", "7485013908"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.427020 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.428939 #13656]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.430556 #13656]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T21:00:05.437038 #13656]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T21:00:05.439160 #13656]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.5ms)
I, [2020-03-31T21:00:05.441448 #13656]  INFO -- : Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:00:05.445428 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.446449 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.446810 #13656]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T21:00:05.446898 #13656]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T21:00:05.446966 #13656]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T21:00:05.448664 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.451368 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "292102236"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.453772 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "292102236"], ["date_of_birth", "2001-03-31"], ["phone", "2458065274"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.455450 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.457366 #13656]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
F, [2020-03-31T21:00:05.481818 #13656] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T21:00:05.486650 #13656] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.487814 #13656] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.488201 #13656]  INFO -- : --------------------------------------------------
I, [2020-03-31T21:00:05.488309 #13656]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T21:00:05.488379 #13656]  INFO -- : --------------------------------------------------
D, [2020-03-31T21:00:05.490020 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.492227 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337231245"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.494046 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "337231245"], ["date_of_birth", "2001-03-31"], ["phone", "1029758431"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.495648 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.513637 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.516540 #13656] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.518850 #13656] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6950052274"], ["active", 1]]
D, [2020-03-31T21:00:05.520689 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.546907 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.549368 #13656] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:00:05.551390 #13656] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:00:05.553200 #13656] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.565445 #13656] DEBUG -- :   [1m[36mAssignment Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.567134 #13656] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:00:05.568550 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.570153 #13656]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.571471 #13656]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T21:00:05.571897 #13656]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:00:05.573007 #13656] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T21:00:05.576806 #13656]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T21:00:05.595361 #13656] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T21:00:05.601309 #13656] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.603999 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.604446 #13656]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T21:00:05.604586 #13656]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T21:00:05.604698 #13656]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T21:00:05.606165 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.608477 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157783128"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.610672 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157783128"], ["date_of_birth", "2001-03-31"], ["phone", "1681833618"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.612419 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.613963 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T21:00:05.616033 #13656]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.617510 #13656]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T21:00:05.617962 #13656]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T21:00:05.619834 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.622262 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.624681 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.626521 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.627761 #13656]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T21:00:05.629171 #13656]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
D, [2020-03-31T21:00:05.635993 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T21:00:05.637565 #13656] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T21:00:05.639155 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:05.640178 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:05.640563 #13656]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T21:00:05.640714 #13656]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T21:00:05.640879 #13656]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T21:00:05.642458 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:05.644869 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261301021"], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.647213 #13656] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "261301021"], ["date_of_birth", "2001-03-31"], ["phone", "6463738976"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:05.649386 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:05.651473 #13656]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 21:00:05 +0000
I, [2020-03-31T21:00:05.653028 #13656]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T21:00:05.653498 #13656]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T21:00:05.654719 #13656] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:05.656660 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:06.026151 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:00:06.029647 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:06.036363 #13656]  INFO -- : Completed 500  in 382ms (ActiveRecord: 0.6ms)
F, [2020-03-31T21:00:06.065575 #13656] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T21:00:06.074345 #13656] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:00:06.076231 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:00:06.076830 #13656]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T21:00:06.076971 #13656]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T21:00:06.077095 #13656]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T21:00:06.079115 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:06.082236 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098530211"], ["LIMIT", 1]]
D, [2020-03-31T21:00:06.085648 #13656] DEBUG -- :   [1m[36mEmployee Create (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098530211"], ["date_of_birth", "2001-03-31"], ["phone", "7921552724"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:00:06.088498 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:06.091466 #13656]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 21:00:06 +0000
I, [2020-03-31T21:00:06.093168 #13656]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T21:00:06.093766 #13656]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T21:00:06.095962 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:00:06.098908 #13656] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T21:00:06.100725 #13656] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:00:06.102019 #13656]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T21:00:06.102539 #13656]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:00:06.104369 #13656]  INFO -- : Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 0.4ms)
D, [2020-03-31T21:00:06.110084 #13656] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:57.559588 #15347] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:24:57.681544 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:57.682004 #15347]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:24:57.682058 #15347]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:24:57.682110 #15347]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:24:57.820768 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.823580 #15347] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.825453 #15347] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2884198746"], ["active", 1]]
D, [2020-03-31T21:24:57.826812 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.845936 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.849732 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "318665016"], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.851691 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "318665016"], ["date_of_birth", "2001-03-31"], ["phone", "7621874792"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:57.853087 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.874876 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.877246 #15347] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:57.880021 #15347] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:57.881722 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.891929 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.893255 #15347] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:57.894176 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.895080 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:24:57.896449 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.897813 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231928785"], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.899221 #15347] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "231928785"], ["date_of_birth", "2001-03-31"], ["phone", "0580863927"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:57.900430 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:57.910161 #15347]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:24:57 +0000
I, [2020-03-31T21:24:57.921649 #15347]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:24:57.922123 #15347]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:24:57.928125 #15347]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T21:24:57.929464 #15347]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
D, [2020-03-31T21:24:57.936937 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:24:57.938010 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:57.939957 #15347] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:57.940346 #15347]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:24:57.940456 #15347]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:24:57.940530 #15347]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:24:57.941608 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.943442 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.945205 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1363013817"], ["active", 1]]
D, [2020-03-31T21:24:57.946936 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.948598 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.950646 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100217695"], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.952729 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "100217695"], ["date_of_birth", "2001-03-31"], ["phone", "4879893850"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:57.967463 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.969361 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:57.970940 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:57.972244 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:57.973510 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.975363 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:57.976711 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:57.977797 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:57.979441 #15347]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:24:57 +0000
F, [2020-03-31T21:24:58.004035 #15347] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:24:58.011069 #15347]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:24:58 +0000
F, [2020-03-31T21:24:58.033559 #15347] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:24:58.037873 #15347] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:58.038968 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:58.039424 #15347]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:24:58.039516 #15347]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:24:58.039588 #15347]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:24:58.040572 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.042241 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.043990 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6816625118"], ["active", 1]]
D, [2020-03-31T21:24:58.045491 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.046846 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.048473 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373697438"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.050144 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373697438"], ["date_of_birth", "2001-03-31"], ["phone", "1179094856"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:58.051647 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.053109 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.054562 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.055954 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.057194 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.059009 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.060421 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:58.061521 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.062615 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:24:58.063989 #15347]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:24:58 +0000
I, [2020-03-31T21:24:58.065261 #15347]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:24:58.065600 #15347]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:24:58.066977 #15347] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.068348 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.069600 #15347] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:24:58.070670 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:58.071758 #15347]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:24:58.072775 #15347]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T21:24:58.077695 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:24:58.078827 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:58.079842 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:58.080255 #15347]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:24:58.080346 #15347]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:24:58.080433 #15347]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:24:58.081441 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.083032 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.084911 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9034030970"], ["active", 1]]
D, [2020-03-31T21:24:58.086372 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.087878 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.089527 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209225826"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.091136 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209225826"], ["date_of_birth", "2001-03-31"], ["phone", "2155090791"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:58.092647 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.094147 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.095636 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.096992 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.098289 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.100158 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.101642 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:58.102788 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.103945 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:58.139223 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:58.139793 #15347]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:24:58.139884 #15347]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:24:58.139955 #15347]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:24:58.140997 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.142730 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.144495 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2921505603"], ["active", 1]]
D, [2020-03-31T21:24:58.145899 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.147475 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.149118 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "336909391"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.150733 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "336909391"], ["date_of_birth", "2001-03-31"], ["phone", "4478000792"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:58.152266 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.153751 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.155166 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.156519 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.157826 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.159787 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.161273 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:58.162456 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:58.163903 #15347]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:24:58 +0000
I, [2020-03-31T21:24:58.165213 #15347]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:24:58.166612 #15347]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T21:24:58.167678 #15347]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T21:24:58.171010 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:58.172169 #15347] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:58.172560 #15347]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:24:58.172688 #15347]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:24:58.172773 #15347]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:24:58.174192 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.176323 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.178160 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7667134759"], ["active", 1]]
D, [2020-03-31T21:24:58.179822 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.181448 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.183209 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "265228070"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.184986 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "265228070"], ["date_of_birth", "2001-03-31"], ["phone", "5602969603"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:58.186637 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.188298 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.190015 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.191466 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.192844 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.194721 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.196320 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:58.197653 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:58.199495 #15347]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:24:58 +0000
I, [2020-03-31T21:24:58.200759 #15347]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:24:58.201172 #15347]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:24:58.202777 #15347]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T21:24:58.203973 #15347]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T21:24:58.207976 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:24:58.209181 #15347] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:24:58.209537 #15347]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:24:58.209674 #15347]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:24:58.209770 #15347]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:24:58.210882 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.212717 #15347] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.214523 #15347] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5641822441"], ["active", 1]]
D, [2020-03-31T21:24:58.216161 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.217718 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.219624 #15347] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "223120796"], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.221444 #15347] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "223120796"], ["date_of_birth", "2001-03-31"], ["phone", "2576004928"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:24:58.230104 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.231932 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:24:58.233826 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.235147 #15347] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:24:58.236570 #15347] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.238261 #15347] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:24:58.239661 #15347] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:24:58.240837 #15347] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:24:58.242198 #15347]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:24:58 +0000
I, [2020-03-31T21:24:58.243458 #15347]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:24:58.244868 #15347]  INFO -- : Redirected to http://www.example.com/home
I, [2020-03-31T21:24:58.245875 #15347]  INFO -- : Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
D, [2020-03-31T21:24:58.249297 #15347] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:25.436248 #16254] DEBUG -- :   [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:38:25.574857 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:25.575426 #16254]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:38:25.575479 #16254]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:38:25.575516 #16254]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:38:25.714343 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.717099 #16254] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.718947 #16254] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7329754855"], ["active", 1]]
D, [2020-03-31T21:38:25.720517 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.736649 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.740103 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283150156"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.741679 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283150156"], ["date_of_birth", "2001-03-31"], ["phone", "6461918555"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:25.742957 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.762686 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.764651 #16254] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.766872 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.768597 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.778046 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.779708 #16254] DEBUG -- :   [1m[36mAssignment Create (0.6ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:25.780694 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:25.784387 #16254]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:38:25 +0000
I, [2020-03-31T21:38:25.796045 #16254]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:38:25.805432 #16254]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:38:25.807744 #16254]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.6ms)
I, [2020-03-31T21:38:25.809512 #16254]  INFO -- : Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:38:25.817160 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:25.818713 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:25.819085 #16254]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:38:25.819179 #16254]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:38:25.819253 #16254]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:38:25.820478 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.822314 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.824102 #16254] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1784546102"], ["active", 1]]
D, [2020-03-31T21:38:25.825788 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.827588 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.829445 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091884392"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.831265 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091884392"], ["date_of_birth", "2001-03-31"], ["phone", "0940750511"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:25.832872 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.834415 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.836065 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.837587 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.839037 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.841167 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.842829 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:25.856825 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.858177 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:38:25.859583 #16254]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:38:25 +0000
I, [2020-03-31T21:38:25.867698 #16254]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:38:25.868034 #16254]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:38:25.869667 #16254] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.871122 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.872396 #16254] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:38:25.873486 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:25.874589 #16254]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:38:25.875555 #16254]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T21:38:25.880601 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:38:25.882731 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:25.884238 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:25.884554 #16254]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:38:25.884638 #16254]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:38:25.884718 #16254]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:38:25.885749 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.887431 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.889270 #16254] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2865380273"], ["active", 1]]
D, [2020-03-31T21:38:25.891244 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.892966 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.894540 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281561326"], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.896153 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281561326"], ["date_of_birth", "2001-03-31"], ["phone", "4141520026"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:25.897573 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.898930 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.900327 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.901636 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:25.902899 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.904632 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:25.906049 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:25.907251 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:25.908976 #16254]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:38:25 +0000
I, [2020-03-31T21:38:25.910285 #16254]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:38:25.910622 #16254]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:38:25.912023 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:25.914168 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.112702 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.114241 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.115909 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:26.117096 #16254]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:38:26.117568 #16254]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:38:26.118889 #16254]  INFO -- : Completed 200 OK in 208ms (Views: 1.4ms | ActiveRecord: 0.5ms)
D, [2020-03-31T21:38:26.123333 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:26.124774 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:26.125119 #16254]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:38:26.125225 #16254]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:38:26.125297 #16254]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:38:26.126262 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.127912 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.129555 #16254] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4176701039"], ["active", 1]]
D, [2020-03-31T21:38:26.130938 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.132452 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.134018 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "073676631"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.135724 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "073676631"], ["date_of_birth", "2001-03-31"], ["phone", "6107134020"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:26.137128 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.138549 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.140041 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.141295 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.142653 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.144427 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.145778 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:26.146875 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:26.148335 #16254]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:38:26 +0000
I, [2020-03-31T21:38:26.149486 #16254]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:38:26.172149 #16254]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:38:26.192827 #16254] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:38:26.198743 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:26.200232 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:26.200596 #16254]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:38:26.200684 #16254]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:38:26.200754 #16254]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:38:26.201773 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.203464 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.205092 #16254] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4207592256"], ["active", 1]]
D, [2020-03-31T21:38:26.206422 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.207842 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.209459 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014445653"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.211008 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014445653"], ["date_of_birth", "2001-03-31"], ["phone", "4059233216"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:26.212469 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.213888 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.215332 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.216607 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.217864 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.219683 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.221106 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:26.222192 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.223250 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:26.227848 #16254] DEBUG -- :   [1m[36mAssignment Load (0.4ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T21:38:26.228992 #16254] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T21:38:26.259734 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:26.260172 #16254]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:38:26.260257 #16254]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:38:26.260326 #16254]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:38:26.261357 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.263037 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.264726 #16254] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0935831524"], ["active", 1]]
D, [2020-03-31T21:38:26.266082 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.267410 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.268929 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "189578910"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.270485 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "189578910"], ["date_of_birth", "2001-03-31"], ["phone", "7164443775"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:26.272271 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.273750 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.275243 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.276679 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.277972 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.279735 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.281102 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:26.282179 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.283189 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:38:26.284558 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.286024 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103575783"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.287526 #16254] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "103575783"], ["date_of_birth", "2001-03-31"], ["phone", "7492982577"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:26.288870 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:26.290383 #16254]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:38:26 +0000
I, [2020-03-31T21:38:26.291513 #16254]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:38:26.291869 #16254]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:38:26.293125 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.294542 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.296679 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.298448 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.299845 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.301152 #16254] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.302941 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.304445 #16254] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-03-31T21:38:26.305710 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:26.306714 #16254]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-03-31T21:38:26.307789 #16254]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-03-31T21:38:26.314013 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:38:26.315262 #16254] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:38:26.316359 #16254] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:38:26.316682 #16254]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:38:26.316769 #16254]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:38:26.316842 #16254]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:38:26.317824 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.319413 #16254] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.321064 #16254] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0463665132"], ["active", 1]]
D, [2020-03-31T21:38:26.322459 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.323916 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.325544 #16254] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360793860"], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.327099 #16254] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "360793860"], ["date_of_birth", "2001-03-31"], ["phone", "4666001838"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:38:26.328594 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.330125 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:38:26.331664 #16254] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.332956 #16254] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:38:26.334248 #16254] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.335933 #16254] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:38:26.337330 #16254] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:38:26.338414 #16254] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:38:26.339861 #16254]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:38:26 +0000
F, [2020-03-31T21:38:26.356157 #16254] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:38:26.360460 #16254]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:38:26 +0000
F, [2020-03-31T21:38:26.382142 #16254] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:38:26.387351 #16254] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:00.580803 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:43:00.664677 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:00.665129 #16645]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:43:00.665176 #16645]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:43:00.665202 #16645]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:43:00.765070 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.767131 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.768830 #16645] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3736291405"], ["active", 1]]
D, [2020-03-31T21:43:00.770062 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.784901 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.788073 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165613252"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.789597 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "165613252"], ["date_of_birth", "2001-03-31"], ["phone", "8417612440"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:00.790810 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.808942 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.810719 #16645] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.812865 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.814444 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.823900 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.825185 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:00.826207 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:00.834598 #16645]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:43:00 +0000
I, [2020-03-31T21:43:00.844119 #16645]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:43:00.844447 #16645]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:43:00.852015 #16645]  INFO -- : Completed 500  in 7ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:43:00.863546 #16645] FATAL -- : 
NoMethodError - undefined method `unless' for #<ActionController::Parameters:0x0000000006150cd8>:
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:43:00.870734 #16645] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:00.872164 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:00.872591 #16645]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:43:00.872703 #16645]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:43:00.872785 #16645]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:43:00.886631 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.888688 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.890529 #16645] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1077342409"], ["active", 1]]
D, [2020-03-31T21:43:00.892045 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.893717 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.895614 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213859126"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.897340 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "213859126"], ["date_of_birth", "2001-03-31"], ["phone", "0617495605"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:00.898771 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.900265 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.901774 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.903030 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.904372 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.906183 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.907632 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:00.908678 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:00.910139 #16645]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:43:00 +0000
F, [2020-03-31T21:43:00.926215 #16645] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:43:00.931632 #16645]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:43:00 +0000
F, [2020-03-31T21:43:00.947970 #16645] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:43:00.951911 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:00.952838 #16645] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:00.953166 #16645]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:43:00.953251 #16645]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:43:00.953316 #16645]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:43:00.954306 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.955980 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.957619 #16645] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8946957929"], ["active", 1]]
D, [2020-03-31T21:43:00.959103 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.960501 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.961963 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166544261"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.963457 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166544261"], ["date_of_birth", "2001-03-31"], ["phone", "4262499414"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:00.964864 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.966210 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.967635 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.968876 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:00.970156 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.971822 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.973184 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:00.974326 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.975440 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:43:00.976729 #16645]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:43:00 +0000
I, [2020-03-31T21:43:00.978007 #16645]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:43:00.978333 #16645]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:43:00.979784 #16645] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.981052 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.982228 #16645] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:43:00.983245 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:00.984340 #16645]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:43:00.985341 #16645]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-03-31T21:43:00.990653 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:43:00.991761 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:00.992534 #16645] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:00.992839 #16645]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:43:00.992918 #16645]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:43:00.993010 #16645]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:43:00.993993 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:00.995585 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:00.997257 #16645] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7759658635"], ["active", 1]]
D, [2020-03-31T21:43:00.998688 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.000090 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.001606 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "382084171"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.003157 #16645] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "382084171"], ["date_of_birth", "2001-03-31"], ["phone", "0384655920"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:01.004610 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.006077 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.007517 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.008783 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.010007 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.011776 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.013130 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:01.014223 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:01.015598 #16645]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:43:01 +0000
I, [2020-03-31T21:43:01.016850 #16645]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:43:01.021563 #16645]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:43:01.023127 #16645]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T21:43:01.024814 #16645]  INFO -- : Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:43:01.027837 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:01.028695 #16645] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:01.029085 #16645]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:43:01.029196 #16645]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:43:01.029268 #16645]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:43:01.030310 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.032042 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.033742 #16645] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2433368936"], ["active", 1]]
D, [2020-03-31T21:43:01.035181 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.036659 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.038325 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "101531542"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.040054 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "101531542"], ["date_of_birth", "2001-03-31"], ["phone", "6106375830"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:01.041473 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.042935 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.044411 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.045682 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.046902 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.048698 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.050092 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:01.051241 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.052327 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:01.085624 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:01.086062 #16645]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:43:01.086146 #16645]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:43:01.086215 #16645]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:43:01.087259 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.089059 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.090806 #16645] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3205748507"], ["active", 1]]
D, [2020-03-31T21:43:01.092462 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.094053 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.095783 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077668960"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.097519 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077668960"], ["date_of_birth", "2001-03-31"], ["phone", "2839799645"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:01.099116 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.100746 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.102249 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.103621 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.104951 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.106744 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.108183 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:01.109451 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.110662 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:43:01.112331 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.114070 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131897469"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.115684 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "131897469"], ["date_of_birth", "2001-03-31"], ["phone", "6405772165"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:01.117294 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:01.119179 #16645]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:43:01 +0000
I, [2020-03-31T21:43:01.120550 #16645]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:43:01.128248 #16645]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:43:01.131880 #16645]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:43:01.146225 #16645] FATAL -- : 
NoMethodError - undefined method `unless' for #<ActionController::Parameters:0x000000000628e410>:
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:43:01.151524 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:43:01.152677 #16645] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:43:01.153889 #16645] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:43:01.154262 #16645]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:43:01.154350 #16645]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:43:01.154428 #16645]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:43:01.155563 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.157137 #16645] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.158847 #16645] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7234674303"], ["active", 1]]
D, [2020-03-31T21:43:01.160403 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.161815 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.163828 #16645] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "219486811"], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.165449 #16645] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "219486811"], ["date_of_birth", "2001-03-31"], ["phone", "2442249403"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:43:01.166966 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.168699 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:43:01.170458 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.171931 #16645] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:43:01.173388 #16645] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.175308 #16645] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:43:01.176817 #16645] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:43:01.177985 #16645] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:43:01.179482 #16645]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:43:01 +0000
I, [2020-03-31T21:43:01.180655 #16645]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:43:01.205259 #16645]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:43:01.221173 #16645] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:43:01.226400 #16645] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:02.578341 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:44:02.675403 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:02.675866 #16745]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:44:02.675910 #16745]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:44:02.675933 #16745]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:44:02.785362 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.787720 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.789500 #16745] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2523933321"], ["active", 1]]
D, [2020-03-31T21:44:02.790791 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.806811 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.810160 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045789877"], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.811815 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045789877"], ["date_of_birth", "2001-03-31"], ["phone", "0347294347"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:02.813060 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.834042 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.836327 #16745] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:02.838687 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:02.840660 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.851368 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.852845 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:02.853986 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:02.857891 #16745]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:44:02 +0000
I, [2020-03-31T21:44:02.869004 #16745]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:44:02.896740 #16745]  INFO -- : Completed 500  in 27ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:44:02.915763 #16745] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:44:02.923559 #16745] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:02.925045 #16745] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:02.925453 #16745]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:44:02.925536 #16745]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:44:02.925607 #16745]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:44:02.926895 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.929065 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.931170 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0311493014"], ["active", 1]]
D, [2020-03-31T21:44:02.945962 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.947669 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.949550 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143408967"], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.951170 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143408967"], ["date_of_birth", "2001-03-31"], ["phone", "0591350372"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:02.952716 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.954134 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:02.955761 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:02.957140 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:02.958466 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.960361 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:02.961649 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:02.962741 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:02.964243 #16745]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:44:02 +0000
F, [2020-03-31T21:44:02.985111 #16745] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:44:02.989701 #16745]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:44:02 +0000
F, [2020-03-31T21:44:03.009704 #16745] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:44:03.013892 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:03.014767 #16745] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:03.015139 #16745]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:44:03.015222 #16745]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:44:03.015358 #16745]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:44:03.016500 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.018158 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.019846 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8697306961"], ["active", 1]]
D, [2020-03-31T21:44:03.021283 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.022784 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.024556 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045744692"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.026131 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045744692"], ["date_of_birth", "2001-03-31"], ["phone", "7983627052"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.027663 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.029250 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.030789 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.032127 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.033480 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.035265 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.036668 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:03.037773 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:03.045047 #16745]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:44:03 +0000
I, [2020-03-31T21:44:03.046414 #16745]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:44:03.046755 #16745]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:44:03.053264 #16745]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:44:03.074127 #16745] FATAL -- : 
NoMethodError - undefined method `unless' for #<Assignment:0x0000000005d1ac68>:
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:44:03.079255 #16745] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:03.080458 #16745] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:03.080812 #16745]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:44:03.080892 #16745]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:44:03.080955 #16745]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:44:03.082007 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.083857 #16745] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.085652 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6627371545"], ["active", 1]]
D, [2020-03-31T21:44:03.087133 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.088668 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.090362 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144037273"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.092162 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144037273"], ["date_of_birth", "2001-03-31"], ["phone", "7111220883"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.093703 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.095393 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.097040 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.098414 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.099835 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.101714 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.103236 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:03.104580 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.105781 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:44:03.107215 #16745]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:44:03 +0000
I, [2020-03-31T21:44:03.108582 #16745]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:44:03.108907 #16745]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:44:03.110480 #16745] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.111915 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.113258 #16745] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:44:03.114364 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:03.115513 #16745]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:44:03.116515 #16745]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T21:44:03.121455 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:44:03.122674 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:03.123577 #16745] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:03.123954 #16745]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:44:03.124038 #16745]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:44:03.124102 #16745]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:44:03.125159 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.126906 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.128626 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9470055746"], ["active", 1]]
D, [2020-03-31T21:44:03.130162 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.131690 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.133279 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "079513340"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.134835 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "079513340"], ["date_of_birth", "2001-03-31"], ["phone", "1149440624"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.136267 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.137784 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.139209 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.140543 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.141826 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.143846 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.145316 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:03.146536 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:03.147967 #16745]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:44:03 +0000
I, [2020-03-31T21:44:03.149340 #16745]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:44:03.154194 #16745]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:44:03.155950 #16745]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T21:44:03.157566 #16745]  INFO -- : Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:44:03.160893 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:03.161810 #16745] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:03.162179 #16745]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:44:03.162279 #16745]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:44:03.162345 #16745]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:44:03.163485 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.165261 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.167055 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3223646562"], ["active", 1]]
D, [2020-03-31T21:44:03.168708 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.170232 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.172197 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044034051"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.174155 #16745] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "044034051"], ["date_of_birth", "2001-03-31"], ["phone", "2596547892"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.175782 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.177473 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.179166 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.180551 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.181880 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.183750 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.185298 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:03.186476 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.187610 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:44:03.230005 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:44:03.230454 #16745]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:44:03.230537 #16745]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:44:03.230598 #16745]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:44:03.231814 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.233610 #16745] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.235522 #16745] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0573921572"], ["active", 1]]
D, [2020-03-31T21:44:03.237193 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.238635 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.240342 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288746211"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.241943 #16745] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "288746211"], ["date_of_birth", "2001-03-31"], ["phone", "9660882720"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.243605 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.245090 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.246585 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.247912 #16745] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:44:03.249169 #16745] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.250929 #16745] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.252408 #16745] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:44:03.253585 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.254784 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:44:03.256249 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:44:03.257841 #16745] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238171266"], ["LIMIT", 1]]
D, [2020-03-31T21:44:03.259378 #16745] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "238171266"], ["date_of_birth", "2001-03-31"], ["phone", "2079811912"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:44:03.260803 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:44:03.262377 #16745]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:44:03 +0000
I, [2020-03-31T21:44:03.263768 #16745]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:44:03.264099 #16745]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:44:03.270929 #16745]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:44:03.282621 #16745] FATAL -- : 
NoMethodError - undefined method `unless' for #<Assignment:0x0000000006014978>:
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:44:03.287527 #16745] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:44:03.288603 #16745] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.224878 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:52:53.315388 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.315831 #17373]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:52:53.315875 #17373]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:52:53.315932 #17373]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:52:53.448801 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.450964 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.452719 #17373] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4806246561"], ["active", 1]]
D, [2020-03-31T21:52:53.454068 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.469921 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.473130 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260418942"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.474725 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260418942"], ["date_of_birth", "2001-03-31"], ["phone", "2801451255"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.476030 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.494444 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.496343 #17373] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.498485 #17373] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.500051 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.509404 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.510662 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.511653 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.514971 #17373]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
I, [2020-03-31T21:52:53.525152 #17373]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:52:53.553303 #17373]  INFO -- : Completed 500  in 28ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:52:53.585139 #17373] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:52:53.594010 #17373] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.595920 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.596332 #17373]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:52:53.596431 #17373]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:52:53.596527 #17373]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:52:53.597678 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.599769 #17373] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.601769 #17373] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3492775942"], ["active", 1]]
D, [2020-03-31T21:52:53.616363 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.617953 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.620342 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "312215618"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.622079 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "312215618"], ["date_of_birth", "2001-03-31"], ["phone", "0282229576"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.623500 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.624893 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.626351 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.627645 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.628872 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.630850 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.632311 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.633378 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.634448 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:52:53.635834 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.637411 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373724611"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.638897 #17373] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "373724611"], ["date_of_birth", "2001-03-31"], ["phone", "1993519935"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.640187 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.647753 #17373]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
I, [2020-03-31T21:52:53.649097 #17373]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:52:53.649439 #17373]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:52:53.651779 #17373]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:52:53.663053 #17373] FATAL -- : 
Bootsnap::LoadPathCache::FallbackScan - :
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:52:53.669886 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:52:53.670936 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.672153 #17373] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.672585 #17373]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:52:53.672669 #17373]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:52:53.672731 #17373]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:52:53.674196 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.675919 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.677556 #17373] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9693998668"], ["active", 1]]
D, [2020-03-31T21:52:53.678958 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.680384 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.681962 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088030115"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.683475 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088030115"], ["date_of_birth", "2001-03-31"], ["phone", "2623827873"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.684901 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.686446 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.688105 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.689434 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.690692 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.692443 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.693815 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.694942 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.696050 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:52:53.697404 #17373]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
I, [2020-03-31T21:52:53.698864 #17373]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:52:53.699192 #17373]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:52:53.700691 #17373] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.701931 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.703140 #17373] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:52:53.704451 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.705587 #17373]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:52:53.706486 #17373]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-03-31T21:52:53.711542 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:52:53.712716 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.713501 #17373] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.713823 #17373]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:52:53.713901 #17373]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:52:53.714096 #17373]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:52:53.715022 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.716654 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.718392 #17373] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8387740024"], ["active", 1]]
D, [2020-03-31T21:52:53.719818 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.721272 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.723082 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "187665720"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.724785 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "187665720"], ["date_of_birth", "2001-03-31"], ["phone", "8609940386"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.726282 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.727733 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.729157 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.730385 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.731667 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.733587 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.735120 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.736420 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.737786 #17373]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
I, [2020-03-31T21:52:53.739152 #17373]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:52:53.744146 #17373]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:52:53.745848 #17373]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T21:52:53.747444 #17373]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:52:53.750807 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.751789 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.752294 #17373]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:52:53.752380 #17373]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:52:53.752445 #17373]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:52:53.753499 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.755206 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.756940 #17373] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6552745058"], ["active", 1]]
D, [2020-03-31T21:52:53.758357 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.759809 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.761466 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "240911015"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.763023 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "240911015"], ["date_of_birth", "2001-03-31"], ["phone", "4674700663"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.764478 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.766079 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.767622 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.769425 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.770826 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.772735 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.774146 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.775305 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.776962 #17373]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
I, [2020-03-31T21:52:53.778204 #17373]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:52:53.778509 #17373]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T21:52:53.780894 #17373]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:52:53.798905 #17373] FATAL -- : 
Bootsnap::LoadPathCache::FallbackScan - :
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:52:53.804020 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.805627 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.805991 #17373]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:52:53.806076 #17373]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:52:53.806142 #17373]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:52:53.807206 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.809018 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.810709 #17373] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6790618083"], ["active", 1]]
D, [2020-03-31T21:52:53.812382 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.813823 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.815667 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "006444241"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.817403 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "006444241"], ["date_of_birth", "2001-03-31"], ["phone", "2614519708"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.818986 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.820551 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.822012 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.823422 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.824710 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.826567 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.828104 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.829381 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:52:53.830802 #17373]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
F, [2020-03-31T21:52:53.861045 #17373] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:52:53.865604 #17373]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:52:53 +0000
F, [2020-03-31T21:52:53.887178 #17373] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:52:53.891579 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:52:53.893127 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:52:53.893821 #17373]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:52:53.893970 #17373]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:52:53.894192 #17373]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:52:53.896205 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.897850 #17373] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.899588 #17373] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0160243947"], ["active", 1]]
D, [2020-03-31T21:52:53.900943 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.902485 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.904216 #17373] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "216526797"], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.905890 #17373] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "216526797"], ["date_of_birth", "2001-03-31"], ["phone", "8924775202"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:52:53.907505 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.909004 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.910451 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.911831 #17373] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:52:53.913036 #17373] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.914764 #17373] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:52:53.916127 #17373] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:52:53.917246 #17373] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:52:53.918259 #17373] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:46.638644 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:56:46.730724 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:46.731247 #17658]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:56:46.731471 #17658]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:56:46.731518 #17658]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:56:46.837836 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.840473 #17658] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.842331 #17658] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0267262553"], ["active", 1]]
D, [2020-03-31T21:56:46.843784 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.861204 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.864569 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "270374980"], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.866174 #17658] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "270374980"], ["date_of_birth", "2001-03-31"], ["phone", "3324235423"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:46.867554 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.888632 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.890888 #17658] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.893396 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.895084 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.905046 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.906336 #17658] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:46.907269 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.908204 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:56:46.909549 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.910931 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145109659"], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.912296 #17658] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "145109659"], ["date_of_birth", "2001-03-31"], ["phone", "0677675531"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:46.913515 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:46.922026 #17658]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:56:46 +0000
I, [2020-03-31T21:56:46.931941 #17658]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:56:46.932284 #17658]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:56:46.937713 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.940273 #17658] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.942296 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.944132 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.945662 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.946969 #17658] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.948836 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.950243 #17658] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-03-31T21:56:46.951494 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:46.952616 #17658]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-03-31T21:56:46.953958 #17658]  INFO -- : Completed 302 Found in 21ms (ActiveRecord: 0.9ms)
D, [2020-03-31T21:56:46.977399 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:56:46.979623 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:46.980797 #17658] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:46.981132 #17658]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:56:46.981213 #17658]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:56:46.981277 #17658]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:56:46.982308 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.984079 #17658] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.985818 #17658] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7563870069"], ["active", 1]]
D, [2020-03-31T21:56:46.987204 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.988615 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.990194 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098534169"], ["LIMIT", 1]]
D, [2020-03-31T21:56:46.991759 #17658] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098534169"], ["date_of_birth", "2001-03-31"], ["phone", "5227823892"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:46.993116 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.994599 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:46.996250 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.997520 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:46.998734 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.000391 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.001740 #17658] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.002756 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.004487 #17658]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
I, [2020-03-31T21:56:47.005721 #17658]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:56:47.006023 #17658]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:56:47.007300 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.008834 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.203584 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.205284 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.206978 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.212531 #17658]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:56:47.214434 #17658]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.4ms)
I, [2020-03-31T21:56:47.216320 #17658]  INFO -- : Completed 200 OK in 210ms (Views: 7.5ms | ActiveRecord: 0.5ms)
D, [2020-03-31T21:56:47.221309 #17658] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:47.222162 #17658] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:47.222523 #17658]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:56:47.222609 #17658]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:56:47.222678 #17658]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:56:47.223703 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.225407 #17658] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.227085 #17658] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3013427733"], ["active", 1]]
D, [2020-03-31T21:56:47.231843 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.234291 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.237138 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041755826"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.239981 #17658] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041755826"], ["date_of_birth", "2001-03-31"], ["phone", "3820954423"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:47.242554 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.245074 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.247535 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.249699 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.251804 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.254704 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.257093 #17658] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.259059 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.260872 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:56:47.262989 #17658]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
I, [2020-03-31T21:56:47.265080 #17658]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:56:47.265644 #17658]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:56:47.267904 #17658] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.270074 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.272129 #17658] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:56:47.273997 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.275730 #17658]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:56:47.277410 #17658]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
D, [2020-03-31T21:56:47.285261 #17658] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:56:47.287010 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:47.288512 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:47.289085 #17658]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:56:47.289235 #17658]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:56:47.289382 #17658]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:56:47.291088 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.293895 #17658] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.296851 #17658] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8752688275"], ["active", 1]]
D, [2020-03-31T21:56:47.299432 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.301829 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.304599 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246793496"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.307351 #17658] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246793496"], ["date_of_birth", "2001-03-31"], ["phone", "6827647059"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:47.309906 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.312381 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.314856 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.317115 #17658] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.319375 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.322363 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.324790 #17658] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.326719 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.329008 #17658]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
I, [2020-03-31T21:56:47.331127 #17658]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:56:47.333263 #17658]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:56:47.334077 #17658]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:56:47.336048 #17658]  INFO -- : Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:56:47.340716 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:47.342053 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:47.342653 #17658]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:56:47.342815 #17658]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:56:47.342960 #17658]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:56:47.344552 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.347142 #17658] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.349970 #17658] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9273862433"], ["active", 1]]
D, [2020-03-31T21:56:47.352615 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.354871 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.357620 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358202882"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.360426 #17658] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358202882"], ["date_of_birth", "2001-03-31"], ["phone", "3474908513"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:47.363135 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.365741 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.368287 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.370529 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.372833 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.376020 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.378454 #17658] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.380535 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.382845 #17658]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
F, [2020-03-31T21:56:47.413167 #17658] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:56:47.421289 #17658]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
F, [2020-03-31T21:56:47.451037 #17658] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:56:47.457950 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:47.459306 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:47.459883 #17658]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:56:47.460040 #17658]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:56:47.460180 #17658]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:56:47.461942 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.464813 #17658] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.467867 #17658] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6562205960"], ["active", 1]]
D, [2020-03-31T21:56:47.470425 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.473019 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.476111 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209671548"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.479012 #17658] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209671548"], ["date_of_birth", "2001-03-31"], ["phone", "2746023018"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:47.481607 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.484162 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.486632 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.488865 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.491048 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.493998 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.496387 #17658] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.498353 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.500133 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:56:47.556801 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:56:47.557546 #17658]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:56:47.557695 #17658]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:56:47.557831 #17658]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:56:47.559582 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.562384 #17658] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.565420 #17658] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4548029783"], ["active", 1]]
D, [2020-03-31T21:56:47.568206 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.570657 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.573401 #17658] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367965601"], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.576278 #17658] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367965601"], ["date_of_birth", "2001-03-31"], ["phone", "3053367144"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:56:47.578948 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.581541 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:56:47.584174 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.586589 #17658] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:56:47.589030 #17658] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.592222 #17658] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:56:47.594800 #17658] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:56:47.597022 #17658] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:56:47.599406 #17658]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:56:47 +0000
I, [2020-03-31T21:56:47.601357 #17658]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:56:47.641452 #17658]  INFO -- : Completed 500  in 39ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:56:47.660030 #17658] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:56:47.668143 #17658] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:17.649874 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:57:17.746929 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:17.747769 #17726]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:57:17.747820 #17726]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:57:17.747846 #17726]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:57:17.870906 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.873195 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:17.874929 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4786030083"], ["active", 1]]
D, [2020-03-31T21:57:17.876354 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.894599 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.898429 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250881981"], ["LIMIT", 1]]
D, [2020-03-31T21:57:17.900354 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "250881981"], ["date_of_birth", "2001-03-31"], ["phone", "7078693308"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:17.901976 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.928624 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.950060 #17726] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:17.954331 #17726] DEBUG -- :   [1m[36mStore Load (0.3ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:17.957631 #17726] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:17.973556 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:17.975740 #17726] DEBUG -- :   [1m[36mAssignment Create (0.4ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:17.977242 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.978773 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:17.980936 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:17.983176 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "163220965"], ["LIMIT", 1]]
D, [2020-03-31T21:57:17.985713 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "163220965"], ["date_of_birth", "2001-03-31"], ["phone", "4325649186"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:17.988166 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.001288 #17726]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
I, [2020-03-31T21:57:18.015095 #17726]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:57:18.015556 #17726]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:57:18.022078 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.024645 #17726] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.027783 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.030023 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.031710 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.033183 #17726] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.035655 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.037198 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-03-31T21:57:18.038452 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.039614 #17726]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-03-31T21:57:18.040750 #17726]  INFO -- : Completed 302 Found in 25ms (ActiveRecord: 1.1ms)
D, [2020-03-31T21:57:18.051942 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:18.054352 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.055707 #17726] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.056189 #17726]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:57:18.056320 #17726]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:57:18.056437 #17726]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:57:18.058052 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.060828 #17726] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.063777 #17726] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0523923384"], ["active", 1]]
D, [2020-03-31T21:57:18.066143 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.068357 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.071200 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324408164"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.073919 #17726] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "324408164"], ["date_of_birth", "2001-03-31"], ["phone", "0517574787"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.076483 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.079035 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.081712 #17726] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.083957 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.086064 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.089160 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.091556 #17726] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.093724 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.095505 #17726] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.132313 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.133573 #17726]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:57:18.133680 #17726]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:57:18.133765 #17726]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:57:18.134844 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.136656 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.138372 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5643492429"], ["active", 1]]
D, [2020-03-31T21:57:18.140031 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.141544 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.143209 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089215006"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.144927 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089215006"], ["date_of_birth", "2001-03-31"], ["phone", "8936407137"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.146372 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.148030 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.149616 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.150954 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.152278 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.154086 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.155622 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.156774 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.158311 #17726]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
I, [2020-03-31T21:57:18.159751 #17726]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:57:18.164869 #17726]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:57:18.167064 #17726]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.6ms)
I, [2020-03-31T21:57:18.169332 #17726]  INFO -- : Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:57:18.173342 #17726] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.174577 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.175119 #17726]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:57:18.175219 #17726]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:57:18.175324 #17726]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:57:18.176839 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.179001 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.181034 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2093787992"], ["active", 1]]
D, [2020-03-31T21:57:18.182649 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.184650 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.187353 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238944650"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.189307 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238944650"], ["date_of_birth", "2001-03-31"], ["phone", "2937222198"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.191060 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.193012 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.194853 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.196396 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.197850 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.199961 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.201590 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.202849 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.204732 #17726]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
I, [2020-03-31T21:57:18.205951 #17726]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:57:18.206273 #17726]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:57:18.207774 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.209433 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.498848 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.500807 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.502765 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.504319 #17726]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:57:18.504938 #17726]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:57:18.506550 #17726]  INFO -- : Completed 200 OK in 300ms (Views: 1.9ms | ActiveRecord: 0.5ms)
D, [2020-03-31T21:57:18.512210 #17726] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.513256 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.513668 #17726]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:57:18.513791 #17726]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:57:18.513893 #17726]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:57:18.515150 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.517226 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.519308 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3061098939"], ["active", 1]]
D, [2020-03-31T21:57:18.521104 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.522861 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.525005 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062947063"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.527013 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062947063"], ["date_of_birth", "2001-03-31"], ["phone", "0574296431"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.528821 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.530742 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.532667 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.534202 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.535731 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.537689 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.539146 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.540494 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.542058 #17726]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
F, [2020-03-31T21:57:18.560306 #17726] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:57:18.565344 #17726]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
F, [2020-03-31T21:57:18.583505 #17726] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:57:18.587870 #17726] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.588816 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.589242 #17726]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:57:18.589354 #17726]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:57:18.589428 #17726]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:57:18.590532 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.592398 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.594227 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7784395588"], ["active", 1]]
D, [2020-03-31T21:57:18.595782 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.597342 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.599212 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026956154"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.601095 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026956154"], ["date_of_birth", "2001-03-31"], ["phone", "4689102782"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.602694 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.604377 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.606101 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.607503 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.608921 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.610807 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.612318 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.613518 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.614667 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:57:18.616108 #17726]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
I, [2020-03-31T21:57:18.617447 #17726]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:57:18.617769 #17726]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:57:18.619377 #17726] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.620700 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.621978 #17726] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:57:18.623137 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.624233 #17726]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:57:18.625198 #17726]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-03-31T21:57:18.629999 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:18.631114 #17726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:18.632003 #17726] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:18.632341 #17726]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:57:18.632459 #17726]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:57:18.632559 #17726]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:57:18.633593 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.635264 #17726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.637088 #17726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7635306802"], ["active", 1]]
D, [2020-03-31T21:57:18.638567 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.640144 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.641878 #17726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238199628"], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.643609 #17726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238199628"], ["date_of_birth", "2001-03-31"], ["phone", "3289788799"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:18.645157 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.646653 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:18.648322 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.649674 #17726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:18.651006 #17726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.652908 #17726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:18.654427 #17726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:18.655634 #17726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:18.657051 #17726]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:57:18 +0000
I, [2020-03-31T21:57:18.658226 #17726]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:57:18.683250 #17726]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:57:18.694123 #17726] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:57:18.698579 #17726] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.041911 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:57:41.134145 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.134631 #17788]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:57:41.134677 #17788]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:57:41.134700 #17788]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:57:41.236561 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.238581 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.240321 #17788] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9497163375"], ["active", 1]]
D, [2020-03-31T21:57:41.241547 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.256534 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.259509 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014820834"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.261039 #17788] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014820834"], ["date_of_birth", "2001-03-31"], ["phone", "2768444585"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.262226 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.279685 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.281461 #17788] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.283588 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.285212 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.306666 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.307972 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.308873 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.309806 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:41.311036 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.312394 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126774747"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.313632 #17788] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "126774747"], ["date_of_birth", "2001-03-31"], ["phone", "9222297235"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.314782 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.322414 #17788]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
I, [2020-03-31T21:57:41.332081 #17788]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:57:41.332427 #17788]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:57:41.338090 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.340432 #17788] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.342470 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.344213 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.345560 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.346949 #17788] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.348808 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.350287 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-03-31T21:57:41.351564 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.352609 #17788]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-03-31T21:57:41.353683 #17788]  INFO -- : Completed 302 Found in 21ms (ActiveRecord: 0.9ms)
D, [2020-03-31T21:57:41.363158 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:41.365207 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.366414 #17788] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.366759 #17788]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:57:41.366865 #17788]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:57:41.366934 #17788]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:57:41.368029 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.369643 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.371257 #17788] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7842563071"], ["active", 1]]
D, [2020-03-31T21:57:41.372733 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.374093 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.375665 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "139737710"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.377173 #17788] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "139737710"], ["date_of_birth", "2001-03-31"], ["phone", "0097167254"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.378568 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.379999 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.381450 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.382732 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.383975 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.385689 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.387080 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.388205 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.389650 #17788]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
I, [2020-03-31T21:57:41.390799 #17788]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:57:41.412796 #17788]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:57:41.422175 #17788] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:57:41.427196 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.428262 #17788] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.428613 #17788]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:57:41.428691 #17788]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:57:41.428752 #17788]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:57:41.429741 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.431378 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.433038 #17788] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1892007546"], ["active", 1]]
D, [2020-03-31T21:57:41.434453 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.435784 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.437244 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "068825314"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.438737 #17788] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "068825314"], ["date_of_birth", "2001-03-31"], ["phone", "6343409073"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.440137 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.441515 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.442870 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.444206 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.445458 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.447155 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.448563 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.449629 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.450946 #17788]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
I, [2020-03-31T21:57:41.452191 #17788]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:57:41.456427 #17788]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:57:41.457960 #17788]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T21:57:41.459523 #17788]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:57:41.462558 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.463442 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.463797 #17788]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:57:41.463878 #17788]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:57:41.463940 #17788]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:57:41.464958 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.466649 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.468329 #17788] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5580216845"], ["active", 1]]
D, [2020-03-31T21:57:41.469753 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.471104 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.472686 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "318259335"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.474216 #17788] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "318259335"], ["date_of_birth", "2001-03-31"], ["phone", "2520814635"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.475685 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.477041 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.478456 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.479784 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.481128 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.482908 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.484307 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.485487 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.486905 #17788]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
F, [2020-03-31T21:57:41.503704 #17788] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:57:41.508572 #17788]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
F, [2020-03-31T21:57:41.525138 #17788] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:57:41.529800 #17788] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.530700 #17788] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.531049 #17788]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:57:41.531157 #17788]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:57:41.531243 #17788]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:57:41.532341 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.534063 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.535899 #17788] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1910999022"], ["active", 1]]
D, [2020-03-31T21:57:41.545261 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.546772 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.548485 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "373089392"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.550047 #17788] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373089392"], ["date_of_birth", "2001-03-31"], ["phone", "7157045718"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.551459 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.552792 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.554102 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.555390 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.556658 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.558328 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.559641 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.560722 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.561760 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.594727 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.595154 #17788]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:57:41.595235 #17788]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:57:41.595323 #17788]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:57:41.596397 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.598071 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.599780 #17788] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0060339035"], ["active", 1]]
D, [2020-03-31T21:57:41.601302 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.602782 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.604557 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232194218"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.606121 #17788] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "232194218"], ["date_of_birth", "2001-03-31"], ["phone", "0112952627"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.607549 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.609009 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.610511 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.611856 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.613073 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.614764 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.616347 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.617446 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.619017 #17788]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
I, [2020-03-31T21:57:41.620160 #17788]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:57:41.620480 #17788]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:57:41.621783 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.623244 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.899430 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.901060 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.902731 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.903999 #17788]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:57:41.904504 #17788]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:57:41.905832 #17788]  INFO -- : Completed 200 OK in 285ms (Views: 1.6ms | ActiveRecord: 0.5ms)
D, [2020-03-31T21:57:41.910487 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:57:41.911472 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:57:41.911889 #17788]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:57:41.911986 #17788]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:57:41.912109 #17788]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:57:41.913179 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.914968 #17788] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.916934 #17788] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1331463633"], ["active", 1]]
D, [2020-03-31T21:57:41.918486 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.919992 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.921766 #17788] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169124468"], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.923530 #17788] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "169124468"], ["date_of_birth", "2001-03-31"], ["phone", "3835830511"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:57:41.925012 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.926607 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.928169 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.929639 #17788] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:57:41.931005 #17788] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.932938 #17788] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.934403 #17788] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:57:41.935712 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.936909 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:57:41.938274 #17788]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:57:41 +0000
I, [2020-03-31T21:57:41.939570 #17788]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:57:41.939967 #17788]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:57:41.941381 #17788] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:57:41.942683 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:57:41.944065 #17788] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:57:41.945278 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:57:41.946313 #17788]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:57:41.947326 #17788]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T21:57:41.951994 #17788] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:57:41.953119 #17788] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:17.150683 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T21:59:17.283131 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:17.283926 #17931]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T21:59:17.284001 #17931]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T21:59:17.284052 #17931]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T21:59:17.465393 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.469116 #17931] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.472375 #17931] DEBUG -- :   [1m[36mStore Create (0.6ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8253332635"], ["active", 1]]
D, [2020-03-31T21:59:17.474884 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.497807 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.503231 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037571960"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.506352 #17931] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "037571960"], ["date_of_birth", "2001-03-31"], ["phone", "9810673631"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:17.508745 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.543442 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.546861 #17931] DEBUG -- :   [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.550682 #17931] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.553779 #17931] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.589624 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.591930 #17931] DEBUG -- :   [1m[36mAssignment Create (0.4ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:17.593589 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.595372 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:59:17.597604 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.600238 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147704249"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.602644 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "147704249"], ["date_of_birth", "2001-03-31"], ["phone", "3464432785"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:17.605005 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:17.619423 #17931]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:59:17 +0000
I, [2020-03-31T21:59:17.637421 #17931]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:59:17.638084 #17931]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:59:17.648503 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.894300 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.896104 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.897842 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:17.902553 #17931]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:59:17.904283 #17931]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T21:59:17.906114 #17931]  INFO -- : Completed 200 OK in 268ms (Views: 6.5ms | ActiveRecord: 0.5ms)
D, [2020-03-31T21:59:17.913619 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:59:17.914742 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:17.916057 #17931] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:17.916424 #17931]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T21:59:17.916524 #17931]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T21:59:17.916636 #17931]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T21:59:17.917758 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.919647 #17931] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.921472 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7286322324"], ["active", 1]]
D, [2020-03-31T21:59:17.923207 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.924772 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.926636 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238174793"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.928387 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238174793"], ["date_of_birth", "2001-03-31"], ["phone", "7726051208"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:17.929914 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.931629 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.933226 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.934750 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.936260 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.938187 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.939847 #17931] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:17.941000 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.942161 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T21:59:17.943604 #17931]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 21:59:17 +0000
I, [2020-03-31T21:59:17.944995 #17931]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T21:59:17.945340 #17931]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T21:59:17.946899 #17931] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.948212 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.949517 #17931] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T21:59:17.950658 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:17.951805 #17931]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T21:59:17.952836 #17931]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T21:59:17.957893 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T21:59:17.960121 #17931] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:17.961102 #17931] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:17.961490 #17931]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T21:59:17.961591 #17931]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T21:59:17.961663 #17931]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T21:59:17.962880 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.964618 #17931] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.966313 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6580414425"], ["active", 1]]
D, [2020-03-31T21:59:17.967774 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.969256 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.970925 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "161522461"], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.972625 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "161522461"], ["date_of_birth", "2001-03-31"], ["phone", "0900233526"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:17.974000 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.975564 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:17.977155 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.978597 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:17.979925 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.981766 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:17.983192 #17931] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:17.984318 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:17.985877 #17931]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 21:59:17 +0000
F, [2020-03-31T21:59:18.005576 #17931] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T21:59:18.011582 #17931]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 21:59:18 +0000
F, [2020-03-31T21:59:18.032931 #17931] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:59:18.037524 #17931] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:18.038703 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:18.039062 #17931]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T21:59:18.039170 #17931]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T21:59:18.039242 #17931]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T21:59:18.040370 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.042302 #17931] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.044189 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2870204449"], ["active", 1]]
D, [2020-03-31T21:59:18.045809 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.047417 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.049219 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182178726"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.050959 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182178726"], ["date_of_birth", "2001-03-31"], ["phone", "2693258097"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:18.052577 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.054223 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.055871 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.057203 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.058576 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.060487 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.062203 #17931] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:18.063487 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.064638 #17931] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:18.101177 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:18.101700 #17931]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T21:59:18.101794 #17931]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T21:59:18.101865 #17931]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T21:59:18.103021 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.104855 #17931] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.106727 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7793149460"], ["active", 1]]
D, [2020-03-31T21:59:18.108442 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.110392 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.112418 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089535930"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.115101 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089535930"], ["date_of_birth", "2001-03-31"], ["phone", "0169703416"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:18.117402 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.119514 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.121675 #17931] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.123525 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.125166 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.127646 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.129543 #17931] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:18.130921 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:18.132956 #17931]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 21:59:18 +0000
I, [2020-03-31T21:59:18.134365 #17931]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T21:59:18.134885 #17931]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T21:59:18.136571 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.142117 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.144216 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.146086 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:18.147606 #17931]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:59:18.148128 #17931]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:59:18.149799 #17931]  INFO -- : Completed 200 OK in 14ms (Views: 1.9ms | ActiveRecord: 0.4ms)
D, [2020-03-31T21:59:18.154814 #17931] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:18.155976 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:18.156469 #17931]  INFO -- : ------------------------------------------------
I, [2020-03-31T21:59:18.156612 #17931]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T21:59:18.156700 #17931]  INFO -- : ------------------------------------------------
D, [2020-03-31T21:59:18.158087 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.160151 #17931] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.162157 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9251067699"], ["active", 1]]
D, [2020-03-31T21:59:18.164022 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.165736 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.167954 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158264936"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.169906 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158264936"], ["date_of_birth", "2001-03-31"], ["phone", "2307398690"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:18.171689 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.173577 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.175461 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.177090 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.178589 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.180753 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.182577 #17931] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:18.184089 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:18.185821 #17931]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 21:59:18 +0000
I, [2020-03-31T21:59:18.187103 #17931]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T21:59:18.212986 #17931]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T21:59:18.226265 #17931] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T21:59:18.231387 #17931] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T21:59:18.232918 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T21:59:18.233355 #17931]  INFO -- : ----------------------------------------------
I, [2020-03-31T21:59:18.233443 #17931]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T21:59:18.233535 #17931]  INFO -- : ----------------------------------------------
D, [2020-03-31T21:59:18.234694 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.236575 #17931] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.238368 #17931] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4277060622"], ["active", 1]]
D, [2020-03-31T21:59:18.239935 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.241488 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.243234 #17931] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230755723"], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.257675 #17931] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "230755723"], ["date_of_birth", "2001-03-31"], ["phone", "1454626547"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T21:59:18.259901 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.261751 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T21:59:18.263580 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.264953 #17931] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T21:59:18.266413 #17931] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.268573 #17931] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T21:59:18.270108 #17931] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T21:59:18.271615 #17931] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T21:59:18.273333 #17931]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 21:59:18 +0000
I, [2020-03-31T21:59:18.274800 #17931]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T21:59:18.276205 #17931]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T21:59:18.276758 #17931]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T21:59:18.278058 #17931]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-03-31T21:59:18.281429 #17931] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.388236 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:01:23.481988 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.482499 #18110]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:01:23.482569 #18110]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:01:23.482599 #18110]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:01:23.597640 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.599899 #18110] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.601634 #18110] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7626527458"], ["active", 1]]
D, [2020-03-31T22:01:23.603015 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.619473 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.622897 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117223306"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.624555 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117223306"], ["date_of_birth", "2001-03-31"], ["phone", "3966310468"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.625898 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.645918 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.648101 #18110] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.650702 #18110] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.652508 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.662041 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.663360 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.664264 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:23.673000 #18110]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
I, [2020-03-31T22:01:23.683789 #18110]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:01:23.684121 #18110]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:01:23.690538 #18110]  INFO -- : Completed 500  in 6ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:23.696864 #18110] FATAL -- : 
ArgumentError - wrong number of arguments (given 2, expected 1):
  app/controllers/assignments_controller.rb:43:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:23.703606 #18110] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.704921 #18110] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.705326 #18110]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:01:23.705458 #18110]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:01:23.705533 #18110]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:01:23.706783 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.708946 #18110] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.711160 #18110] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5799282402"], ["active", 1]]
D, [2020-03-31T22:01:23.713222 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.729039 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.731516 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "213608785"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.733506 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "213608785"], ["date_of_birth", "2001-03-31"], ["phone", "1094725548"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.735062 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.737089 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.739034 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.740613 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.742148 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.744216 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.745872 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.747070 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:23.748762 #18110]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
I, [2020-03-31T22:01:23.750285 #18110]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:01:23.755107 #18110]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:01:23.756708 #18110]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:01:23.758255 #18110]  INFO -- : Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:01:23.762448 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.763421 #18110] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.763756 #18110]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:01:23.763836 #18110]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:01:23.763898 #18110]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:01:23.765011 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.766822 #18110] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.768539 #18110] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2010686839"], ["active", 1]]
D, [2020-03-31T22:01:23.769948 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.771386 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.773124 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007104453"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.774780 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007104453"], ["date_of_birth", "2001-03-31"], ["phone", "1549487852"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.776211 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.777877 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.779474 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.780806 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.782124 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.783945 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.785431 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.786504 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.787599 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.822116 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.822554 #18110]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:01:23.822639 #18110]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:01:23.822734 #18110]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:01:23.823860 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.825682 #18110] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.827403 #18110] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5447638831"], ["active", 1]]
D, [2020-03-31T22:01:23.828850 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.830384 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.832228 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147440639"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.833930 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147440639"], ["date_of_birth", "2001-03-31"], ["phone", "5218710006"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.835387 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.836939 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.838500 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.839841 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.841143 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.842915 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.844367 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.845499 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.846680 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:23.848117 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.849708 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108086306"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.851194 #18110] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "108086306"], ["date_of_birth", "2001-03-31"], ["phone", "7932296029"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.852583 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:23.854259 #18110]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
I, [2020-03-31T22:01:23.855477 #18110]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:01:23.855816 #18110]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:01:23.857701 #18110]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:23.862728 #18110] FATAL -- : 
ArgumentError - wrong number of arguments (given 2, expected 1):
  app/controllers/assignments_controller.rb:43:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:23.868036 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:23.869161 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.870294 #18110] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.870656 #18110]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:01:23.870742 #18110]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:01:23.870809 #18110]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:01:23.871892 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.873601 #18110] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.875318 #18110] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9448391648"], ["active", 1]]
D, [2020-03-31T22:01:23.876754 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.878219 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.879927 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "381493078"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.881552 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381493078"], ["date_of_birth", "2001-03-31"], ["phone", "5264779060"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.882987 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.884584 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.886105 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.887418 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.888679 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.890428 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.891850 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.892996 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:23.894489 #18110]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
F, [2020-03-31T22:01:23.911567 #18110] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:01:23.916433 #18110]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
F, [2020-03-31T22:01:23.939043 #18110] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:23.943932 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:23.944983 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:23.945350 #18110]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:01:23.945443 #18110]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:01:23.945536 #18110]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:01:23.946608 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.948387 #18110] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.950180 #18110] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3634245198"], ["active", 1]]
D, [2020-03-31T22:01:23.951839 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.953378 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.955098 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "029760970"], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.956898 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "029760970"], ["date_of_birth", "2001-03-31"], ["phone", "7114552270"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:23.958435 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.960154 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:23.961748 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.963128 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:23.964578 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.966402 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:23.967969 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:23.969194 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:23.970621 #18110]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:01:23 +0000
I, [2020-03-31T22:01:23.971833 #18110]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:01:24.002371 #18110]  INFO -- : Completed 500  in 30ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:24.018595 #18110] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:24.023803 #18110] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:24.025310 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:24.025664 #18110]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:01:24.025749 #18110]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:01:24.025854 #18110]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:01:24.026871 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.028636 #18110] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:24.030289 #18110] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2614018240"], ["active", 1]]
D, [2020-03-31T22:01:24.031715 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.033085 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.034711 #18110] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034240293"], ["LIMIT", 1]]
D, [2020-03-31T22:01:24.036340 #18110] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034240293"], ["date_of_birth", "2001-03-31"], ["phone", "2630813314"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:24.037712 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.039195 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.040753 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:24.042032 #18110] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:24.043251 #18110] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:24.045085 #18110] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:24.046424 #18110] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:24.047634 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.048681 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:01:24.049935 #18110]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:01:24 +0000
I, [2020-03-31T22:01:24.051329 #18110]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:01:24.051656 #18110]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:01:24.053122 #18110] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:24.054420 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:24.055764 #18110] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:01:24.056819 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:24.057883 #18110]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:01:24.058854 #18110]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-03-31T22:01:24.063907 #18110] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:24.064979 #18110] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:47.932430 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:01:48.016583 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.017066 #18173]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:01:48.017113 #18173]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:01:48.017137 #18173]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:01:48.121744 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.124157 #18173] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.125950 #18173] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4324951000"], ["active", 1]]
D, [2020-03-31T22:01:48.127182 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.142643 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.145602 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052931925"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.147089 #18173] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052931925"], ["date_of_birth", "2001-03-31"], ["phone", "7605180746"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.148320 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.166457 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.168266 #18173] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.170352 #18173] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.172106 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.193479 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.194763 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.195725 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.198718 #18173]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
I, [2020-03-31T22:01:48.208117 #18173]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:01:48.235238 #18173]  INFO -- : Completed 500  in 27ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:48.251722 #18173] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:48.258958 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.260246 #18173] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.260647 #18173]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:01:48.260732 #18173]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:01:48.260838 #18173]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:01:48.261923 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.263834 #18173] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.265639 #18173] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0162799209"], ["active", 1]]
D, [2020-03-31T22:01:48.267156 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.268734 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.270300 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "275353495"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.272033 #18173] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "275353495"], ["date_of_birth", "2001-03-31"], ["phone", "4422416381"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.273547 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.275026 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.276581 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.277928 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.279267 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.280998 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.282466 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.283751 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.290725 #18173]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
I, [2020-03-31T22:01:48.292105 #18173]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:01:48.292405 #18173]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:01:48.294247 #18173]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:48.299126 #18173] FATAL -- : 
ArgumentError - wrong number of arguments (given 2, expected 1):
  app/controllers/assignments_controller.rb:43:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:48.303712 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.304854 #18173] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.305273 #18173]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:01:48.305357 #18173]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:01:48.305431 #18173]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:01:48.306479 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.308282 #18173] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.309949 #18173] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8183947701"], ["active", 1]]
D, [2020-03-31T22:01:48.311495 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.312899 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.314621 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "040444516"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.316210 #18173] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "040444516"], ["date_of_birth", "2001-03-31"], ["phone", "4703635962"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.317726 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.319101 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.320694 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.322060 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.323355 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.325179 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.326556 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.327815 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.329201 #18173]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
I, [2020-03-31T22:01:48.330461 #18173]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:01:48.334993 #18173]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:01:48.336576 #18173]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:01:48.338012 #18173]  INFO -- : Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:01:48.341027 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.341937 #18173] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.342292 #18173]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:01:48.342398 #18173]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:01:48.342466 #18173]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:01:48.343470 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.345082 #18173] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.346815 #18173] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4728121463"], ["active", 1]]
D, [2020-03-31T22:01:48.348348 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.349743 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.351315 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196351432"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.352969 #18173] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "196351432"], ["date_of_birth", "2001-03-31"], ["phone", "0749971679"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.354439 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.355978 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.357463 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.358806 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.360205 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.362086 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.363553 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.364763 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.366303 #18173]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
F, [2020-03-31T22:01:48.385928 #18173] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:01:48.391053 #18173]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
F, [2020-03-31T22:01:48.411000 #18173] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:48.415457 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.416404 #18173] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.416791 #18173]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:01:48.416893 #18173]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:01:48.416964 #18173]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:01:48.418047 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.419883 #18173] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.421715 #18173] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6108514295"], ["active", 1]]
D, [2020-03-31T22:01:48.423416 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.424906 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.426615 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "203520102"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.428422 #18173] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "203520102"], ["date_of_birth", "2001-03-31"], ["phone", "4020351417"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.430064 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.431685 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.433226 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.434643 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.436006 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.437741 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.439245 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.447685 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.448678 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.481590 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.482006 #18173]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:01:48.482089 #18173]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:01:48.482154 #18173]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:01:48.483136 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.484803 #18173] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.486448 #18173] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6878347028"], ["active", 1]]
D, [2020-03-31T22:01:48.487884 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.489159 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.490632 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158862808"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.492139 #18173] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158862808"], ["date_of_birth", "2001-03-31"], ["phone", "3922387662"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.493623 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.494936 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.496382 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.497588 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.498838 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.500519 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.501815 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.502848 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.504025 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:48.505341 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.506804 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384618952"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.508278 #18173] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "384618952"], ["date_of_birth", "2001-03-31"], ["phone", "3487680070"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.509675 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.511227 #18173]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
I, [2020-03-31T22:01:48.512403 #18173]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:01:48.512717 #18173]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:01:48.514553 #18173]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:01:48.519218 #18173] FATAL -- : 
ArgumentError - wrong number of arguments (given 2, expected 1):
  app/controllers/assignments_controller.rb:43:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:01:48.523605 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:48.524611 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:01:48.525769 #18173] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:01:48.526108 #18173]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:01:48.526192 #18173]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:01:48.526256 #18173]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:01:48.527202 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.528795 #18173] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.530453 #18173] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7426506398"], ["active", 1]]
D, [2020-03-31T22:01:48.531962 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.533334 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.534818 #18173] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054806792"], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.536375 #18173] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054806792"], ["date_of_birth", "2001-03-31"], ["phone", "1090120902"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:01:48.537776 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.539135 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.540510 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.541768 #18173] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:01:48.542968 #18173] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.544690 #18173] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.545979 #18173] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:01:48.547049 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.548106 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:01:48.549334 #18173]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:01:48 +0000
I, [2020-03-31T22:01:48.550525 #18173]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:01:48.550848 #18173]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:01:48.552176 #18173] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:01:48.553367 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:01:48.554522 #18173] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:01:48.555715 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:01:48.556654 #18173]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:01:48.557539 #18173]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-03-31T22:01:48.562136 #18173] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:01:48.563159 #18173] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:11.127188 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:09:11.221498 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:11.221966 #18677]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:09:11.222012 #18677]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:09:11.222036 #18677]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:09:11.358002 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.360275 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.362128 #18677] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0224293209"], ["active", 1]]
D, [2020-03-31T22:09:11.363568 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.379149 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.382389 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108678314"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.383985 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "108678314"], ["date_of_birth", "2001-03-31"], ["phone", "4706131932"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:11.385227 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.404124 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.406102 #18677] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.408436 #18677] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.410218 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.419973 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.421425 #18677] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:11.422404 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:11.425600 #18677]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:09:11 +0000
I, [2020-03-31T22:09:11.436375 #18677]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:09:11.468779 #18677]  INFO -- : Completed 500  in 32ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:09:11.501626 #18677] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:09:11.509853 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:11.511621 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:11.512026 #18677]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:09:11.512134 #18677]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:09:11.512208 #18677]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:09:11.513387 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.515372 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.517423 #18677] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8879730459"], ["active", 1]]
D, [2020-03-31T22:09:11.532557 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.534269 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.536223 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278542492"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.537902 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278542492"], ["date_of_birth", "2001-03-31"], ["phone", "4182219306"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:11.539340 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.540821 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.542416 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.543757 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.545073 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.546854 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.548168 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:11.549222 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:11.550678 #18677]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:09:11 +0000
F, [2020-03-31T22:09:11.578767 #18677] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:09:11.583409 #18677]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:09:11 +0000
F, [2020-03-31T22:09:11.611723 #18677] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:09:11.615843 #18677] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:11.617077 #18677] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:11.617434 #18677]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:09:11.617514 #18677]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:09:11.617578 #18677]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:09:11.618588 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.620245 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.621871 #18677] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0067957938"], ["active", 1]]
D, [2020-03-31T22:09:11.623243 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.624632 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.626260 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "243424258"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.627810 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "243424258"], ["date_of_birth", "2001-03-31"], ["phone", "5353443838"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:11.629278 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.630685 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.632193 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.633430 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.634719 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.636414 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.637771 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:11.638958 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.640077 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:11.675214 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:11.675704 #18677]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:09:11.675788 #18677]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:09:11.675852 #18677]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:09:11.676897 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.678534 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.680255 #18677] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8456696298"], ["active", 1]]
D, [2020-03-31T22:09:11.681705 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.683086 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.684670 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034412260"], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.686412 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034412260"], ["date_of_birth", "2001-03-31"], ["phone", "8019547110"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:11.688197 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.689766 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.691419 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.692705 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.693971 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.695727 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.697109 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:11.698244 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:11.705184 #18677]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:09:11 +0000
I, [2020-03-31T22:09:11.706530 #18677]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:09:11.706867 #18677]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:09:11.708448 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:11.710602 #18677] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:11.978702 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.980461 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:11.982124 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:11.987027 #18677]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:09:11.988906 #18677]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.4ms)
I, [2020-03-31T22:09:11.990814 #18677]  INFO -- : Completed 200 OK in 284ms (Views: 7.0ms | ActiveRecord: 0.5ms)
D, [2020-03-31T22:09:11.995855 #18677] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:11.997529 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:11.998059 #18677]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:09:11.998153 #18677]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:09:11.998225 #18677]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:09:11.999558 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.001674 #18677] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.005585 #18677] DEBUG -- :   [1m[36mStore Create (1.9ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7829218906"], ["active", 1]]
D, [2020-03-31T22:09:12.007513 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.009495 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.011992 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378287481"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.013940 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "378287481"], ["date_of_birth", "2001-03-31"], ["phone", "1984867923"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:12.015750 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.017511 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.019199 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.020892 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.022871 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.025333 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.026918 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:12.028207 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.029523 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:09:12.031097 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.032882 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140474806"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.034477 #18677] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "140474806"], ["date_of_birth", "2001-03-31"], ["phone", "5400934073"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:12.036027 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:12.037910 #18677]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:09:12 +0000
I, [2020-03-31T22:09:12.039348 #18677]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:09:12.039708 #18677]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:09:12.041180 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.042812 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.045309 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.047210 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.048736 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.050097 #18677] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.052075 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.053666 #18677] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-03-31T22:09:12.054966 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:12.056126 #18677]  INFO -- : Redirected to http://www.example.com/assignments/2
I, [2020-03-31T22:09:12.057210 #18677]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-03-31T22:09:12.064197 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:09:12.065535 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:12.067488 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:12.067892 #18677]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:09:12.067982 #18677]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:09:12.068051 #18677]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:09:12.069055 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.070705 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.072432 #18677] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1543018104"], ["active", 1]]
D, [2020-03-31T22:09:12.073907 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.075460 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.077234 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218574491"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.078865 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218574491"], ["date_of_birth", "2001-03-31"], ["phone", "5650609589"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:12.081428 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.082994 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.084620 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.085997 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.087316 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.089165 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.090625 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:12.091915 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:12.093330 #18677]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:09:12 +0000
I, [2020-03-31T22:09:12.094718 #18677]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:09:12.096096 #18677]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:09:12.096550 #18677]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:09:12.097671 #18677]  INFO -- : Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:09:12.100636 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:09:12.101930 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:09:12.102325 #18677]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:09:12.102412 #18677]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:09:12.102481 #18677]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:09:12.103516 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.105206 #18677] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.106826 #18677] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5067908814"], ["active", 1]]
D, [2020-03-31T22:09:12.108301 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.109737 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.111557 #18677] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126732465"], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.113141 #18677] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126732465"], ["date_of_birth", "2001-03-31"], ["phone", "0829458106"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:09:12.114521 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.116039 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.117505 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.118861 #18677] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:09:12.120167 #18677] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.121887 #18677] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.123244 #18677] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:09:12.124371 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.125415 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:09:12.126750 #18677]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:09:12 +0000
I, [2020-03-31T22:09:12.128034 #18677]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:09:12.128341 #18677]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:09:12.129734 #18677] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:09:12.130923 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:09:12.132083 #18677] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:09:12.133139 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:09:12.134087 #18677]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:09:12.134983 #18677]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:09:12.139250 #18677] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:09:12.140299 #18677] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:16.352499 #18860] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:10:16.459674 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:16.460391 #18860]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:10:16.460659 #18860]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:10:16.460704 #18860]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:10:16.648515 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.650951 #18860] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.652991 #18860] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3182332953"], ["active", 1]]
D, [2020-03-31T22:10:16.654495 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.671267 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.674843 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032772813"], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.677453 #18860] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "032772813"], ["date_of_birth", "2001-03-31"], ["phone", "6306777546"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:16.678842 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.700657 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.702859 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:16.705248 #18860] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:16.707037 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.719272 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.720968 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:16.721948 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.723117 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:10:16.726713 #18860]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:10:16 +0000
I, [2020-03-31T22:10:16.742728 #18860]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:10:16.743124 #18860]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:10:16.749518 #18860] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.751126 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.752578 #18860] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:10:16.753843 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:16.755032 #18860]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:10:16.756198 #18860]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
D, [2020-03-31T22:10:16.768818 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:10:16.773029 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:16.774119 #18860] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:16.774521 #18860]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:10:16.774638 #18860]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:10:16.774741 #18860]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:10:16.776134 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.778672 #18860] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.781764 #18860] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9705157094"], ["active", 1]]
D, [2020-03-31T22:10:16.784957 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.787721 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.789807 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132637393"], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.791869 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132637393"], ["date_of_birth", "2001-03-31"], ["phone", "8349651429"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:16.808743 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.810481 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:16.812412 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:16.814424 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:16.816468 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.819798 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:16.822157 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:16.823750 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:16.825926 #18860]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:10:16 +0000
I, [2020-03-31T22:10:16.827844 #18860]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:10:16.828328 #18860]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:10:16.830275 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.117899 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.120820 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.123697 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.131632 #18860]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:10:17.134402 #18860]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (2.0ms)
I, [2020-03-31T22:10:17.137240 #18860]  INFO -- : Completed 200 OK in 308ms (Views: 10.9ms | ActiveRecord: 0.6ms)
D, [2020-03-31T22:10:17.144417 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:17.145835 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:17.146477 #18860]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:10:17.146670 #18860]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:10:17.146807 #18860]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:10:17.148729 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.151891 #18860] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.154953 #18860] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7134326259"], ["active", 1]]
D, [2020-03-31T22:10:17.157502 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.160317 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.163679 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108239911"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.166739 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "108239911"], ["date_of_birth", "2001-03-31"], ["phone", "5209618392"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.169119 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.172038 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.174952 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.177666 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.180023 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.182968 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.184710 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:17.186502 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.188964 #18860]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:10:17 +0000
F, [2020-03-31T22:10:17.210324 #18860] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:10:17.216361 #18860]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:10:17 +0000
F, [2020-03-31T22:10:17.237979 #18860] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:10:17.242850 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:17.244029 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:17.244393 #18860]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:10:17.244575 #18860]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:10:17.244675 #18860]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:10:17.245862 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.247994 #18860] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.251221 #18860] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1787690281"], ["active", 1]]
D, [2020-03-31T22:10:17.254319 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.257392 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.260718 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "144128745"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.263775 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144128745"], ["date_of_birth", "2001-03-31"], ["phone", "5263428493"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.266546 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.269496 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.272444 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.275019 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.277409 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.280696 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.283024 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:17.285060 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.287473 #18860]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:10:17 +0000
I, [2020-03-31T22:10:17.290823 #18860]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:10:17.331274 #18860]  INFO -- : Completed 500  in 40ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:10:17.354837 #18860] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:10:17.362100 #18860] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:17.365277 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:17.365875 #18860]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:10:17.366029 #18860]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:10:17.366155 #18860]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:10:17.368096 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.370835 #18860] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.373703 #18860] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5446746774"], ["active", 1]]
D, [2020-03-31T22:10:17.376501 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.379020 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.382016 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016801268"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.385087 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016801268"], ["date_of_birth", "2001-03-31"], ["phone", "8716336595"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.387836 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.390457 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.393075 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.395389 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.397639 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.400762 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.403141 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:17.405181 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.407486 #18860]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:10:17 +0000
I, [2020-03-31T22:10:17.409798 #18860]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:10:17.411959 #18860]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:10:17.412821 #18860]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:10:17.414831 #18860]  INFO -- : Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:10:17.419888 #18860] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:17.421317 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:17.426376 #18860]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:10:17.426692 #18860]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:10:17.426827 #18860]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:10:17.429145 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.432209 #18860] DEBUG -- :   [1m[36mStore Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.435171 #18860] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3109441144"], ["active", 1]]
D, [2020-03-31T22:10:17.437863 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.441037 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.444154 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122527112"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.447059 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122527112"], ["date_of_birth", "2001-03-31"], ["phone", "9046930418"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.449713 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.452460 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.454989 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.457277 #18860] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.459458 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.462422 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.464723 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:17.466555 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.468252 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:10:17.475886 #18860] DEBUG -- :   [1m[36mAssignment Load (0.4ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:10:17.477965 #18860] DEBUG -- :   [1m[36mAssignment Load (0.3ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:10:17.530755 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:10:17.531641 #18860]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:10:17.531803 #18860]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:10:17.531930 #18860]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:10:17.533983 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.536823 #18860] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.539750 #18860] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0817090430"], ["active", 1]]
D, [2020-03-31T22:10:17.542314 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.544918 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.548009 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "264226026"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.551075 #18860] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "264226026"], ["date_of_birth", "2001-03-31"], ["phone", "0176385210"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.553904 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.556609 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.559261 #18860] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.561617 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.564026 #18860] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.567095 #18860] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.569394 #18860] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:10:17.571434 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.573386 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:10:17.576026 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.579063 #18860] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338106193"], ["LIMIT", 1]]
D, [2020-03-31T22:10:17.582046 #18860] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "338106193"], ["date_of_birth", "2001-03-31"], ["phone", "4120220008"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:10:17.584866 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.587773 #18860]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:10:17 +0000
I, [2020-03-31T22:10:17.589732 #18860]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:10:17.590285 #18860]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:10:17.592682 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:10:17.600669 #18860] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.603682 #18860] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:10:17.606463 #18860] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:10:17.608653 #18860]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:10:17.609346 #18860]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:10:17.611738 #18860]  INFO -- : Completed 200 OK in 21ms (Views: 2.3ms | ActiveRecord: 0.6ms)
D, [2020-03-31T22:10:17.619807 #18860] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:10:17.621582 #18860] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:20.748974 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:12:20.835666 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:20.836158 #19023]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:12:20.836203 #19023]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:12:20.836227 #19023]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:12:20.936555 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.938707 #19023] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:20.940417 #19023] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3135443928"], ["active", 1]]
D, [2020-03-31T22:12:20.941648 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.956793 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.960182 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "323893613"], ["LIMIT", 1]]
D, [2020-03-31T22:12:20.961800 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "323893613"], ["date_of_birth", "2001-03-31"], ["phone", "3648091997"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:20.963025 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.981152 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.983001 #19023] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:20.985085 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:20.986542 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:20.995153 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:20.996378 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:20.997268 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:20.998177 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:12:21.001257 #19023]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
I, [2020-03-31T22:12:21.015730 #19023]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:12:21.016072 #19023]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:12:21.021939 #19023] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.023394 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.024657 #19023] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:12:21.025711 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.026825 #19023]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:12:21.027932 #19023]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T22:12:21.035823 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:21.038584 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.039656 #19023] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.039994 #19023]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:12:21.040076 #19023]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:12:21.040136 #19023]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:12:21.041257 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.043056 #19023] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.044932 #19023] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0254236568"], ["active", 1]]
D, [2020-03-31T22:12:21.046660 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.048312 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.050271 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109562596"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.052232 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109562596"], ["date_of_birth", "2001-03-31"], ["phone", "7928001155"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.066043 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.067817 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.069391 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.070661 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.071966 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.073688 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.075014 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.076107 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.077733 #19023]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
I, [2020-03-31T22:12:21.079024 #19023]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:12:21.079342 #19023]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:12:21.080943 #19023]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:21.085363 #19023] FATAL -- : 
ArgumentError - wrong number of arguments (given 3, expected 1):
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:21.089988 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.091178 #19023] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.091513 #19023]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:12:21.091606 #19023]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:12:21.091699 #19023]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:12:21.092667 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.094284 #19023] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.095926 #19023] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7781329288"], ["active", 1]]
D, [2020-03-31T22:12:21.097257 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.098604 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.100140 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143999428"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.101697 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143999428"], ["date_of_birth", "2001-03-31"], ["phone", "4528436033"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.103115 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.104631 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.106059 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.107266 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.108484 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.110140 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.111483 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.112603 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.113648 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:21.114959 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.116482 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157267316"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.117939 #19023] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "157267316"], ["date_of_birth", "2001-03-31"], ["phone", "1542169807"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.119298 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.120818 #19023]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
I, [2020-03-31T22:12:21.121963 #19023]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:12:21.122330 #19023]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:12:21.123981 #19023]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:21.128754 #19023] FATAL -- : 
ArgumentError - wrong number of arguments (given 3, expected 1):
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:21.133511 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:21.134587 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.135817 #19023] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.136181 #19023]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:12:21.136265 #19023]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:12:21.136331 #19023]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:12:21.138091 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.139995 #19023] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.141774 #19023] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6142190685"], ["active", 1]]
D, [2020-03-31T22:12:21.143257 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.144965 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.147021 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140019018"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.148887 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "140019018"], ["date_of_birth", "2001-03-31"], ["phone", "9182980243"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.150485 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.152227 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.153798 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.155059 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.156363 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.158198 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.159662 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.160784 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.162287 #19023]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
I, [2020-03-31T22:12:21.163597 #19023]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:12:21.168756 #19023]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:12:21.170688 #19023]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.4ms)
I, [2020-03-31T22:12:21.172593 #19023]  INFO -- : Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:12:21.176305 #19023] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.179073 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.179517 #19023]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:12:21.179657 #19023]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:12:21.179757 #19023]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:12:21.181017 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.183053 #19023] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.185025 #19023] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7191640861"], ["active", 1]]
D, [2020-03-31T22:12:21.186681 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.188378 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.190309 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "085632140"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.192162 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "085632140"], ["date_of_birth", "2001-03-31"], ["phone", "2228272101"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.193849 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.195530 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.197173 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.198594 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.200038 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.202019 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.203592 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.204848 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.206042 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.247975 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.248420 #19023]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:12:21.248526 #19023]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:12:21.248654 #19023]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:12:21.249880 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.251958 #19023] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.254077 #19023] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7980167273"], ["active", 1]]
D, [2020-03-31T22:12:21.255854 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.257552 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.259520 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238508858"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.261471 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238508858"], ["date_of_birth", "2001-03-31"], ["phone", "7481170472"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.263264 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.264964 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.266685 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.268119 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.269577 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.271630 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.273158 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.274423 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.276101 #19023]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
F, [2020-03-31T22:12:21.311794 #19023] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:12:21.318668 #19023]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
F, [2020-03-31T22:12:21.356205 #19023] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:21.360593 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:21.361788 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:21.362121 #19023]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:12:21.362203 #19023]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:12:21.362266 #19023]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:12:21.363250 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.364959 #19023] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.366605 #19023] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6720618612"], ["active", 1]]
D, [2020-03-31T22:12:21.368109 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.369518 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.371111 #19023] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289088702"], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.372937 #19023] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289088702"], ["date_of_birth", "2001-03-31"], ["phone", "0474619417"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:21.374323 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.375798 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:21.377124 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.378337 #19023] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:21.379558 #19023] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.381165 #19023] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:21.382463 #19023] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:21.383552 #19023] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:21.384842 #19023]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:12:21 +0000
I, [2020-03-31T22:12:21.385957 #19023]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:12:21.409370 #19023]  INFO -- : Completed 500  in 23ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:21.434426 #19023] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:21.438975 #19023] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:41.580670 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:12:41.667845 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:41.668273 #19081]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:12:41.668318 #19081]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:12:41.668341 #19081]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:12:41.766250 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.768464 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.770203 #19081] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7386988447"], ["active", 1]]
D, [2020-03-31T22:12:41.771492 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.786814 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.789869 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267838195"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.791465 #19081] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "267838195"], ["date_of_birth", "2001-03-31"], ["phone", "1704358894"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:41.792737 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.810408 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.812302 #19081] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.814344 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.815938 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.824632 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.825818 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:41.826707 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.827908 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:41.858287 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:41.858766 #19081]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:12:41.858812 #19081]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:12:41.858835 #19081]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:12:41.859689 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.861163 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.862615 #19081] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6109022193"], ["active", 1]]
D, [2020-03-31T22:12:41.863856 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.865006 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.866427 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "206470812"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.867787 #19081] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "206470812"], ["date_of_birth", "2001-03-31"], ["phone", "3089640406"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:41.870378 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.872044 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.873313 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.874354 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.875492 #19081] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.876983 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.878173 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:41.890468 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.891625 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:41.892879 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.894196 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288545582"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.895481 #19081] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "288545582"], ["date_of_birth", "2001-03-31"], ["phone", "3618059887"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:41.896632 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:41.904726 #19081]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:12:41 +0000
I, [2020-03-31T22:12:41.914516 #19081]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:12:41.914897 #19081]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:12:41.920513 #19081]  INFO -- : Completed 500  in 5ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:41.926371 #19081] FATAL -- : 
ArgumentError - wrong number of arguments (given 3, expected 1):
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:41.932174 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:41.933235 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:41.934315 #19081] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:41.934678 #19081]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:12:41.934764 #19081]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:12:41.934830 #19081]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:12:41.935929 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.937544 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.939223 #19081] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6263023726"], ["active", 1]]
D, [2020-03-31T22:12:41.940703 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.942125 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.943759 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007069418"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.945410 #19081] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007069418"], ["date_of_birth", "2001-03-31"], ["phone", "0246915088"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:41.946749 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.948192 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.949639 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.950950 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.952208 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.953963 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.955321 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:41.956403 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.957422 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:12:41.958757 #19081]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:12:41 +0000
I, [2020-03-31T22:12:41.960078 #19081]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:12:41.960406 #19081]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:12:41.961799 #19081] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.963001 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.964187 #19081] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:12:41.965238 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:41.966264 #19081]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:12:41.967183 #19081]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:12:41.972249 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:12:41.974211 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:41.975116 #19081] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:41.975591 #19081]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:12:41.975680 #19081]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:12:41.975747 #19081]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:12:41.976803 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.978436 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.980130 #19081] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5687021097"], ["active", 1]]
D, [2020-03-31T22:12:41.981553 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.982962 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.984601 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300759402"], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.986127 #19081] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300759402"], ["date_of_birth", "2001-03-31"], ["phone", "7017384239"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:41.987490 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.988938 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:41.990416 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.991722 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:41.992946 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.994709 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:41.996060 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:41.997155 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:41.998621 #19081]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:12:41 +0000
I, [2020-03-31T22:12:42.000002 #19081]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:12:42.004781 #19081]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:12:42.006348 #19081]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T22:12:42.008164 #19081]  INFO -- : Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:12:42.011490 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:42.012416 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:42.012774 #19081]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:12:42.012856 #19081]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:12:42.012920 #19081]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:12:42.014112 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.015877 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.017633 #19081] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8611625293"], ["active", 1]]
D, [2020-03-31T22:12:42.019092 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.020676 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.022482 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317234380"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.024252 #19081] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317234380"], ["date_of_birth", "2001-03-31"], ["phone", "3028093030"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:42.025778 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.027403 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.028965 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.030252 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.031630 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.033522 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.034937 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:42.036224 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:42.037995 #19081]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:12:42 +0000
I, [2020-03-31T22:12:42.039231 #19081]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:12:42.039564 #19081]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:12:42.041294 #19081]  INFO -- : Completed 500  in 1ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:42.045997 #19081] FATAL -- : 
ArgumentError - wrong number of arguments (given 3, expected 1):
  app/controllers/assignments_controller.rb:42:in `assignment_params'
  app/controllers/assignments_controller.rb:15:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:42.050232 #19081] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:42.051254 #19081] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:42.051627 #19081]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:12:42.051708 #19081]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:12:42.051801 #19081]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:12:42.052831 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.054500 #19081] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.056196 #19081] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8672968720"], ["active", 1]]
D, [2020-03-31T22:12:42.057584 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.059010 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.060778 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "260071273"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.062408 #19081] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "260071273"], ["date_of_birth", "2001-03-31"], ["phone", "5967596116"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:42.064162 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.065772 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.067360 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.068741 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.070051 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.071890 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.073311 #19081] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:42.074633 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:42.076100 #19081]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:12:42 +0000
I, [2020-03-31T22:12:42.077309 #19081]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:12:42.102832 #19081]  INFO -- : Completed 500  in 25ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:12:42.121552 #19081] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:42.128398 #19081] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:12:42.130020 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:12:42.130378 #19081]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:12:42.130470 #19081]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:12:42.130547 #19081]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:12:42.132349 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.136116 #19081] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.139150 #19081] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8404546914"], ["active", 1]]
D, [2020-03-31T22:12:42.142156 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.144847 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.147833 #19081] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235461999"], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.162058 #19081] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235461999"], ["date_of_birth", "2001-03-31"], ["phone", "7325077353"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:12:42.164914 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.167668 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:12:42.170173 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.172592 #19081] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:12:42.174919 #19081] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.177949 #19081] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:12:42.180224 #19081] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:12:42.182188 #19081] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:12:42.184261 #19081]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:12:42 +0000
F, [2020-03-31T22:12:42.207570 #19081] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:12:42.212249 #19081]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:12:42 +0000
F, [2020-03-31T22:12:42.238282 #19081] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:12:42.245014 #19081] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:40.918246 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:16:41.009285 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.009789 #19381]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:16:41.009836 #19381]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:16:41.009859 #19381]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:16:41.110523 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.112777 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.114552 #19381] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1835680808"], ["active", 1]]
D, [2020-03-31T22:16:41.115858 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.130771 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.133987 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "322405325"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.135618 #19381] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "322405325"], ["date_of_birth", "2001-03-31"], ["phone", "1804560917"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.136857 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.155927 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.157881 #19381] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.160088 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.161721 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.184870 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.186308 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.187350 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.188441 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:16:41.189777 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.191275 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269394331"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.192686 #19381] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "269394331"], ["date_of_birth", "2001-03-31"], ["phone", "2716455767"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.193918 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.202170 #19381]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
I, [2020-03-31T22:16:41.211497 #19381]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:16:41.211835 #19381]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:16:41.216887 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.388504 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.390153 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.391907 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.396566 #19381]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:16:41.398206 #19381]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:16:41.400019 #19381]  INFO -- : Completed 200 OK in 188ms (Views: 6.5ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:16:41.407045 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:16:41.408270 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.411527 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.411929 #19381]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:16:41.412019 #19381]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:16:41.412088 #19381]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:16:41.413156 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.414961 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.416747 #19381] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6322067014"], ["active", 1]]
D, [2020-03-31T22:16:41.418136 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.419586 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.421223 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293869712"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.422797 #19381] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "293869712"], ["date_of_birth", "2001-03-31"], ["phone", "1390168409"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.424221 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.425691 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.427206 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.428560 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.429832 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.431632 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.432990 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.434100 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.435821 #19381]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
I, [2020-03-31T22:16:41.436983 #19381]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:16:41.437323 #19381]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:16:41.438360 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.442599 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.444062 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.445560 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.446705 #19381]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:16:41.447122 #19381]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:16:41.448388 #19381]  INFO -- : Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:16:41.452445 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.454520 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.454891 #19381]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:16:41.454981 #19381]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:16:41.455050 #19381]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:16:41.456032 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.457592 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.459250 #19381] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6964367441"], ["active", 1]]
D, [2020-03-31T22:16:41.460658 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.461998 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.463580 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "299660972"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.465089 #19381] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "299660972"], ["date_of_birth", "2001-03-31"], ["phone", "1735265302"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.466456 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.467892 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.469309 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.470563 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.471897 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.473625 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.474960 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.476134 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.477214 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:16:41.478480 #19381]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
I, [2020-03-31T22:16:41.479736 #19381]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:16:41.480066 #19381]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:16:41.481354 #19381] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.482514 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.483706 #19381] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:16:41.484702 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.485743 #19381]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:16:41.486631 #19381]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:16:41.491020 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:16:41.493016 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.495098 #19381] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.495458 #19381]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:16:41.495555 #19381]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:16:41.495646 #19381]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:16:41.496614 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.498185 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.499862 #19381] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9976335616"], ["active", 1]]
D, [2020-03-31T22:16:41.501297 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.502723 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.504421 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138631196"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.505964 #19381] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "138631196"], ["date_of_birth", "2001-03-31"], ["phone", "1895641603"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.507631 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.509066 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.510502 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.511869 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.513197 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.514934 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.516344 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.517492 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.518920 #19381]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
I, [2020-03-31T22:16:41.520154 #19381]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:16:41.542710 #19381]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:16:41.574556 #19381] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:16:41.579323 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.581011 #19381] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.581374 #19381]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:16:41.581458 #19381]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:16:41.581532 #19381]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:16:41.582530 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.584210 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.585827 #19381] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0765325180"], ["active", 1]]
D, [2020-03-31T22:16:41.587194 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.588633 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.590179 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "366143544"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.591684 #19381] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "366143544"], ["date_of_birth", "2001-03-31"], ["phone", "8066885313"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.593038 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.594352 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.595806 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.597068 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.598258 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.600017 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.601318 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.602361 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.603832 #19381]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
I, [2020-03-31T22:16:41.605149 #19381]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:16:41.606386 #19381]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:16:41.606841 #19381]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:16:41.608027 #19381]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:16:41.610728 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.611923 #19381] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.612306 #19381]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:16:41.612387 #19381]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:16:41.612464 #19381]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:16:41.613380 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.614954 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.616666 #19381] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0407401857"], ["active", 1]]
D, [2020-03-31T22:16:41.618067 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.619418 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.620962 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114659507"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.622493 #19381] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "114659507"], ["date_of_birth", "2001-03-31"], ["phone", "7534661302"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.623926 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.625284 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.626752 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.628052 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.629281 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.631001 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.632418 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.633549 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:16:41.634880 #19381]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
F, [2020-03-31T22:16:41.664431 #19381] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:16:41.669528 #19381]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:16:41 +0000
F, [2020-03-31T22:16:41.699076 #19381] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:16:41.702794 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:16:41.703957 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:16:41.704281 #19381]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:16:41.704362 #19381]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:16:41.704425 #19381]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:16:41.705413 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.707038 #19381] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.708669 #19381] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0657087608"], ["active", 1]]
D, [2020-03-31T22:16:41.709999 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.711330 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.712869 #19381] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111639012"], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.714352 #19381] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111639012"], ["date_of_birth", "2001-03-31"], ["phone", "9539525471"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:16:41.715850 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.717252 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.718663 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.719978 #19381] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:16:41.721204 #19381] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.722950 #19381] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:16:41.724277 #19381] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:16:41.725319 #19381] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:16:41.726322 #19381] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:08.415154 #19508] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:18:08.560180 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:08.560866 #19508]  INFO -- : ---------------------------------------------
I, [2020-03-31T22:18:08.560926 #19508]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T22:18:08.560963 #19508]  INFO -- : ---------------------------------------------
D, [2020-03-31T22:18:08.728122 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:08.733719 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "336264660"], ["LIMIT", 1]]
D, [2020-03-31T22:18:08.736835 #19508] DEBUG -- :   [1m[36mEmployee Create (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "336264660"], ["date_of_birth", "2001-03-31"], ["phone", "7343154842"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:08.739074 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:08.744145 #19508]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 22:18:08 +0000
I, [2020-03-31T22:18:08.760824 #19508]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T22:18:08.761362 #19508]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:18:08.772966 #19508] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T22:18:08.813591 #19508]  INFO -- : Completed 500  in 52ms (ActiveRecord: 0.3ms)
F, [2020-03-31T22:18:08.832948 #19508] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:18:08.844506 #19508] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:08.846699 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:08.865254 #19508]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T22:18:08.865455 #19508]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T22:18:08.865587 #19508]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T22:18:08.867799 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:08.871029 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "184148495"], ["LIMIT", 1]]
D, [2020-03-31T22:18:08.874150 #19508] DEBUG -- :   [1m[36mEmployee Create (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "184148495"], ["date_of_birth", "2001-03-31"], ["phone", "2856205592"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:08.876616 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:08.887922 #19508]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 22:18:08 +0000
I, [2020-03-31T22:18:08.890007 #19508]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T22:18:08.890553 #19508]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T22:18:08.892963 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.143614 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.145295 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.150588 #19508]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T22:18:09.152275 #19508]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T22:18:09.154052 #19508]  INFO -- : Completed 200 OK in 263ms (Views: 7.1ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:18:09.158187 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.159080 #19508] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.159470 #19508]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:18:09.159568 #19508]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T22:18:09.159662 #19508]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:18:09.160955 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.162815 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348036791"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.164636 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "348036791"], ["date_of_birth", "2001-03-31"], ["phone", "0952421924"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.166078 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.167567 #19508]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.168756 #19508]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T22:18:09.191566 #19508]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:18:09.204536 #19508] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:18:09.209056 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.210124 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.210539 #19508]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T22:18:09.210644 #19508]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T22:18:09.210721 #19508]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T22:18:09.211993 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.213998 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012564503"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.215754 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012564503"], ["date_of_birth", "2001-03-31"], ["phone", "7963314124"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.217120 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.218704 #19508]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.220172 #19508]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T22:18:09.220578 #19508]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T22:18:09.221624 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.223127 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.226275 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.228371 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.232399 #19508]  INFO -- : Completed 500  in 11ms (ActiveRecord: 0.4ms)
F, [2020-03-31T22:18:09.252197 #19508] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:18:09.256941 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.258031 #19508] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.258348 #19508]  INFO -- : --------------------------------------------
I, [2020-03-31T22:18:09.258427 #19508]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T22:18:09.258492 #19508]  INFO -- : --------------------------------------------
D, [2020-03-31T22:18:09.259796 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.261640 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "230712323"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.263383 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "230712323"], ["date_of_birth", "2001-03-31"], ["phone", "7510965281"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.264775 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.266060 #19508]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.267342 #19508]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T22:18:09.268614 #19508]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T22:18:09.269069 #19508]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:18:09.270177 #19508]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:18:09.272811 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.273577 #19508] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.273918 #19508]  INFO -- : --------------------------------------------------
I, [2020-03-31T22:18:09.273997 #19508]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T22:18:09.274060 #19508]  INFO -- : --------------------------------------------------
D, [2020-03-31T22:18:09.275111 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.276803 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007894081"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.278381 #19508] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007894081"], ["date_of_birth", "2001-03-31"], ["phone", "1914142753"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.279768 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.293632 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.295763 #19508] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.297468 #19508] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7349455769"], ["active", 1]]
D, [2020-03-31T22:18:09.298792 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.316654 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.318642 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:18:09.320087 #19508] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:18:09.321460 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.330470 #19508] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.331974 #19508] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:18:09.333028 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.334422 #19508]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.335515 #19508]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T22:18:09.335801 #19508]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:18:09.336744 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T22:18:09.339769 #19508]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T22:18:09.355258 #19508] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:18:09.360300 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.361489 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.361880 #19508]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T22:18:09.361958 #19508]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T22:18:09.362022 #19508]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T22:18:09.363428 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.365415 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376764043"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.367313 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376764043"], ["date_of_birth", "2001-03-31"], ["phone", "7531578358"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.368869 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.369977 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T22:18:09.371627 #19508]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.372734 #19508]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T22:18:09.373104 #19508]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T22:18:09.374450 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.376180 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.377837 #19508] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.379398 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.380443 #19508]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T22:18:09.381583 #19508]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:18:09.386847 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T22:18:09.388640 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T22:18:09.389965 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.390745 #19508] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.391078 #19508]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T22:18:09.391157 #19508]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T22:18:09.391233 #19508]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T22:18:09.392450 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.394115 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "146420089"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.395825 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "146420089"], ["date_of_birth", "2001-03-31"], ["phone", "1302402691"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.397183 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.398407 #19508]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
F, [2020-03-31T22:18:09.420360 #19508] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:18:09.424309 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:18:09.425142 #19508] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:18:09.425462 #19508]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T22:18:09.425552 #19508]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T22:18:09.425615 #19508]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T22:18:09.426898 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.428702 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087734280"], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.430545 #19508] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087734280"], ["date_of_birth", "2001-03-31"], ["phone", "9880508261"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:18:09.432018 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.433657 #19508]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 22:18:09 +0000
I, [2020-03-31T22:18:09.435011 #19508]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T22:18:09.435389 #19508]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T22:18:09.436428 #19508] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.437923 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:18:09.440308 #19508] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:18:09.442478 #19508] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T22:18:09.444076 #19508] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:18:09.445277 #19508]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T22:18:09.446429 #19508]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-03-31T22:18:09.451898 #19508] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.025446 #19880] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:22:14.151250 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.152065 #19880]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T22:22:14.152139 #19880]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-03-31T22:22:14.152195 #19880]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T22:22:14.301197 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.305042 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263574607"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.307028 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263574607"], ["date_of_birth", "2001-03-31"], ["phone", "1937830888"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.308475 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.312080 #19880]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.327549 #19880]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T22:22:14.327901 #19880]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T22:22:14.334159 #19880] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.336854 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.339464 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.341749 #19880] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-03-31"], ["id", 1]]
D, [2020-03-31T22:22:14.343407 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.344958 #19880]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-03-31T22:22:14.346229 #19880]  INFO -- : Completed 302 Found in 18ms (ActiveRecord: 0.6ms)
D, [2020-03-31T22:22:14.356508 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.357487 #19880] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.357793 #19880]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T22:22:14.357906 #19880]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-03-31T22:22:14.358003 #19880]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T22:22:14.359442 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.361436 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225736593"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.363321 #19880] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225736593"], ["date_of_birth", "2001-03-31"], ["phone", "3293324679"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.364867 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.366713 #19880]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.368140 #19880]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T22:22:14.368551 #19880]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T22:22:14.370025 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.566398 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.568189 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.573033 #19880]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T22:22:14.574704 #19880]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:22:14.576577 #19880]  INFO -- : Completed 200 OK in 208ms (Views: 6.7ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:22:14.580688 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.581632 #19880] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.581959 #19880]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:22:14.582089 #19880]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-03-31T22:22:14.582193 #19880]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:22:14.583575 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.585584 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374619930"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.587547 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374619930"], ["date_of_birth", "2001-03-31"], ["phone", "1134619376"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.589039 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.590659 #19880]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.591964 #19880]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-03-31T22:22:14.616382 #19880]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:22:14.627754 #19880] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:22:14.632629 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.633810 #19880] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.634145 #19880]  INFO -- : --------------------------------------------------
I, [2020-03-31T22:22:14.634244 #19880]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-03-31T22:22:14.634316 #19880]  INFO -- : --------------------------------------------------
D, [2020-03-31T22:22:14.635678 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.637676 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000477976"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.639554 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000477976"], ["date_of_birth", "2001-03-31"], ["phone", "5829768831"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.641087 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.656400 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.658639 #19880] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.660397 #19880] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2817807438"], ["active", 1]]
D, [2020-03-31T22:22:14.661851 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.680925 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.682963 #19880] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:22:14.684476 #19880] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:22:14.685890 #19880] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.695639 #19880] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.697237 #19880] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:22:14.698385 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.699895 #19880]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.701250 #19880]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-03-31T22:22:14.701581 #19880]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:22:14.702606 #19880] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T22:22:14.705994 #19880]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-03-31T22:22:14.719752 #19880] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:13:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:22:14.724652 #19880] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.725801 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.726184 #19880]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-31T22:22:14.726276 #19880]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-03-31T22:22:14.726341 #19880]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-31T22:22:14.727807 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.729914 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "344622357"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.731917 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "344622357"], ["date_of_birth", "2001-03-31"], ["phone", "2190965040"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.733541 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.734818 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-03-31T22:22:14.736761 #19880]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.738136 #19880]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-03-31T22:22:14.738474 #19880]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-03-31", "role"=>"employee", "active"=>"true"}}
D, [2020-03-31T22:22:14.740161 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.742283 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.744319 #19880] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-03-31"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.746087 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.747333 #19880]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-03-31T22:22:14.748640 #19880]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-03-31T22:22:14.754046 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-03-31T22:22:14.755400 #19880] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-31T22:22:14.756819 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.757655 #19880] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.758052 #19880]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-31T22:22:14.758134 #19880]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-03-31T22:22:14.758246 #19880]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-31T22:22:14.759607 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.761556 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001946471"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.763595 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001946471"], ["date_of_birth", "2001-03-31"], ["phone", "3568269611"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.765197 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.766916 #19880]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.768528 #19880]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-03-31T22:22:14.768901 #19880]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-03-31", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-03-31T22:22:14.770007 #19880] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.771688 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.774815 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.776941 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.781821 #19880]  INFO -- : Completed 500  in 12ms (ActiveRecord: 0.4ms)
F, [2020-03-31T22:22:14.799208 #19880] FATAL -- : 
ActionView::MissingTemplate - Missing template employees/edit, application/edit with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/views"
:
  app/controllers/employees_controller.rb:41:in `update'
  test/controllers/employees_controller_test.rb:59:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:22:14.805328 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.806667 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.807001 #19880]  INFO -- : ---------------------------------------------
I, [2020-03-31T22:22:14.807079 #19880]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-03-31T22:22:14.807139 #19880]  INFO -- : ---------------------------------------------
D, [2020-03-31T22:22:14.808800 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.811110 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376165928"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.813188 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376165928"], ["date_of_birth", "2001-03-31"], ["phone", "3328914041"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.814958 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.816494 #19880]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.817934 #19880]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-03-31T22:22:14.818252 #19880]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:22:14.819432 #19880] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-03-31T22:22:14.842839 #19880]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.1ms)
F, [2020-03-31T22:22:14.858510 #19880] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#edit is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:46:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:22:14.863662 #19880] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.864749 #19880] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.865157 #19880]  INFO -- : --------------------------------------------
I, [2020-03-31T22:22:14.865285 #19880]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-03-31T22:22:14.865386 #19880]  INFO -- : --------------------------------------------
D, [2020-03-31T22:22:14.866649 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.868643 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "095540577"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.870481 #19880] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095540577"], ["date_of_birth", "2001-03-31"], ["phone", "4297182236"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.871971 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.873714 #19880]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
I, [2020-03-31T22:22:14.875704 #19880]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-03-31T22:22:14.877265 #19880]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-03-31T22:22:14.877745 #19880]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:22:14.879876 #19880]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:22:14.884498 #19880] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:22:14.885765 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:22:14.886345 #19880]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-31T22:22:14.886490 #19880]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-03-31T22:22:14.886619 #19880]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-31T22:22:14.888610 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:22:14.891600 #19880] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338496954"], ["LIMIT", 1]]
D, [2020-03-31T22:22:14.894488 #19880] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338496954"], ["date_of_birth", "2001-03-31"], ["phone", "5044951756"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:22:14.897003 #19880] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:22:14.899071 #19880]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-03-31 22:22:14 +0000
F, [2020-03-31T22:22:14.928111 #19880] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-03-31T22:22:14.934459 #19880] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.222390 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:23:24.310879 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.311397 #19989]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:23:24.311445 #19989]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:23:24.311468 #19989]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:23:24.412037 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.414276 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.416118 #19989] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9665529841"], ["active", 1]]
D, [2020-03-31T22:23:24.417452 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.433241 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.436499 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049573872"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.438245 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049573872"], ["date_of_birth", "2001-03-31"], ["phone", "0587010276"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.439620 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.458548 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.460548 #19989] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.462706 #19989] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.464296 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.473383 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.474696 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.475634 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.478969 #19989]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
I, [2020-03-31T22:23:24.488676 #19989]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:23:24.515068 #19989]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:23:24.531851 #19989] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:23:24.540631 #19989] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.542188 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.542625 #19989]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:23:24.542710 #19989]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:23:24.542823 #19989]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:23:24.544212 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.546450 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.548878 #19989] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7993261846"], ["active", 1]]
D, [2020-03-31T22:23:24.564571 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.566219 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.568110 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266326579"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.569714 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266326579"], ["date_of_birth", "2001-03-31"], ["phone", "5072123578"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.571115 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.572496 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.573974 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.575310 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.576593 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.578367 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.579689 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.580746 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.587650 #19989]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
I, [2020-03-31T22:23:24.588927 #19989]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:23:24.589230 #19989]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:23:24.590207 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.778043 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.779972 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.781855 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.787102 #19989]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:23:24.788950 #19989]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-03-31T22:23:24.790794 #19989]  INFO -- : Completed 200 OK in 201ms (Views: 7.2ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:23:24.795721 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.796726 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.797111 #19989]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:23:24.797222 #19989]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:23:24.797327 #19989]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:23:24.798481 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.800479 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.802408 #19989] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8405979784"], ["active", 1]]
D, [2020-03-31T22:23:24.804035 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.805685 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.807509 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298248950"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.809227 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298248950"], ["date_of_birth", "2001-03-31"], ["phone", "6960572656"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.810861 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.812450 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.814119 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.815583 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.816987 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.818864 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.820377 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.821513 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.822611 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.828052 #19989] DEBUG -- :   [1m[36mAssignment Load (0.4ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:23:24.829386 #19989] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:23:24.862460 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.862967 #19989]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:23:24.863058 #19989]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:23:24.863126 #19989]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:23:24.864267 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.866054 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.867894 #19989] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4777019400"], ["active", 1]]
D, [2020-03-31T22:23:24.869351 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.870892 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.872716 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "065581962"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.874332 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "065581962"], ["date_of_birth", "2001-03-31"], ["phone", "1487515206"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.875853 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.877350 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.878932 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.880332 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.881625 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.883506 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.884907 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.886099 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.887325 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:23:24.888807 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.890391 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273994906"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.891967 #19989] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "273994906"], ["date_of_birth", "2001-03-31"], ["phone", "6179012622"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.893446 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.895091 #19989]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
I, [2020-03-31T22:23:24.896326 #19989]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:23:24.896720 #19989]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:23:24.897774 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.902336 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.903992 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.905591 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.906919 #19989]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:23:24.907384 #19989]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:23:24.908754 #19989]  INFO -- : Completed 200 OK in 12ms (Views: 1.6ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:23:24.913215 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:23:24.914269 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.915493 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.915852 #19989]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:23:24.915939 #19989]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:23:24.916032 #19989]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:23:24.917073 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.918732 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.920566 #19989] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3286726982"], ["active", 1]]
D, [2020-03-31T22:23:24.922106 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.923741 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.925550 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "140430468"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.927389 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "140430468"], ["date_of_birth", "2001-03-31"], ["phone", "3692246560"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.928932 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.930447 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.932108 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.933445 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.934760 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.936664 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.938545 #19989] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.939818 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.941331 #19989]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
I, [2020-03-31T22:23:24.942753 #19989]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:23:24.944211 #19989]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:23:24.944713 #19989]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:23:24.945903 #19989]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:23:24.948874 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:24.949719 #19989] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:24.950049 #19989]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:23:24.950125 #19989]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:23:24.950193 #19989]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:23:24.951203 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.952947 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.954697 #19989] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8381467984"], ["active", 1]]
D, [2020-03-31T22:23:24.956164 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.957743 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.959486 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049756264"], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.961218 #19989] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049756264"], ["date_of_birth", "2001-03-31"], ["phone", "9344194981"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:24.962771 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.964368 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:24.965870 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.967215 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:24.968532 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.970329 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:24.971727 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:24.972866 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:24.974323 #19989]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
F, [2020-03-31T22:23:24.991060 #19989] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:23:24.995726 #19989]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:23:24 +0000
F, [2020-03-31T22:23:25.013281 #19989] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:23:25.017605 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:23:25.018446 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:23:25.018866 #19989]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:23:25.018956 #19989]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:23:25.019022 #19989]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:23:25.020140 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.021947 #19989] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:23:25.023738 #19989] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0122126656"], ["active", 1]]
D, [2020-03-31T22:23:25.025287 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.026797 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.028627 #19989] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338188473"], ["LIMIT", 1]]
D, [2020-03-31T22:23:25.030266 #19989] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338188473"], ["date_of_birth", "2001-03-31"], ["phone", "7540974802"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:23:25.031809 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.033434 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.034983 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:25.036459 #19989] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:23:25.037859 #19989] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:25.039789 #19989] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:25.041298 #19989] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:23:25.042554 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.043705 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:23:25.045069 #19989]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:23:25 +0000
I, [2020-03-31T22:23:25.046368 #19989]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:23:25.046794 #19989]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:23:25.048255 #19989] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:23:25.049615 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:23:25.050980 #19989] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:23:25.052154 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:23:25.053264 #19989]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:23:25.054264 #19989]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:23:25.059388 #19989] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:23:25.060556 #19989] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.095104 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:29:52.186110 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.186572 #20439]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:29:52.186616 #20439]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:29:52.186639 #20439]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:29:52.303748 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.306010 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.307929 #20439] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4689281063"], ["active", 1]]
D, [2020-03-31T22:29:52.309294 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.326030 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.329399 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "087053862"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.331095 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "087053862"], ["date_of_birth", "2001-03-31"], ["phone", "9423507811"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.332436 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.351672 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.365853 #20439] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.368551 #20439] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.370197 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.379088 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.380394 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.381284 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.384391 #20439]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
F, [2020-03-31T22:29:52.422880 #20439] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:29:52.429747 #20439]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
F, [2020-03-31T22:29:52.454118 #20439] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:29:52.458315 #20439] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.459269 #20439] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.459646 #20439]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:29:52.459725 #20439]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:29:52.459788 #20439]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:29:52.460893 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.462654 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.464421 #20439] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9683711946"], ["active", 1]]
D, [2020-03-31T22:29:52.465882 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.467345 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.469039 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088040372"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.470608 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088040372"], ["date_of_birth", "2001-03-31"], ["phone", "1389249975"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.472055 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.473491 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.474964 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.476289 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.477832 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.479645 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.481066 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.482154 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.483561 #20439]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
I, [2020-03-31T22:29:52.484884 #20439]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:29:52.493278 #20439]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:29:52.494845 #20439]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T22:29:52.496392 #20439]  INFO -- : Completed 200 OK in 11ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:29:52.499425 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.500252 #20439] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.500593 #20439]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:29:52.500671 #20439]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:29:52.500733 #20439]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:29:52.501709 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.503519 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.505177 #20439] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2618294230"], ["active", 1]]
D, [2020-03-31T22:29:52.506700 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.508233 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.509925 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "360345024"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.511557 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "360345024"], ["date_of_birth", "2001-03-31"], ["phone", "3137687241"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.513055 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.514463 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.515972 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.517336 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.518601 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.520419 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.521849 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.522967 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.524141 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:29:52.525574 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.527123 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "173762910"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.528617 #20439] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "173762910"], ["date_of_birth", "2001-03-31"], ["phone", "4814334512"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.529975 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.536871 #20439]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
I, [2020-03-31T22:29:52.538156 #20439]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:29:52.538500 #20439]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:29:52.541275 #20439]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:29:52.551363 #20439] FATAL -- : 
NoMethodError - undefined method `save' for nil:NilClass:
  app/controllers/assignments_controller.rb:16:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:29:52.556175 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:29:52.557207 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.558341 #20439] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.558679 #20439]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:29:52.558760 #20439]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:29:52.558834 #20439]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:29:52.559904 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.561628 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.563448 #20439] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3267244532"], ["active", 1]]
D, [2020-03-31T22:29:52.564984 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.566489 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.568276 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357697924"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.569996 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357697924"], ["date_of_birth", "2001-03-31"], ["phone", "0723191067"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.571637 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.573167 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.574738 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.576206 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.577606 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.579581 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.581122 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.582366 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.583535 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:29:52.584951 #20439]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
I, [2020-03-31T22:29:52.586222 #20439]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:29:52.586543 #20439]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:29:52.587993 #20439] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.589328 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.590620 #20439] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:29:52.591787 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.592893 #20439]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:29:52.594026 #20439]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:29:52.599411 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:29:52.600581 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.601446 #20439] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.601797 #20439]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:29:52.601903 #20439]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:29:52.601972 #20439]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:29:52.603042 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.604739 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.606603 #20439] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5329997429"], ["active", 1]]
D, [2020-03-31T22:29:52.608277 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.609842 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.619925 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263270985"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.622011 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263270985"], ["date_of_birth", "2001-03-31"], ["phone", "2106966472"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.623578 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.625181 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.626731 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.628106 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.629355 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.631092 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.632553 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.633614 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.635014 #20439]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
I, [2020-03-31T22:29:52.636143 #20439]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:29:52.658959 #20439]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:29:52.673675 #20439] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:29:52.678513 #20439] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.680129 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.680497 #20439]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:29:52.680580 #20439]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:29:52.680702 #20439]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:29:52.681779 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.683602 #20439] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.685380 #20439] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6477684831"], ["active", 1]]
D, [2020-03-31T22:29:52.686843 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.688469 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.690218 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188682906"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.691920 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188682906"], ["date_of_birth", "2001-03-31"], ["phone", "9269266613"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.693319 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.694918 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.696537 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.697809 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.699093 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.701079 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.702471 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.703709 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.704764 #20439] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:29:52.709405 #20439] DEBUG -- :   [1m[36mAssignment Load (0.3ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:29:52.710654 #20439] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NOT NULL) ORDER BY start_date DESC, end_date DESC LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-03-31T22:29:52.744405 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:29:52.744856 #20439]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:29:52.744950 #20439]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:29:52.745017 #20439]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:29:52.746121 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.748020 #20439] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.750020 #20439] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8438296179"], ["active", 1]]
D, [2020-03-31T22:29:52.751547 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.753124 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.754960 #20439] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "349244865"], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.756811 #20439] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "349244865"], ["date_of_birth", "2001-03-31"], ["phone", "3576102008"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:29:52.758363 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.760401 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:29:52.762378 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.763965 #20439] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:29:52.765499 #20439] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.767672 #20439] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:29:52.769123 #20439] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:29:52.770270 #20439] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:29:52.771881 #20439]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:29:52 +0000
I, [2020-03-31T22:29:52.773001 #20439]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:29:52.773327 #20439]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
I, [2020-03-31T22:29:52.776287 #20439]  INFO -- : Completed 500  in 3ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:29:52.792704 #20439] FATAL -- : 
NoMethodError - undefined method `save' for nil:NilClass:
  app/controllers/assignments_controller.rb:16:in `create'
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:29:52.797443 #20439] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:58.333347 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:30:58.422188 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:58.422632 #20554]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:30:58.422676 #20554]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:30:58.422728 #20554]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:30:58.525096 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.527248 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.529049 #20554] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9795468621"], ["active", 1]]
D, [2020-03-31T22:30:58.530405 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.546254 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.549547 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "330754790"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.551151 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "330754790"], ["date_of_birth", "2001-03-31"], ["phone", "4334949641"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:58.552523 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.572285 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.574293 #20554] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.576577 #20554] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.578161 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.587768 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.589177 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:58.590133 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:58.593632 #20554]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:30:58 +0000
I, [2020-03-31T22:30:58.604122 #20554]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:30:58.612846 #20554]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:30:58.614376 #20554]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-03-31T22:30:58.616010 #20554]  INFO -- : Completed 200 OK in 11ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:30:58.622710 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:58.623759 #20554] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:58.624139 #20554]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:30:58.624250 #20554]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:30:58.624327 #20554]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:30:58.625435 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.627333 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.629217 #20554] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3135760200"], ["active", 1]]
D, [2020-03-31T22:30:58.630812 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.632442 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.634208 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072161588"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.635976 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "072161588"], ["date_of_birth", "2001-03-31"], ["phone", "1663888661"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:58.637573 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.639133 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.640887 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.642421 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.644023 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.646268 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.648018 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:58.661757 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:58.668939 #20554]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:30:58 +0000
I, [2020-03-31T22:30:58.670288 #20554]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:30:58.670683 #20554]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:30:58.671839 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.850883 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.852611 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.854148 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:58.855409 #20554]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:30:58.855854 #20554]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:30:58.857127 #20554]  INFO -- : Completed 200 OK in 186ms (Views: 1.5ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:30:58.861008 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:58.861815 #20554] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:58.862145 #20554]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:30:58.862278 #20554]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:30:58.862374 #20554]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:30:58.863422 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.865080 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.866729 #20554] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5095470951"], ["active", 1]]
D, [2020-03-31T22:30:58.868206 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.869660 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.871458 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "149363445"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.873096 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "149363445"], ["date_of_birth", "2001-03-31"], ["phone", "1327741185"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:58.874466 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.875998 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.877451 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.878673 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.880019 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.881723 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.883130 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:58.884305 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:58.885728 #20554]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:30:58 +0000
F, [2020-03-31T22:30:58.902528 #20554] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:30:58.908487 #20554]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:30:58 +0000
F, [2020-03-31T22:30:58.926198 #20554] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:30:58.932356 #20554] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:58.933443 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:58.933931 #20554]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:30:58.934059 #20554]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:30:58.934150 #20554]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:30:58.935444 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.937339 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.939241 #20554] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2470018712"], ["active", 1]]
D, [2020-03-31T22:30:58.940840 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.942550 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.944474 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186411653"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.946130 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "186411653"], ["date_of_birth", "2001-03-31"], ["phone", "8566377651"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:58.947601 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.949158 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.950664 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.952076 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:58.953362 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.955111 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.956538 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:58.957619 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.958703 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:58.991542 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:58.991993 #20554]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:30:58.992076 #20554]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:30:58.992139 #20554]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:30:58.993202 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.994872 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:58.996698 #20554] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8445136557"], ["active", 1]]
D, [2020-03-31T22:30:58.998155 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:58.999696 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.001402 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "214796167"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.003033 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "214796167"], ["date_of_birth", "2001-03-31"], ["phone", "8044691060"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:59.005810 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.007480 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.009045 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.010403 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.011825 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.013607 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.015044 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:59.016255 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.017398 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:30:59.018757 #20554]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:30:59 +0000
I, [2020-03-31T22:30:59.020215 #20554]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:30:59.020532 #20554]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:30:59.021996 #20554] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.023361 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.024790 #20554] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:30:59.025900 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:59.026963 #20554]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:30:59.027995 #20554]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:30:59.033063 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:30:59.034206 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:59.035021 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:59.035402 #20554]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:30:59.035490 #20554]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:30:59.035565 #20554]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:30:59.036680 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.038389 #20554] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.040088 #20554] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8731646561"], ["active", 1]]
D, [2020-03-31T22:30:59.041444 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.042896 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.044536 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "332687974"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.046158 #20554] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332687974"], ["date_of_birth", "2001-03-31"], ["phone", "2650732212"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:59.047613 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.049114 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.050595 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.051976 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.053306 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.055068 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.056520 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:59.057668 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.058736 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:30:59.060265 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.061935 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "314214307"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.063639 #20554] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "314214307"], ["date_of_birth", "2001-03-31"], ["phone", "8333771775"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:59.065210 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:59.066816 #20554]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:30:59 +0000
I, [2020-03-31T22:30:59.068021 #20554]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:30:59.068336 #20554]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:30:59.069424 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.073823 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.075408 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.076954 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:59.078098 #20554]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:30:59.078562 #20554]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:30:59.079923 #20554]  INFO -- : Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:30:59.085594 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:30:59.086795 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:30:59.088198 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:30:59.088638 #20554]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:30:59.088749 #20554]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:30:59.088867 #20554]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:30:59.090011 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.092062 #20554] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.093770 #20554] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1279104121"], ["active", 1]]
D, [2020-03-31T22:30:59.095468 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.097406 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.099764 #20554] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277934972"], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.102071 #20554] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277934972"], ["date_of_birth", "2001-03-31"], ["phone", "3289772817"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:30:59.103600 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.105289 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:30:59.106894 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.108225 #20554] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:30:59.109531 #20554] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.111377 #20554] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:30:59.112797 #20554] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:30:59.113940 #20554] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:30:59.115383 #20554]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:30:59 +0000
I, [2020-03-31T22:30:59.116569 #20554]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:30:59.139001 #20554]  INFO -- : Completed 500  in 22ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:30:59.148939 #20554] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:30:59.153462 #20554] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:07.522077 #20661] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:32:07.616442 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:07.616926 #20661]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:32:07.616988 #20661]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:32:07.617030 #20661]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:32:07.739468 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.741727 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.743663 #20661] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3827308314"], ["active", 1]]
D, [2020-03-31T22:32:07.745005 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.762036 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.765540 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311818237"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.767319 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311818237"], ["date_of_birth", "2001-03-31"], ["phone", "4608936972"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:07.768653 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.789027 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.791091 #20661] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.793390 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.795215 #20661] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.818030 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.819389 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:07.820410 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:32:07.823656 #20661]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:32:07 +0000
F, [2020-03-31T22:32:07.860511 #20661] FATAL -- : 
SyntaxError - syntax error, unexpected `unless' modifier, expecting ';' or '\n'
  def create unless params[:store_id].nil? || pa...
             ^~~~~~
/home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb:45: syntax error, unexpected `end', expecting end-of-input:
  app/controllers/assignments_controller.rb:14:in `'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:07.868320 #20661] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:07.870516 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:07.870912 #20661]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:32:07.871034 #20661]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:32:07.871123 #20661]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:32:07.872353 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.874258 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.876167 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7233112069"], ["active", 1]]
D, [2020-03-31T22:32:07.877704 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.879423 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.881467 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "338504480"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.883494 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "338504480"], ["date_of_birth", "2001-03-31"], ["phone", "7016110169"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:07.885089 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.886816 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.888623 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.890071 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.891436 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.893408 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.894956 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:07.896164 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.897350 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:32:07.898820 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.900536 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "265782527"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.902250 #20661] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "265782527"], ["date_of_birth", "2001-03-31"], ["phone", "0929686851"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:07.903772 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:32:07.910994 #20661]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:32:07 +0000
F, [2020-03-31T22:32:07.936728 #20661] FATAL -- : 
LoadError - Unable to autoload constant AssignmentsController, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb to define it:
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:07.941622 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:32:07.942787 #20661] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:07.944666 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:07.945024 #20661]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:32:07.945132 #20661]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:32:07.945200 #20661]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:32:07.946257 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.948096 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.949905 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4610078476"], ["active", 1]]
D, [2020-03-31T22:32:07.951443 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.953043 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.954743 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301481579"], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.956525 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "301481579"], ["date_of_birth", "2001-03-31"], ["phone", "0303466890"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:07.958107 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.959694 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.961256 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.962618 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:07.964005 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.965896 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:07.967473 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:07.968655 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:07.969788 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:32:07.971162 #20661]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:32:07 +0000
F, [2020-03-31T22:32:07.998171 #20661] FATAL -- : 
LoadError - Unable to autoload constant AssignmentsController, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb to define it:
  test/controllers/assignments_controller_test.rb:48:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:47:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:08.005929 #20661] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:32:08.007460 #20661] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:08.010429 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:08.010850 #20661]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:32:08.010950 #20661]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:32:08.011014 #20661]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:32:08.012239 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.014070 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.015995 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6794973001"], ["active", 1]]
D, [2020-03-31T22:32:08.017574 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.019156 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.021118 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320386128"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.022928 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320386128"], ["date_of_birth", "2001-03-31"], ["phone", "0357757789"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:08.024680 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.026232 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.027916 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.029353 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.030911 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.033104 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.034726 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:08.036179 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:32:08.037844 #20661]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:32:08 +0000
F, [2020-03-31T22:32:08.064270 #20661] FATAL -- : 
LoadError - Unable to autoload constant AssignmentsController, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb to define it:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:08.070371 #20661] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:08.072201 #20661] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:08.072559 #20661]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:32:08.072663 #20661]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:32:08.072730 #20661]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:32:08.073785 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.075544 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.077342 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0500178264"], ["active", 1]]
D, [2020-03-31T22:32:08.078909 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.080459 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.082129 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045191892"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.083815 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045191892"], ["date_of_birth", "2001-03-31"], ["phone", "9011497879"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:08.085441 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.086951 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.088501 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.089962 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.091398 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.093211 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.094601 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:08.095971 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:32:08.104578 #20661]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:32:08 +0000
F, [2020-03-31T22:32:08.128614 #20661] FATAL -- : 
LoadError - Unable to autoload constant AssignmentsController, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb to define it:
  test/controllers/assignments_controller_test.rb:18:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:08.133242 #20661] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:08.135006 #20661] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:08.135353 #20661]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:32:08.135435 #20661]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:32:08.135496 #20661]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:32:08.136520 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.138121 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.139726 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2124004167"], ["active", 1]]
D, [2020-03-31T22:32:08.141125 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.142419 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.143953 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334957535"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.145420 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "334957535"], ["date_of_birth", "2001-03-31"], ["phone", "3564809341"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:08.146829 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.148268 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.149625 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.150879 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.152123 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.153736 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.155074 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:08.156203 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:32:08.157672 #20661]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:32:08 +0000
F, [2020-03-31T22:32:08.180534 #20661] FATAL -- : 
LoadError - Unable to autoload constant AssignmentsController, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/app/controllers/assignments_controller.rb to define it:
  test/controllers/assignments_controller_test.rb:34:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:32:08.185102 #20661] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:32:08.186831 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:32:08.187160 #20661]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:32:08.187321 #20661]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:32:08.187406 #20661]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:32:08.188430 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.190124 #20661] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.191805 #20661] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4921053053"], ["active", 1]]
D, [2020-03-31T22:32:08.193262 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.194632 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.196379 #20661] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "111787293"], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.197986 #20661] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "111787293"], ["date_of_birth", "2001-03-31"], ["phone", "3558141511"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:32:08.199702 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.201349 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.202808 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.204182 #20661] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:32:08.205456 #20661] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.207405 #20661] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:32:08.208773 #20661] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:32:08.209890 #20661] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:32:08.210963 #20661] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:50.784379 #20802] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:33:50.874381 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:50.874831 #20802]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:33:50.874906 #20802]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:33:50.874930 #20802]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:33:50.973966 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:50.976183 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:50.977897 #20802] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2960392008"], ["active", 1]]
D, [2020-03-31T22:33:50.979232 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:50.994649 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:50.997797 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261378417"], ["LIMIT", 1]]
D, [2020-03-31T22:33:50.999408 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "261378417"], ["date_of_birth", "2001-03-31"], ["phone", "5417836089"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.000622 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.019510 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.021525 #20802] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.023927 #20802] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.025543 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.034613 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.035913 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.036779 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.044806 #20802]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
I, [2020-03-31T22:33:51.054544 #20802]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:33:51.054885 #20802]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:33:51.060063 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.241501 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.243056 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.244708 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.249151 #20802]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:33:51.250767 #20802]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:33:51.252544 #20802]  INFO -- : Completed 200 OK in 197ms (Views: 6.2ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:33:51.259027 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.259967 #20802] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.260318 #20802]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:33:51.260405 #20802]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:33:51.260473 #20802]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:33:51.261456 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.263176 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.264879 #20802] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4555332713"], ["active", 1]]
D, [2020-03-31T22:33:51.266336 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.267766 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.269354 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062111619"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.270903 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "062111619"], ["date_of_birth", "2001-03-31"], ["phone", "2304874151"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.272412 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.273791 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.275231 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.276536 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.277789 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.279557 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.280944 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.282065 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.283090 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.313363 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.313813 #20802]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:33:51.313898 #20802]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:33:51.313965 #20802]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:33:51.315004 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.316705 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.318354 #20802] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1869806843"], ["active", 1]]
D, [2020-03-31T22:33:51.319723 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.321117 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.322712 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277645916"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.324315 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277645916"], ["date_of_birth", "2001-03-31"], ["phone", "8289457845"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.325703 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.327161 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.328618 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.329871 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.331098 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.332811 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.334175 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.335255 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.336363 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:33:51.337670 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.339135 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127341867"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.340667 #20802] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "127341867"], ["date_of_birth", "2001-03-31"], ["phone", "2004510499"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.341977 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.343607 #20802]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
I, [2020-03-31T22:33:51.344776 #20802]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:33:51.345121 #20802]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:33:51.346109 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.350202 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.351661 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.353111 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.354238 #20802]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:33:51.354663 #20802]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:33:51.355937 #20802]  INFO -- : Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:33:51.359866 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:33:51.360783 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.361798 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.362167 #20802]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:33:51.362250 #20802]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:33:51.362328 #20802]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:33:51.363308 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.364823 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.366428 #20802] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5485009576"], ["active", 1]]
D, [2020-03-31T22:33:51.367807 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.369124 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.370624 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "346160675"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.372189 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346160675"], ["date_of_birth", "2001-03-31"], ["phone", "9795658378"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.373544 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.374885 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.376293 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.377569 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.378769 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.380423 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.381720 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.382829 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.383890 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:33:51.385124 #20802]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
I, [2020-03-31T22:33:51.386354 #20802]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:33:51.386643 #20802]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:33:51.387954 #20802] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.389136 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.390271 #20802] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:33:51.391272 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.392297 #20802]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:33:51.393198 #20802]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:33:51.397467 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:33:51.399457 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.400289 #20802] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.400659 #20802]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:33:51.400747 #20802]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:33:51.400813 #20802]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:33:51.401774 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.403267 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.404923 #20802] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6511607159"], ["active", 1]]
D, [2020-03-31T22:33:51.406357 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.408167 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.409677 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069938384"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.411209 #20802] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069938384"], ["date_of_birth", "2001-03-31"], ["phone", "6368512038"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.412584 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.413900 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.415272 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.416538 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.417735 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.419452 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.420839 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.421917 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.423340 #20802]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
I, [2020-03-31T22:33:51.424491 #20802]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:33:51.427155 #20802]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:33:51.440089 #20802] FATAL -- : 
LoadError - Unable to autoload constant Assignments, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/lib/tasks/helpers/assignments.rb to define it:
  app/controllers/assignments_controller.rb:6:in `index'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:33:51.444690 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.445798 #20802] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.446126 #20802]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:33:51.446205 #20802]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:33:51.446271 #20802]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:33:51.447315 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.448962 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.450616 #20802] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4718425759"], ["active", 1]]
D, [2020-03-31T22:33:51.451991 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.453376 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.454951 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077761089"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.456511 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077761089"], ["date_of_birth", "2001-03-31"], ["phone", "4739061584"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.457958 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.459422 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.460860 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.462165 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.463524 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.465302 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.466712 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.467837 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.469256 #20802]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
I, [2020-03-31T22:33:51.470622 #20802]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:33:51.471942 #20802]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:33:51.472417 #20802]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:33:51.473563 #20802]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:33:51.476360 #20802] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:33:51.477302 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:33:51.477632 #20802]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:33:51.477721 #20802]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:33:51.477812 #20802]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:33:51.478734 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.480364 #20802] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.482008 #20802] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3554902772"], ["active", 1]]
D, [2020-03-31T22:33:51.483487 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.484892 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.486515 #20802] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037735290"], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.488169 #20802] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "037735290"], ["date_of_birth", "2001-03-31"], ["phone", "1026414085"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:33:51.489608 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.491017 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:33:51.492506 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.493825 #20802] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:33:51.495085 #20802] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.496847 #20802] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:33:51.498235 #20802] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:33:51.499370 #20802] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:33:51.500796 #20802]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
F, [2020-03-31T22:33:51.519301 #20802] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:33:51.523835 #20802]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:33:51 +0000
F, [2020-03-31T22:33:51.542183 #20802] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:33:51.546369 #20802] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:21.942550 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-31T22:34:22.036309 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.036867 #20896]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-31T22:34:22.036915 #20896]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-03-31T22:34:22.036939 #20896]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-31T22:34:22.148331 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.150482 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.152194 #20896] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5000780625"], ["active", 1]]
D, [2020-03-31T22:34:22.153408 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.171443 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.174694 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "254413396"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.176342 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "254413396"], ["date_of_birth", "2001-03-31"], ["phone", "0332836802"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.177640 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.196851 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.199923 #20896] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.217938 #20896] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.219666 #20896] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.228575 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.229795 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.230679 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.231580 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:34:22.232855 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.234207 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100702510"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.235568 #20896] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "100702510"], ["date_of_birth", "2001-03-31"], ["phone", "9317936703"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.236798 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.244939 #20896]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
I, [2020-03-31T22:34:22.254691 #20896]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:34:22.255048 #20896]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:34:22.260370 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.430233 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.431908 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.433545 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.437982 #20896]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:34:22.439574 #20896]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-03-31T22:34:22.441287 #20896]  INFO -- : Completed 200 OK in 186ms (Views: 6.1ms | ActiveRecord: 0.4ms)
D, [2020-03-31T22:34:22.448186 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:34:22.449285 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.450437 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.450801 #20896]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-31T22:34:22.450887 #20896]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-03-31T22:34:22.450952 #20896]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-31T22:34:22.452008 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.453704 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.455515 #20896] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8702899805"], ["active", 1]]
D, [2020-03-31T22:34:22.456929 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.458411 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.460203 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "284738653"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.461826 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "284738653"], ["date_of_birth", "2001-03-31"], ["phone", "8837062937"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.463413 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.465078 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.466658 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.468032 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.469321 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.471110 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.472492 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.473608 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.474659 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-03-31T22:34:22.476045 #20896]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
I, [2020-03-31T22:34:22.477324 #20896]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-03-31T22:34:22.477625 #20896]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-03-31T22:34:22.479076 #20896] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.480387 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.481614 #20896] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-31T22:34:22.482718 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.483854 #20896]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-03-31T22:34:22.484878 #20896]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-03-31T22:34:22.489999 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-03-31T22:34:22.492211 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.493060 #20896] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.493415 #20896]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-31T22:34:22.493501 #20896]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-03-31T22:34:22.493568 #20896]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-31T22:34:22.494638 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.496426 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.498849 #20896] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0037665366"], ["active", 1]]
D, [2020-03-31T22:34:22.500314 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.501780 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.503570 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120732954"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.505230 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "120732954"], ["date_of_birth", "2001-03-31"], ["phone", "0592033493"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.506694 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.508357 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.509934 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.511357 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.512697 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.514518 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.516027 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.517178 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.518743 #20896]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
F, [2020-03-31T22:34:22.536536 #20896] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-03-31T22:34:22.541411 #20896]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
F, [2020-03-31T22:34:22.558017 #20896] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:34:22.562430 #20896] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.563271 #20896] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.563644 #20896]  INFO -- : ------------------------------------------------
I, [2020-03-31T22:34:22.563741 #20896]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-03-31T22:34:22.563805 #20896]  INFO -- : ------------------------------------------------
D, [2020-03-31T22:34:22.564820 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.566462 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.568242 #20896] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7213184651"], ["active", 1]]
D, [2020-03-31T22:34:22.569618 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.571039 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.572707 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063423958"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.574330 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "063423958"], ["date_of_birth", "2001-03-31"], ["phone", "2329006170"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.575742 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.577252 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.578793 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.580152 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.581456 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.583232 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.584807 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.585938 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.587413 #20896]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
I, [2020-03-31T22:34:22.588579 #20896]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-03-31T22:34:22.591387 #20896]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.0ms)
F, [2020-03-31T22:34:22.601112 #20896] FATAL -- : 
LoadError - Unable to autoload constant Assignments, expected /home/ubuntu/67-272_2020_Creamery_P3_Starter/lib/tasks/helpers/assignments.rb to define it:
  app/controllers/assignments_controller.rb:6:in `index'
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-03-31T22:34:22.606169 #20896] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.607240 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.607587 #20896]  INFO -- : ----------------------------------------------
I, [2020-03-31T22:34:22.607677 #20896]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-03-31T22:34:22.607739 #20896]  INFO -- : ----------------------------------------------
D, [2020-03-31T22:34:22.608811 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.610589 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.612367 #20896] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5573701217"], ["active", 1]]
D, [2020-03-31T22:34:22.613834 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.615404 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.617242 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "371506869"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.618892 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "371506869"], ["date_of_birth", "2001-03-31"], ["phone", "2092174528"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.620405 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.621942 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.623476 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.624803 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.626072 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.627843 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.629266 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.630444 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.631908 #20896]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
I, [2020-03-31T22:34:22.633293 #20896]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-03-31T22:34:22.634631 #20896]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:34:22.635138 #20896]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:34:22.636302 #20896]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-03-31T22:34:22.639268 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.640215 #20896] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.640583 #20896]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-31T22:34:22.640687 #20896]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-03-31T22:34:22.640761 #20896]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-31T22:34:22.641788 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.643564 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.645314 #20896] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3521984877"], ["active", 1]]
D, [2020-03-31T22:34:22.646744 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.648365 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.650071 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179044255"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.651730 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179044255"], ["date_of_birth", "2001-03-31"], ["phone", "7091964024"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.653192 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.654676 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.656265 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.657607 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.658946 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.660839 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.662278 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.663471 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.665128 #20896]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-03-31 22:34:22 +0000
I, [2020-03-31T22:34:22.666252 #20896]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-03-31T22:34:22.666608 #20896]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-03-31T22:34:22.667698 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.671867 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.673341 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.674781 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-03-31T22:34:22.675927 #20896]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-03-31T22:34:22.676367 #20896]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-03-31T22:34:22.677557 #20896]  INFO -- : Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-03-31T22:34:22.681324 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-31T22:34:22.682111 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-31T22:34:22.682442 #20896]  INFO -- : -----------------------------------------------------------
I, [2020-03-31T22:34:22.682523 #20896]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-03-31T22:34:22.682585 #20896]  INFO -- : -----------------------------------------------------------
D, [2020-03-31T22:34:22.683579 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.685213 #20896] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.686846 #20896] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9351396426"], ["active", 1]]
D, [2020-03-31T22:34:22.688226 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.689631 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.691216 #20896] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089001934"], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.692896 #20896] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "089001934"], ["date_of_birth", "2001-03-31"], ["phone", "0437582602"], ["role", "employee"], ["active", 1]]
D, [2020-03-31T22:34:22.694289 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.695711 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.697177 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.698526 #20896] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-31T22:34:22.699803 #20896] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.713599 #20896] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-31T22:34:22.715050 #20896] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-03-31T22:34:22.716186 #20896] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-31T22:34:22.717239 #20896] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
