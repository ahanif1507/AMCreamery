# Logfile created on 2020-04-01 00:15:35 +0000 by logger.rb/v1.4.2
D, [2020-04-01T00:15:35.299757 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T00:15:35.385380 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.385863 #28879]  INFO -- : --------------------------------------------------
I, [2020-04-01T00:15:35.385909 #28879]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T00:15:35.385932 #28879]  INFO -- : --------------------------------------------------
D, [2020-04-01T00:15:35.489231 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.493726 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069530803"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.495921 #28879] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069530803"], ["date_of_birth", "2001-03-31"], ["phone", "6583086006"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.497426 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.514495 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.516511 #28879] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.518145 #28879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9488098534"], ["active", 1]]
D, [2020-04-01T00:15:35.519594 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.541381 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.543655 #28879] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:15:35.560497 #28879] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:15:35.562272 #28879] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.572053 #28879] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.573325 #28879] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:15:35.574141 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.577037 #28879]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.586428 #28879]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T00:15:35.586742 #28879]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T00:15:35.591890 #28879] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T00:15:35.595438 #28879]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.1ms)
F, [2020-04-01T00:15:35.610514 #28879] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T00:15:35.618573 #28879] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:15:35.620067 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.620469 #28879]  INFO -- : ----------------------------------------------
I, [2020-04-01T00:15:35.620599 #28879]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T00:15:35.620682 #28879]  INFO -- : ----------------------------------------------
D, [2020-04-01T00:15:35.622065 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.624187 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021710140"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.626131 #28879] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021710140"], ["date_of_birth", "2001-03-31"], ["phone", "1871673269"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.627781 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.629269 #28879]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.630516 #28879]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T00:15:35.655190 #28879]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-04-01T00:15:35.669582 #28879] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T00:15:35.674207 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:15:35.675369 #28879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.675709 #28879]  INFO -- : --------------------------------------------
I, [2020-04-01T00:15:35.675794 #28879]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T00:15:35.675861 #28879]  INFO -- : --------------------------------------------
D, [2020-04-01T00:15:35.677106 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.678914 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099472319"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.680668 #28879] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099472319"], ["date_of_birth", "2001-03-31"], ["phone", "9550393849"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.682075 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.683510 #28879]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.684707 #28879]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T00:15:35.689173 #28879]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T00:15:35.690733 #28879]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T00:15:35.692246 #28879]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T00:15:35.695475 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:15.620481 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T00:19:15.707242 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:15.707896 #29203]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T00:19:15.707945 #29203]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T00:19:15.707970 #29203]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T00:19:15.806516 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.808609 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.810337 #29203] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9486178946"], ["active", 1]]
D, [2020-04-01T00:19:15.811627 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.826859 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.830168 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "107029821"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.831891 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "107029821"], ["date_of_birth", "2001-03-31"], ["phone", "0113525154"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:15.833200 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.852168 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.866534 #29203] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.869433 #29203] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.871145 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.881677 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.883107 #29203] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:15.884180 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.885177 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T00:19:15.888623 #29203]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 00:19:15 +0000
I, [2020-04-01T00:19:15.904173 #29203]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T00:19:15.904556 #29203]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T00:19:15.910775 #29203] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.912367 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.913711 #29203] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T00:19:15.914923 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:15.916261 #29203]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T00:19:15.917426 #29203]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-04-01T00:19:15.926471 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:15.929591 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:15.930713 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:15.931049 #29203]  INFO -- : ------------------------------------------------
I, [2020-04-01T00:19:15.931139 #29203]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T00:19:15.931242 #29203]  INFO -- : ------------------------------------------------
D, [2020-04-01T00:19:15.932417 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.934313 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.936182 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6663537826"], ["active", 1]]
D, [2020-04-01T00:19:15.937753 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.939401 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.941268 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059863235"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.943060 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059863235"], ["date_of_birth", "2001-03-31"], ["phone", "3530432520"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:15.944734 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.946402 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.948288 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.949738 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.951177 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.953145 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.954695 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:15.955976 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:15.957557 #29203]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 00:19:15 +0000
I, [2020-04-01T00:19:15.958781 #29203]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T00:19:15.982902 #29203]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-04-01T00:19:15.995931 #29203] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T00:19:16.001395 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.002614 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.003024 #29203]  INFO -- : ----------------------------------------------
I, [2020-04-01T00:19:16.003117 #29203]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T00:19:16.003192 #29203]  INFO -- : ----------------------------------------------
D, [2020-04-01T00:19:16.004324 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.006164 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.007990 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2974387138"], ["active", 1]]
D, [2020-04-01T00:19:16.009657 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.011249 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.013277 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106549904"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.015471 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "106549904"], ["date_of_birth", "2001-03-31"], ["phone", "5644628747"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.017043 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.018820 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.020551 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.021994 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.023454 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.025426 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.026940 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.028431 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.029997 #29203]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.031327 #29203]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T00:19:16.036566 #29203]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T00:19:16.038559 #29203]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.4ms)
I, [2020-04-01T00:19:16.040314 #29203]  INFO -- : Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T00:19:16.043779 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.044681 #29203] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.045065 #29203]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T00:19:16.045155 #29203]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T00:19:16.045226 #29203]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T00:19:16.046374 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.048267 #29203] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.050122 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3632531822"], ["active", 1]]
D, [2020-04-01T00:19:16.051779 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.053484 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.055404 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357914537"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.057135 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357914537"], ["date_of_birth", "2001-03-31"], ["phone", "9509118819"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.058786 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.060421 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.062106 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.063710 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.065279 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.067491 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.069240 #29203] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.070659 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.072607 #29203]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.073972 #29203]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T00:19:16.074383 #29203]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-04-01T00:19:16.076075 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.078517 #29203] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.359482 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.361255 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.363035 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.364356 #29203]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T00:19:16.364921 #29203]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T00:19:16.366291 #29203]  INFO -- : Completed 200 OK in 291ms (Views: 1.6ms | ActiveRecord: 0.6ms)
D, [2020-04-01T00:19:16.370788 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.371735 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.372148 #29203]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T00:19:16.372236 #29203]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T00:19:16.372305 #29203]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T00:19:16.373314 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.374995 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.376771 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3568533625"], ["active", 1]]
D, [2020-04-01T00:19:16.378344 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.379822 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.381577 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268447922"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.383203 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "268447922"], ["date_of_birth", "2001-03-31"], ["phone", "0526440811"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.384745 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.386280 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.387945 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.389308 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.390689 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.392502 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.393974 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.395126 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.396549 #29203]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
F, [2020-04-01T00:19:16.413820 #29203] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T00:19:16.418426 #29203]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
F, [2020-04-01T00:19:16.435811 #29203] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T00:19:16.439919 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.440806 #29203] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.441150 #29203]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T00:19:16.441236 #29203]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T00:19:16.441304 #29203]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T00:19:16.442333 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.444117 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.445883 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6346521172"], ["active", 1]]
D, [2020-04-01T00:19:16.447346 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.448865 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.450523 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060439022"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.452238 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060439022"], ["date_of_birth", "2001-03-31"], ["phone", "8512103141"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.453676 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.455216 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.456763 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.458107 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.459408 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.461157 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.462525 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.463679 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.464732 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.497444 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.497870 #29203]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T00:19:16.497954 #29203]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T00:19:16.498019 #29203]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T00:19:16.499061 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.500828 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.502581 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3403240614"], ["active", 1]]
D, [2020-04-01T00:19:16.504050 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.505464 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.507188 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "284915029"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.508968 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "284915029"], ["date_of_birth", "2001-03-31"], ["phone", "8388608779"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.510388 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.512010 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.513507 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.514842 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.516248 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.517976 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.519409 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.520515 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.521604 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:16.523021 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.524660 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053589062"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.526159 #29203] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "053589062"], ["date_of_birth", "2001-03-31"], ["phone", "8439678326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.527644 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.529156 #29203]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.530236 #29203]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T00:19:16.530632 #29203]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-04-01T00:19:16.531918 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.533406 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.535756 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.537584 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.539113 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.540522 #29203] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.542564 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.544163 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-04-01T00:19:16.545398 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.546401 #29203]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T00:19:16.547523 #29203]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
D, [2020-04-01T00:19:16.554232 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:16.555568 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.352536 #20033] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:52:41.452834 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.453313 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.453362 #20033]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:52:41.453392 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.573405 #20033]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.584895 #20033]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T07:52:41.594805 #20033]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T07:52:41.596743 #20033]  INFO -- :   Rendered home/about.html.erb within layouts/application (1.4ms)
I, [2020-04-01T07:52:41.598558 #20033]  INFO -- : Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.606978 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.608135 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.608547 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.608656 #20033]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:52:41.608733 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.609881 #20033]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.611156 #20033]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T07:52:41.613090 #20033]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T07:52:41.613965 #20033]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:52:41.615357 #20033]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.618137 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.619030 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.619548 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.619643 #20033]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:52:41.619728 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.620744 #20033]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.621745 #20033]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T07:52:41.623647 #20033]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T07:52:41.624446 #20033]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:52:41.625710 #20033]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.628357 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.629189 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.629623 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.629708 #20033]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:52:41.629795 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.630736 #20033]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.631845 #20033]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T07:52:41.633663 #20033]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T07:52:41.634463 #20033]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:52:41.635821 #20033]  INFO -- : Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.638445 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.421204 #20115] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:53:24.513454 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.513913 #20115]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:24.513961 #20115]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:53:24.513987 #20115]  INFO -- : -----------------------------------------
D, [2020-04-01T07:53:24.597577 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.653295 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.653693 #20115]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:24.653738 #20115]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:53:24.653764 #20115]  INFO -- : -------------------------------------------
D, [2020-04-01T07:53:24.654218 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.697284 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.697733 #20115]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:24.697780 #20115]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:53:24.697806 #20115]  INFO -- : -----------------------------------------
D, [2020-04-01T07:53:24.698223 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.741602 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.741991 #20115]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:24.742036 #20115]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:53:24.742061 #20115]  INFO -- : -------------------------------------------
D, [2020-04-01T07:53:24.742559 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:48.946509 #20177] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:53:49.029800 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.030249 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.030295 #20177]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:53:49.030319 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.112922 #20177]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.122537 #20177]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T07:53:49.130823 #20177]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T07:53:49.132431 #20177]  INFO -- :   Rendered home/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T07:53:49.133970 #20177]  INFO -- : Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.140565 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.141553 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.141866 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.141975 #20177]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:53:49.142088 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.143153 #20177]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.144532 #20177]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T07:53:49.146409 #20177]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T07:53:49.147197 #20177]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:53:49.148431 #20177]  INFO -- : Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.150998 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.151761 #20177] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.152139 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.152222 #20177]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:53:49.152288 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.153227 #20177]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.154342 #20177]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T07:53:49.156334 #20177]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T07:53:49.157136 #20177]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:53:49.158244 #20177]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.160967 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.161786 #20177] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.162121 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.162203 #20177]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:53:49.162282 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.163272 #20177]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.164411 #20177]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T07:53:49.166156 #20177]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T07:53:49.166873 #20177]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:53:49.168007 #20177]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.170404 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.227256 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:55:36.310268 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.310735 #20378]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:55:36.310783 #20378]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T07:55:36.310809 #20378]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:55:36.420694 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.424382 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234879253"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.426068 #20378] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234879253"], ["date_of_birth", "2001-04-01"], ["phone", "7688653971"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.427452 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.428411 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T07:55:36.437928 #20378]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.448295 #20378]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T07:55:36.448643 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T07:55:36.454079 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.456088 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.457828 #20378] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.459320 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.460640 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T07:55:36.462769 #20378]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T07:55:36.464009 #20378]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:55:36.472079 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T07:55:36.473095 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:55:36.475033 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.475949 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.476285 #20378]  INFO -- : --------------------------------------------------
I, [2020-04-01T07:55:36.476376 #20378]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T07:55:36.476461 #20378]  INFO -- : --------------------------------------------------
D, [2020-04-01T07:55:36.477629 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.479271 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198060612"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.480955 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198060612"], ["date_of_birth", "2001-04-01"], ["phone", "2251773166"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.482440 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.495877 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.497665 #20378] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.499221 #20378] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5653102665"], ["active", 1]]
D, [2020-04-01T07:55:36.500698 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.519728 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.521916 #20378] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T07:55:36.523704 #20378] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T07:55:36.537133 #20378] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.547682 #20378] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.549253 #20378] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T07:55:36.550366 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.551929 #20378]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.553175 #20378]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T07:55:36.553495 #20378]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:55:36.554522 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:55:36.557895 #20378]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-04-01T07:55:36.573975 #20378] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T07:55:36.579561 #20378] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.580767 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.581193 #20378]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T07:55:36.581311 #20378]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T07:55:36.581455 #20378]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T07:55:36.583044 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.585093 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374595858"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.586815 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374595858"], ["date_of_birth", "2001-04-01"], ["phone", "0541407165"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.588731 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.590490 #20378]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.591844 #20378]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T07:55:36.592200 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T07:55:36.593642 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.805800 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.807480 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.811905 #20378]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T07:55:36.813433 #20378]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T07:55:36.815110 #20378]  INFO -- : Completed 200 OK in 223ms (Views: 6.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:55:36.818866 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.819707 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.820052 #20378]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T07:55:36.820164 #20378]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T07:55:36.820244 #20378]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T07:55:36.821400 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.823042 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117330699"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.824953 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117330699"], ["date_of_birth", "2001-04-01"], ["phone", "5784822908"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.826433 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.827777 #20378]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
F, [2020-04-01T07:55:36.846181 #20378] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T07:55:36.849993 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.850771 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.851130 #20378]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:55:36.851227 #20378]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T07:55:36.851327 #20378]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:55:36.852781 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.854976 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204890229"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.856768 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204890229"], ["date_of_birth", "2001-04-01"], ["phone", "1048029741"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.858228 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.859746 #20378]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.861108 #20378]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T07:55:36.861486 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:55:36.862456 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.863895 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.865919 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.867946 #20378] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T07:55:36.869394 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.870326 #20378]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T07:55:36.871469 #20378]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:55:36.876615 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.877356 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.877738 #20378]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T07:55:36.877827 #20378]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T07:55:36.877908 #20378]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T07:55:36.878973 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.880649 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "387159590"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.882332 #20378] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "387159590"], ["date_of_birth", "2001-04-01"], ["phone", "3744962093"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.883768 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.885153 #20378]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.886362 #20378]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T07:55:36.886760 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:55:36.887768 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.889347 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.892075 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.894276 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.896068 #20378]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T07:55:36.896814 #20378]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:55:36.898353 #20378]  INFO -- : Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:55:36.902503 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.903296 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.903622 #20378]  INFO -- : ---------------------------------------------
I, [2020-04-01T07:55:36.903706 #20378]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T07:55:36.903771 #20378]  INFO -- : ---------------------------------------------
D, [2020-04-01T07:55:36.904852 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.906392 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "233517599"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.908057 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "233517599"], ["date_of_birth", "2001-04-01"], ["phone", "6158436188"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.910063 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.911666 #20378]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.912832 #20378]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T07:55:36.913150 #20378]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:55:36.914062 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:55:36.915551 #20378]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T07:55:36.916000 #20378]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:55:36.917058 #20378]  INFO -- : Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.1ms)
D, [2020-04-01T07:55:36.919984 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.920779 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.921091 #20378]  INFO -- : ----------------------------------------------
I, [2020-04-01T07:55:36.921196 #20378]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T07:55:36.921266 #20378]  INFO -- : ----------------------------------------------
D, [2020-04-01T07:55:36.922312 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.923919 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053585501"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.925611 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "053585501"], ["date_of_birth", "2001-04-01"], ["phone", "2612031748"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.927347 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.928534 #20378]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.929474 #20378]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T07:55:36.931591 #20378]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T07:55:36.932338 #20378]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:55:36.933398 #20378]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:55:36.935920 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.936618 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.936979 #20378]  INFO -- : --------------------------------------------
I, [2020-04-01T07:55:36.937064 #20378]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T07:55:36.937133 #20378]  INFO -- : --------------------------------------------
D, [2020-04-01T07:55:36.938142 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.939704 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052427933"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.941282 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052427933"], ["date_of_birth", "2001-04-01"], ["phone", "5305791373"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.942657 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.943782 #20378]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.944795 #20378]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T07:55:36.945857 #20378]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T07:55:36.946325 #20378]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:55:36.947362 #20378]  INFO -- : Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:55:36.949938 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:25.875676 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:59:25.972062 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:25.972574 #20769]  INFO -- : -------------------------------------------
I, [2020-04-01T07:59:25.972625 #20769]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T07:59:25.972651 #20769]  INFO -- : -------------------------------------------
D, [2020-04-01T07:59:26.108289 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.110588 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.112567 #20769] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1038160308"], ["active", 1]]
D, [2020-04-01T07:59:26.113957 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.117547 #20769]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.130153 #20769]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T07:59:26.139963 #20769]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T07:59:26.141729 #20769]  INFO -- :   Rendered stores/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T07:59:26.143666 #20769]  INFO -- : Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:59:26.150972 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.152138 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.152599 #20769]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T07:59:26.152687 #20769]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T07:59:26.152754 #20769]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T07:59:26.153889 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.155911 #20769] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.157875 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4076553710"], ["active", 1]]
D, [2020-04-01T07:59:26.159812 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.161091 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T07:59:26.168751 #20769]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.170208 #20769]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T07:59:26.170612 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T07:59:26.172323 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.174308 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.176318 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T07:59:26.178095 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.179394 #20769]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T07:59:26.180756 #20769]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:59:26.186658 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T07:59:26.188054 #20769] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:59:26.190605 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.191662 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.192027 #20769]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T07:59:26.192165 #20769]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T07:59:26.192245 #20769]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T07:59:26.193280 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.194969 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.196821 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4810149648"], ["active", 1]]
D, [2020-04-01T07:59:26.198455 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.199899 #20769]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
F, [2020-04-01T07:59:26.220705 #20769] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T07:59:26.226126 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.227214 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.227677 #20769]  INFO -- : --------------------------------------------
I, [2020-04-01T07:59:26.227791 #20769]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T07:59:26.227893 #20769]  INFO -- : --------------------------------------------
D, [2020-04-01T07:59:26.240372 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.242108 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.244018 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1576529301"], ["active", 1]]
D, [2020-04-01T07:59:26.245635 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.247074 #20769]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.248319 #20769]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T07:59:26.248657 #20769]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:59:26.269725 #20769] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.275452 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
I, [2020-04-01T07:59:26.276534 #20769]  INFO -- : Completed 500  in 28ms (ActiveRecord: 0.4ms)
D, [2020-04-01T07:59:26.278047 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.280062 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.284638 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
F, [2020-04-01T07:59:26.296167 #20769] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::Relation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T07:59:26.300938 #20769] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.302260 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.302596 #20769]  INFO -- : ------------------------------------------
I, [2020-04-01T07:59:26.302699 #20769]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T07:59:26.302857 #20769]  INFO -- : ------------------------------------------
D, [2020-04-01T07:59:26.303978 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.305692 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.307503 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0913443326"], ["active", 1]]
D, [2020-04-01T07:59:26.309085 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.310457 #20769]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.311792 #20769]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T07:59:26.312197 #20769]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:59:26.314946 #20769] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:59:26.317473 #20769]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T07:59:26.318243 #20769]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:59:26.319707 #20769]  INFO -- : Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T07:59:26.323069 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.323999 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.324340 #20769]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:59:26.324425 #20769]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T07:59:26.324521 #20769]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:59:26.325455 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.326953 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.328690 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0465028986"], ["active", 1]]
D, [2020-04-01T07:59:26.330173 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.331630 #20769]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.332741 #20769]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T07:59:26.333159 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T07:59:26.334517 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.525954 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:59:26.527604 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.529449 #20769]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T07:59:26.530314 #20769]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.5ms)
I, [2020-04-01T07:59:26.531847 #20769]  INFO -- : Completed 200 OK in 198ms (Views: 2.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:59:26.535582 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.536443 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.536866 #20769]  INFO -- : -----------------------------------------
I, [2020-04-01T07:59:26.536959 #20769]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T07:59:26.537029 #20769]  INFO -- : -----------------------------------------
D, [2020-04-01T07:59:26.537984 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.539603 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.541279 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3204144714"], ["active", 1]]
D, [2020-04-01T07:59:26.542730 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.544093 #20769]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.545351 #20769]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T07:59:26.546574 #20769]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T07:59:26.546999 #20769]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:59:26.548151 #20769]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:59:26.550748 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.551577 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.551936 #20769]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:59:26.552015 #20769]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T07:59:26.552085 #20769]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:59:26.552925 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.554460 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.556613 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8918840315"], ["active", 1]]
D, [2020-04-01T07:59:26.558291 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.559945 #20769]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.561581 #20769]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T07:59:26.561934 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:59:26.562997 #20769] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.564466 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.566906 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.568749 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.569766 #20769]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T07:59:26.570203 #20769]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:59:26.571558 #20769]  INFO -- : Completed 200 OK in 9ms (Views: 1.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:59:26.575399 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.576252 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.576571 #20769]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T07:59:26.576663 #20769]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T07:59:26.576730 #20769]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T07:59:26.577606 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.579084 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.580750 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9810391545"], ["active", 1]]
D, [2020-04-01T07:59:26.582157 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.583477 #20769]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.584667 #20769]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T07:59:26.585000 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:59:26.585884 #20769] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.587324 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.589121 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.591075 #20769] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T07:59:26.592564 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.593736 #20769]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T07:59:26.594854 #20769]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:59:26.599822 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.382260 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:00:08.469483 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.470029 #20854]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:00:08.470088 #20854]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:00:08.470135 #20854]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:00:08.582139 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.584676 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.586601 #20854] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8458682210"], ["active", 1]]
D, [2020-04-01T08:00:08.588119 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.605751 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.609304 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041220430"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.611165 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041220430"], ["date_of_birth", "2001-04-01"], ["phone", "0567877990"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.612662 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.648592 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.650786 #20854] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.653294 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.655122 #20854] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.666162 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.667837 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.668956 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.677750 #20854]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.690808 #20854]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:00:08.691156 #20854]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:00:08.697344 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.699977 #20854] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.867011 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.868702 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.870340 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.876720 #20854]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:00:08.878449 #20854]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-04-01T08:00:08.880350 #20854]  INFO -- : Completed 200 OK in 189ms (Views: 8.3ms | ActiveRecord: 0.6ms)
D, [2020-04-01T08:00:08.888024 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.889887 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.890236 #20854]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:00:08.890339 #20854]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:00:08.890410 #20854]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:00:08.891643 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.893526 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.895396 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5145638968"], ["active", 1]]
D, [2020-04-01T08:00:08.896968 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.898652 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.900537 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074023913"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.902310 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074023913"], ["date_of_birth", "2001-04-01"], ["phone", "8047806258"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.903926 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.905531 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.907199 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.908647 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.910084 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.911979 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.913433 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.914713 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.915984 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.917647 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.919430 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269992673"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.921041 #20854] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "269992673"], ["date_of_birth", "2001-04-01"], ["phone", "6209235285"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.922497 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.924227 #20854]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.925408 #20854]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:00:08.925787 #20854]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:00:08.927146 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.928840 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.931105 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.933022 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.934554 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.935999 #20854] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.938040 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.939617 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:00:08.940822 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.941981 #20854]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:00:08.943049 #20854]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-04-01T08:00:08.950150 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.952337 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.953836 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.954198 #20854]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:00:08.954285 #20854]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:00:08.954355 #20854]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:00:08.955453 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.957303 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.959120 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4677807675"], ["active", 1]]
D, [2020-04-01T08:00:08.960578 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.962010 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.963818 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232363940"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.965491 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "232363940"], ["date_of_birth", "2001-04-01"], ["phone", "0954638788"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.966946 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.968729 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.970237 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.971689 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.973031 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.974839 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.976399 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.977504 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.978558 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:00:08.979978 #20854]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.981296 #20854]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:00:08.981634 #20854]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:08.983001 #20854] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.984301 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.985555 #20854] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:00:08.986628 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.987624 #20854]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:00:08.988595 #20854]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:00:08.993257 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.994289 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.995742 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.996119 #20854]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:00:08.996202 #20854]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:00:08.996268 #20854]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:00:08.997256 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.998863 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.000529 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8214247021"], ["active", 1]]
D, [2020-04-01T08:00:09.001913 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.003376 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.005260 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231203980"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.006975 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231203980"], ["date_of_birth", "2001-04-01"], ["phone", "4905763476"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.008500 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.010056 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.011659 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.013058 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.014417 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.016315 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.017760 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.018909 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.020433 #20854]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
I, [2020-04-01T08:00:09.021587 #20854]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:00:09.023910 #20854]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:00:09.024771 #20854]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.5ms)
I, [2020-04-01T08:00:09.025997 #20854]  INFO -- : Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:09.028906 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.030332 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.030694 #20854]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:00:09.030781 #20854]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:00:09.030860 #20854]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:00:09.031948 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.033693 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.035501 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2696769072"], ["active", 1]]
D, [2020-04-01T08:00:09.036971 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.038437 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.040167 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385249917"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.041903 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385249917"], ["date_of_birth", "2001-04-01"], ["phone", "2857487455"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.043391 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.044922 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.046400 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.047832 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.049158 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.051005 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.052452 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.053597 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.055053 #20854]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
F, [2020-04-01T08:00:09.081190 #20854] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:00:09.085960 #20854]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
F, [2020-04-01T08:00:09.103978 #20854] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:00:09.107771 #20854] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.108660 #20854] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.108991 #20854]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:00:09.109075 #20854]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:00:09.109148 #20854]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:00:09.110143 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.111973 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.113683 #20854] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2528909099"], ["active", 1]]
D, [2020-04-01T08:00:09.115137 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.116623 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.118281 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097704196"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.119880 #20854] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097704196"], ["date_of_birth", "2001-04-01"], ["phone", "5868893543"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.121220 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.122689 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.124193 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.125465 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.126730 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.130077 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.131560 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.132627 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.133979 #20854]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
I, [2020-04-01T08:00:09.135218 #20854]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:00:09.136529 #20854]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:00:09.137002 #20854]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:09.138101 #20854]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:09.140938 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.141752 #20854] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.142060 #20854]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:00:09.142144 #20854]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:00:09.142229 #20854]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:00:09.143247 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.144912 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.146547 #20854] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6696776776"], ["active", 1]]
D, [2020-04-01T08:00:09.147930 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.149336 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.151014 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "013224152"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.152617 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "013224152"], ["date_of_birth", "2001-04-01"], ["phone", "0296141358"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.153980 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.155537 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.168901 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.170658 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.171999 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.173709 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.175022 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.176089 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.177110 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:31.573081 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:00:31.661267 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:31.661729 #20915]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T08:00:31.661776 #20915]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T08:00:31.661800 #20915]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T08:00:31.768417 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:31.771775 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "183055456"], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.773533 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "183055456"], ["date_of_birth", "2001-04-01"], ["phone", "7943369294"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:31.774823 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:31.777828 #20915]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:31 +0000
F, [2020-04-01T08:00:31.819404 #20915] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T08:00:31.825560 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:31.826976 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:31.827323 #20915]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T08:00:31.827408 #20915]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T08:00:31.827475 #20915]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T08:00:31.828801 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:31.830685 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059354127"], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.832444 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059354127"], ["date_of_birth", "2001-04-01"], ["phone", "4594691748"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:31.833878 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:31.835582 #20915]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:31 +0000
I, [2020-04-01T08:00:31.841389 #20915]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T08:00:31.841712 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T08:00:31.847434 #20915] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.849822 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.025319 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.027507 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.031928 #20915]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T08:00:32.033427 #20915]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:00:32.035212 #20915]  INFO -- : Completed 200 OK in 193ms (Views: 6.0ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:00:32.039574 #20915] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.040852 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.041215 #20915]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T08:00:32.041302 #20915]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T08:00:32.041371 #20915]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T08:00:32.042660 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.044540 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285607121"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.046280 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "285607121"], ["date_of_birth", "2001-04-01"], ["phone", "0839617638"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.047735 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.048827 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T08:00:32.051254 #20915]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.052506 #20915]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T08:00:32.052850 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T08:00:32.054263 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.056033 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.057730 #20915] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.059275 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.060635 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T08:00:32.061827 #20915]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T08:00:32.062958 #20915]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:00:32.068188 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T08:00:32.069172 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T08:00:32.070375 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.071700 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.072027 #20915]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:00:32.072111 #20915]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T08:00:32.072177 #20915]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:00:32.073328 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.074927 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182676701"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.076732 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182676701"], ["date_of_birth", "2001-04-01"], ["phone", "9365749658"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.078107 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.079427 #20915]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.080484 #20915]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T08:00:32.082817 #20915]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T08:00:32.083624 #20915]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:00:32.084716 #20915]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:32.087463 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.088740 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.089085 #20915]  INFO -- : --------------------------------------------------
I, [2020-04-01T08:00:32.089169 #20915]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T08:00:32.089235 #20915]  INFO -- : --------------------------------------------------
D, [2020-04-01T08:00:32.090389 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.092116 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278625317"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.093754 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278625317"], ["date_of_birth", "2001-04-01"], ["phone", "9521374138"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.095088 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.108676 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.110400 #20915] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.111962 #20915] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5278202052"], ["active", 1]]
D, [2020-04-01T08:00:32.113253 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.129946 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.131775 #20915] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:32.133146 #20915] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:32.134469 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.142932 #20915] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.144415 #20915] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:32.145529 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.146997 #20915]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.148276 #20915]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T08:00:32.148570 #20915]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:32.149539 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T08:00:32.152717 #20915]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-04-01T08:00:32.180450 #20915] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T08:00:32.184937 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.186695 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.187013 #20915]  INFO -- : --------------------------------------------
I, [2020-04-01T08:00:32.187096 #20915]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T08:00:32.187177 #20915]  INFO -- : --------------------------------------------
D, [2020-04-01T08:00:32.188493 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.190344 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198810230"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.192065 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198810230"], ["date_of_birth", "2001-04-01"], ["phone", "5668165249"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.193507 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.194765 #20915]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.196052 #20915]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T08:00:32.197892 #20915]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T08:00:32.198675 #20915]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:00:32.199838 #20915]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:32.202437 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.203671 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.203983 #20915]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T08:00:32.204064 #20915]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T08:00:32.204159 #20915]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T08:00:32.205271 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.206998 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215521173"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.208709 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "215521173"], ["date_of_birth", "2001-04-01"], ["phone", "6733607871"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.210124 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.211798 #20915]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.212836 #20915]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T08:00:32.213201 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T08:00:32.214473 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.216829 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.218350 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.219505 #20915]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T08:00:32.219929 #20915]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:32.221236 #20915]  INFO -- : Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T08:00:32.224848 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.226001 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.226361 #20915]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T08:00:32.226450 #20915]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T08:00:32.226515 #20915]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T08:00:32.227738 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.229414 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104990081"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.231100 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104990081"], ["date_of_birth", "2001-04-01"], ["phone", "0120568637"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.232675 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.234119 #20915]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.235555 #20915]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T08:00:32.235913 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T08:00:32.236843 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.238315 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.240420 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.242486 #20915] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T08:00:32.244008 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.245741 #20915]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T08:00:32.246881 #20915]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:00:32.252405 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.253939 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.254262 #20915]  INFO -- : ---------------------------------------------
I, [2020-04-01T08:00:32.254343 #20915]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T08:00:32.254405 #20915]  INFO -- : ---------------------------------------------
D, [2020-04-01T08:00:32.255705 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.257458 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311590533"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.259123 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311590533"], ["date_of_birth", "2001-04-01"], ["phone", "7564078208"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.260603 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.261899 #20915]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.263060 #20915]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T08:00:32.263367 #20915]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:32.264334 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T08:00:32.265889 #20915]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T08:00:32.266468 #20915]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:32.267625 #20915]  INFO -- : Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T08:00:32.270706 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.117548 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:07:12.201032 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.201472 #21419]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:07:12.201518 #21419]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:07:12.201541 #21419]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:07:12.299964 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.302256 #21419] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.304047 #21419] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3203243646"], ["active", 1]]
D, [2020-04-01T08:07:12.305412 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.321260 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.324617 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266543250"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.326234 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266543250"], ["date_of_birth", "2001-04-01"], ["phone", "2449424350"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.327532 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.346464 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.348503 #21419] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.350807 #21419] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.352612 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.362206 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.363570 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.364575 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.368150 #21419]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.380417 #21419]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:07:12.390129 #21419]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:07:12.391879 #21419]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:07:12.393620 #21419]  INFO -- : Completed 200 OK in 13ms (Views: 6.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:07:12.400506 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.401589 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.402004 #21419]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:07:12.402100 #21419]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:07:12.402176 #21419]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:07:12.403372 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.405363 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.407273 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9494022220"], ["active", 1]]
D, [2020-04-01T08:07:12.408904 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.410554 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.412676 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242332728"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.414640 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242332728"], ["date_of_birth", "2001-04-01"], ["phone", "8652913194"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.416624 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.418548 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.432786 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.434273 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.435633 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.437514 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.438976 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.440126 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.447555 #21419]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.448949 #21419]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:07:12.449285 #21419]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:07:12.450799 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.453041 #21419] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.648293 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.649911 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.651559 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.653443 #21419]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:07:12.654221 #21419]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:07:12.655604 #21419]  INFO -- : Completed 200 OK in 206ms (Views: 2.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:07:12.660181 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.661164 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.661510 #21419]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:07:12.661595 #21419]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:07:12.661664 #21419]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:07:12.662784 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.664535 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.666258 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9203428473"], ["active", 1]]
D, [2020-04-01T08:07:12.667730 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.669209 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.671017 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088086577"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.672671 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088086577"], ["date_of_birth", "2001-04-01"], ["phone", "8914504934"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.674115 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.675712 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.677222 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.678460 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.679794 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.681514 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.683004 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.684144 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.685520 #21419]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.686910 #21419]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:07:12.688220 #21419]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:07:12.688735 #21419]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:07:12.689882 #21419]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:07:12.692780 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.693577 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.693904 #21419]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:07:12.693992 #21419]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:07:12.694058 #21419]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:07:12.695073 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.696726 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.698373 #21419] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9183356114"], ["active", 1]]
D, [2020-04-01T08:07:12.699800 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.701174 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.702776 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158610623"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.704356 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158610623"], ["date_of_birth", "2001-04-01"], ["phone", "2291062348"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.705714 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.707149 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.708673 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.709937 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.711333 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.713075 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.714420 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.715547 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.716926 #21419]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
F, [2020-04-01T08:07:12.733450 #21419] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:07:12.738133 #21419]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
F, [2020-04-01T08:07:12.754237 #21419] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:07:12.758507 #21419] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.759353 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.759687 #21419]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:07:12.759781 #21419]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:07:12.759848 #21419]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:07:12.760852 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.762460 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.764109 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1643682871"], ["active", 1]]
D, [2020-04-01T08:07:12.765483 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.766872 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.768513 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132970332"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.770035 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132970332"], ["date_of_birth", "2001-04-01"], ["phone", "2044539335"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.771373 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.772803 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.774186 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.775447 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.776651 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.778319 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.779634 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.780681 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.781805 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.783202 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.784738 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378306036"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.786198 #21419] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "378306036"], ["date_of_birth", "2001-04-01"], ["phone", "5034716602"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.787561 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.789070 #21419]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.790185 #21419]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:07:12.790489 #21419]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:07:12.791762 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.793203 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.795223 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.796879 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.798242 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.799549 #21419] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.801333 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.802729 #21419] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:07:12.803899 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.804914 #21419]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:07:12.805966 #21419]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:07:12.812171 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.813220 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.814021 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.814329 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:07:12.814434 #21419]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:07:12.814530 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:07:12.815504 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.817049 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.818641 #21419] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4042004686"], ["active", 1]]
D, [2020-04-01T08:07:12.820086 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.821505 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.823146 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148953295"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.824764 #21419] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148953295"], ["date_of_birth", "2001-04-01"], ["phone", "7526639019"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.826129 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.827598 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.829035 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.830290 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.831555 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.833226 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.834620 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.835857 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.836942 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:07:12.838291 #21419]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.839601 #21419]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:07:12.839924 #21419]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:07:12.841388 #21419] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.842751 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.844075 #21419] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:07:12.845171 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.846227 #21419]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:07:12.847216 #21419]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:07:12.851891 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.852966 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.853812 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.854148 #21419]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:07:12.854247 #21419]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:07:12.854326 #21419]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:07:12.855407 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.857049 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.858835 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4828084290"], ["active", 1]]
D, [2020-04-01T08:07:12.860315 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.861856 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.863584 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156520766"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.865292 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "156520766"], ["date_of_birth", "2001-04-01"], ["phone", "6203941494"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.866781 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.868447 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.869985 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.871756 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.873762 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.876506 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.878609 #21419] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.880416 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.881654 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.464640 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:11:06.552920 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.553376 #21753]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:11:06.553440 #21753]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:11:06.553467 #21753]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:11:06.681678 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.683901 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.685708 #21753] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8649909778"], ["active", 1]]
D, [2020-04-01T08:11:06.687059 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.703315 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.706642 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160311621"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.708411 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160311621"], ["date_of_birth", "2001-04-01"], ["phone", "5116240667"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.709831 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.744167 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.746200 #21753] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.748482 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.750168 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.759949 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.761292 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.762276 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.763541 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.796879 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.797356 #21753]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:11:06.797404 #21753]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:11:06.797429 #21753]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:11:06.798300 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.799982 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.801638 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1574100662"], ["active", 1]]
D, [2020-04-01T08:11:06.802984 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.804267 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.805786 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172709400"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.807172 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172709400"], ["date_of_birth", "2001-04-01"], ["phone", "6972392239"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.808439 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.809665 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.810970 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.812192 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.813292 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.814951 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.816107 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.817115 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.818080 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:11:06.821278 #21753]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.838621 #21753]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:11:06.839014 #21753]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:11:06.845257 #21753] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.846736 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.848112 #21753] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:11:06.849238 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.850356 #21753]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:11:06.851456 #21753]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
D, [2020-04-01T08:11:06.859720 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.862591 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.863903 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.864556 #21753]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:11:06.864686 #21753]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:11:06.864777 #21753]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:11:06.866083 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.867973 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.869824 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5212008866"], ["active", 1]]
D, [2020-04-01T08:11:06.871410 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.872897 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.874865 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "346561986"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.876679 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346561986"], ["date_of_birth", "2001-04-01"], ["phone", "5191468943"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.878274 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.879978 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.881615 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.883027 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.884518 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.886406 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.888119 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.889323 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.890864 #21753]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.892325 #21753]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:11:06.897375 #21753]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:11:06.899035 #21753]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:11:06.900657 #21753]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:11:06.903863 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.904888 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.905248 #21753]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:11:06.905337 #21753]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:11:06.905406 #21753]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:11:06.906481 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.908350 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.910158 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7149594797"], ["active", 1]]
D, [2020-04-01T08:11:06.911734 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.913379 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.915180 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231951275"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.916978 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231951275"], ["date_of_birth", "2001-04-01"], ["phone", "9500046633"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.918556 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.920211 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.921928 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.923474 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.924967 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.927006 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.928636 #21753] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.929980 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.931163 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.932746 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.934485 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224763267"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.936276 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "224763267"], ["date_of_birth", "2001-04-01"], ["phone", "9206832171"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.937955 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.939778 #21753]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.941212 #21753]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:11:06.941649 #21753]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:11:06.943225 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.945686 #21753] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.948202 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.950309 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.952093 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.953667 #21753] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.955988 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.957868 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:11:06.959319 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.960412 #21753]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:11:06.961606 #21753]  INFO -- : Completed 302 Found in 20ms (ActiveRecord: 1.1ms)
D, [2020-04-01T08:11:06.969089 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.970233 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.971186 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.971574 #21753]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:11:06.971691 #21753]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:11:06.971771 #21753]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:11:06.972819 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.974606 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.976397 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4158180294"], ["active", 1]]
D, [2020-04-01T08:11:06.978002 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.979620 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.981455 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "135224399"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.983126 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "135224399"], ["date_of_birth", "2001-04-01"], ["phone", "8754137762"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.984834 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.986402 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.988019 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.989466 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.990995 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.000621 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.002116 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.003226 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.004625 #21753]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
F, [2020-04-01T08:11:07.023247 #21753] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:11:07.029073 #21753]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
F, [2020-04-01T08:11:07.048560 #21753] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:11:07.052746 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:07.053658 #21753] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:07.054012 #21753]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:11:07.054098 #21753]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:11:07.054164 #21753]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:11:07.055128 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.056849 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.058516 #21753] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3889877718"], ["active", 1]]
D, [2020-04-01T08:11:07.059923 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.061312 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.062886 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362052621"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.064486 #21753] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362052621"], ["date_of_birth", "2001-04-01"], ["phone", "8761650362"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:07.065897 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.067396 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.068901 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.070180 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.071434 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.073077 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.074403 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.075604 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.076998 #21753]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
I, [2020-04-01T08:11:07.078115 #21753]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:11:07.080292 #21753]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:11:07.081090 #21753]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:11:07.082195 #21753]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:11:07.085135 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:07.085999 #21753] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:07.086337 #21753]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:11:07.086418 #21753]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:11:07.086485 #21753]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:11:07.087490 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.089093 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.090725 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7266154712"], ["active", 1]]
D, [2020-04-01T08:11:07.092187 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.093816 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.095775 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "308631262"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.097486 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "308631262"], ["date_of_birth", "2001-04-01"], ["phone", "0382622374"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:07.098992 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.100614 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.102234 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.103814 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.105198 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.107153 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.108608 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.109731 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.111423 #21753]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
I, [2020-04-01T08:11:07.112797 #21753]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:11:07.113100 #21753]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:11:07.114493 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.116148 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.394705 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.396257 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.397787 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.398921 #21753]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:11:07.399390 #21753]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:11:07.400638 #21753]  INFO -- : Completed 200 OK in 287ms (Views: 1.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:11:07.404793 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.106526 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:14:57.225428 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.225947 #21901]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:14:57.226000 #21901]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:14:57.226030 #21901]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:14:57.337870 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.340047 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.341840 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7905194785"], ["active", 1]]
D, [2020-04-01T08:14:57.343234 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.359621 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.362645 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310333355"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.364324 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310333355"], ["date_of_birth", "2001-04-01"], ["phone", "0876965487"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.365744 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.385727 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.387642 #21901] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.389933 #21901] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.391642 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.401418 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.402676 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.403656 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.407132 #21901]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
F, [2020-04-01T08:14:57.458817 #21901] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:14:57.466055 #21901]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
F, [2020-04-01T08:14:57.484618 #21901] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:14:57.488949 #21901] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.489942 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.490283 #21901]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:14:57.490435 #21901]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:14:57.490514 #21901]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:14:57.491627 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.493527 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.495362 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8134763325"], ["active", 1]]
D, [2020-04-01T08:14:57.496956 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.498316 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.499927 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294733209"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.501447 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "294733209"], ["date_of_birth", "2001-04-01"], ["phone", "8457290433"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.503047 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.504573 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.506114 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.507536 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.508841 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.510523 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.511854 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.512925 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.513875 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.558769 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.559222 #21901]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:14:57.559327 #21901]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:14:57.559404 #21901]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:14:57.560304 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.561871 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.563504 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6496511636"], ["active", 1]]
D, [2020-04-01T08:14:57.564863 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.566235 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.567842 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000530989"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.569331 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000530989"], ["date_of_birth", "2001-04-01"], ["phone", "9288692803"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.570715 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.572111 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.573463 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.574692 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.575937 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.577569 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.578889 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.579949 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.580985 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:14:57.582293 #21901]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.588021 #21901]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:14:57.588325 #21901]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:14:57.593662 #21901] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.594932 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.596148 #21901] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:14:57.597139 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.598215 #21901]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:14:57.599134 #21901]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:14:57.603602 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.605363 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.606250 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.606562 #21901]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:14:57.606642 #21901]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:14:57.606705 #21901]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:14:57.607657 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.609072 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.610722 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2182901545"], ["active", 1]]
D, [2020-04-01T08:14:57.612110 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.613475 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.614970 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060305943"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.616668 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060305943"], ["date_of_birth", "2001-04-01"], ["phone", "7695879256"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.618131 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.619544 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.621032 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.622385 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.623693 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.625405 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.626725 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.627869 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.629286 #21901]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.630442 #21901]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:14:57.635437 #21901]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:14:57.637075 #21901]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:14:57.638548 #21901]  INFO -- : Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:14:57.641506 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.642343 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.642652 #21901]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:14:57.642761 #21901]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:14:57.642844 #21901]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:14:57.643852 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.645345 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.647016 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8581343269"], ["active", 1]]
D, [2020-04-01T08:14:57.648476 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.649886 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.651489 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331482542"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.653053 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331482542"], ["date_of_birth", "2001-04-01"], ["phone", "8858802477"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.654493 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.655887 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.657211 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.658543 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.659826 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.661610 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.662981 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.664175 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.665560 #21901]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.666926 #21901]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:14:57.669563 #21901]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:14:57.670339 #21901]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:14:57.671515 #21901]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:14:57.674394 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.675344 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.675705 #21901]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:14:57.675798 #21901]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:14:57.675867 #21901]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:14:57.676800 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.678343 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.680050 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1012360857"], ["active", 1]]
D, [2020-04-01T08:14:57.681520 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.682862 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.684450 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019787666"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.686077 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "019787666"], ["date_of_birth", "2001-04-01"], ["phone", "5826418972"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.687558 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.688926 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.690289 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.691652 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.692955 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.694709 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.696096 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.697282 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.698347 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.699675 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.701212 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116598806"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.702790 #21901] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "116598806"], ["date_of_birth", "2001-04-01"], ["phone", "6905380039"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.704257 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.705850 #21901]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.707008 #21901]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:14:57.707424 #21901]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:14:57.708706 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.710645 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.712767 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.714508 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.716003 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.717317 #21901] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.719167 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.720592 #21901] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:14:57.721867 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.722881 #21901]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:14:57.724047 #21901]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:14:57.730353 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.731421 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.732262 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.732594 #21901]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:14:57.732693 #21901]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:14:57.732767 #21901]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:14:57.733685 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.735195 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.736854 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8504099061"], ["active", 1]]
D, [2020-04-01T08:14:57.738274 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.739600 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.741082 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "031265228"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.742572 #21901] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031265228"], ["date_of_birth", "2001-04-01"], ["phone", "1987035958"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.744165 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.745585 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.746973 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.748357 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.749683 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.751407 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.752890 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.754146 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.755751 #21901]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.756894 #21901]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:14:57.757241 #21901]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:14:57.758482 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.759956 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:58.012967 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:58.014428 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:58.016025 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:58.017174 #21901]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:14:58.017614 #21901]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:14:58.018838 #21901]  INFO -- : Completed 200 OK in 261ms (Views: 1.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:14:58.022899 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:40.987594 #22323] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:20:41.072359 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.072828 #22323]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:20:41.072874 #22323]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:20:41.072898 #22323]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:20:41.171075 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.173196 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.175021 #22323] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0254870128"], ["active", 1]]
D, [2020-04-01T08:20:41.176334 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.192062 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.195081 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084779039"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.196620 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084779039"], ["date_of_birth", "2001-04-01"], ["phone", "2048585325"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.197855 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.216030 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.217859 #22323] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.219984 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.221499 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.229911 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.231091 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.231968 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.232823 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:20:41.235834 #22323]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.251001 #22323]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:20:41.251420 #22323]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:20:41.256928 #22323] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.258286 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.259593 #22323] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:20:41.260664 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.261772 #22323]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:20:41.262773 #22323]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:20:41.270087 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.272906 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.273831 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.274172 #22323]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:20:41.274266 #22323]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:20:41.274351 #22323]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:20:41.275508 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.277312 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.279237 #22323] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9366311210"], ["active", 1]]
D, [2020-04-01T08:20:41.292041 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.293462 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.295080 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301526188"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.296666 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "301526188"], ["date_of_birth", "2001-04-01"], ["phone", "4107225121"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.298036 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.299403 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.300790 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.302025 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.303195 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.304854 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.306058 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.307084 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.308439 #22323]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.309743 #22323]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:20:41.314127 #22323]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:20:41.315694 #22323]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:20:41.317365 #22323]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:20:41.320253 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.321179 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.321480 #22323]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:20:41.321558 #22323]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:20:41.321646 #22323]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:20:41.322492 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.323931 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.325398 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9102209840"], ["active", 1]]
D, [2020-04-01T08:20:41.326743 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.328021 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.329477 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160244761"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.330981 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160244761"], ["date_of_birth", "2001-04-01"], ["phone", "6704094859"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.332430 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.333789 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.335157 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.336360 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.337570 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.339253 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.340650 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.341749 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.342754 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.344004 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.345430 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248278060"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.346836 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "248278060"], ["date_of_birth", "2001-04-01"], ["phone", "7618152648"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.348202 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.349735 #22323]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.350999 #22323]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:20:41.351311 #22323]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:20:41.352561 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.354362 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.356315 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.358016 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.359452 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.360832 #22323] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.362580 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.364099 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:20:41.365334 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.366332 #22323]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:20:41.367399 #22323]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:20:41.373762 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.375034 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.376057 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.376390 #22323]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:20:41.376469 #22323]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:20:41.376530 #22323]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:20:41.377378 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.378697 #22323] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.380196 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9378898576"], ["active", 1]]
D, [2020-04-01T08:20:41.381544 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.382755 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.384216 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117070125"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.385647 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117070125"], ["date_of_birth", "2001-04-01"], ["phone", "2987596359"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.387005 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.388363 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.389641 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.390815 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.392083 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.393609 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.394875 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.395937 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.397207 #22323]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.398246 #22323]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:20:41.400343 #22323]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:20:41.401087 #22323]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:20:41.402188 #22323]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:20:41.404883 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.405643 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.405991 #22323]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:20:41.406070 #22323]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:20:41.406128 #22323]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:20:41.406955 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.408306 #22323] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.409831 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2173214179"], ["active", 1]]
D, [2020-04-01T08:20:41.411198 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.412478 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.413996 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147792364"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.415516 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147792364"], ["date_of_birth", "2001-04-01"], ["phone", "7764238138"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.416945 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.418203 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.419678 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.420933 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.422195 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.423900 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.425251 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.426350 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.427819 #22323]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.428871 #22323]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:20:41.429214 #22323]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:20:41.430397 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.431813 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.693559 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.694977 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.696478 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.697562 #22323]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:20:41.698017 #22323]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:20:41.699190 #22323]  INFO -- : Completed 200 OK in 270ms (Views: 1.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:20:41.703179 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.703982 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.704310 #22323]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:20:41.704391 #22323]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:20:41.704458 #22323]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:20:41.705413 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.706887 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.708518 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4513781456"], ["active", 1]]
D, [2020-04-01T08:20:41.709933 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.711203 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.712680 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376880963"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.714228 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376880963"], ["date_of_birth", "2001-04-01"], ["phone", "7023290740"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.715608 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.716949 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.718212 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.719420 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.720596 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.722296 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.723593 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.724617 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.725554 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.754750 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.755128 #22323]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:20:41.755211 #22323]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:20:41.755332 #22323]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:20:41.756282 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.757751 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.759317 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0545224649"], ["active", 1]]
D, [2020-04-01T08:20:41.760638 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.761912 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.763398 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188495986"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.764882 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188495986"], ["date_of_birth", "2001-04-01"], ["phone", "8968286787"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.766232 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.767576 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.768908 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.770109 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.771310 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.772897 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.774148 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.775164 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.776478 #22323]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
F, [2020-04-01T08:20:41.796859 #22323] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:20:41.802161 #22323]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
F, [2020-04-01T08:20:41.823212 #22323] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:20:41.827917 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:11.755599 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:21:11.837000 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:11.837508 #22391]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:21:11.837560 #22391]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:21:11.837591 #22391]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:21:11.940455 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.942537 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.944330 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5319346294"], ["active", 1]]
D, [2020-04-01T08:21:11.945597 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.961318 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.964294 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152267771"], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.965844 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152267771"], ["date_of_birth", "2001-04-01"], ["phone", "8983286222"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:11.967092 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.985367 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.987186 #22391] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:11.989258 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:11.990812 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.999404 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.000617 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.001603 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.002488 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:21:12.005444 #22391]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.020794 #22391]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:21:12.021136 #22391]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:21:12.026598 #22391] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.027935 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.029146 #22391] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:21:12.030203 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.031242 #22391]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:21:12.032289 #22391]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:21:12.039632 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.042218 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.043361 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.043757 #22391]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:21:12.043855 #22391]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:21:12.043951 #22391]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:21:12.045126 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.047048 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.049067 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4143287204"], ["active", 1]]
D, [2020-04-01T08:21:12.062172 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.063686 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.065420 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229618610"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.067010 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229618610"], ["date_of_birth", "2001-04-01"], ["phone", "7724671612"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.068461 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.069797 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.071240 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.072525 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.073778 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.075494 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.076738 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.077781 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.079153 #22391]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.080535 #22391]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:21:12.084990 #22391]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:21:12.086424 #22391]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.0ms)
I, [2020-04-01T08:21:12.087976 #22391]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:21:12.090821 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.091644 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.092004 #22391]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:21:12.092089 #22391]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:21:12.092158 #22391]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:21:12.093042 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.094531 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.096164 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8727693215"], ["active", 1]]
D, [2020-04-01T08:21:12.097830 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.099161 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.100769 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306530518"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.102283 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306530518"], ["date_of_birth", "2001-04-01"], ["phone", "5893677881"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.103735 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.105102 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.106500 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.107762 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.108994 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.110674 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.112087 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.113187 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.114658 #22391]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.115843 #22391]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:21:12.116174 #22391]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:21:12.117400 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.119242 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.306243 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.307942 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.309632 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.310929 #22391]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:21:12.311464 #22391]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:21:12.312854 #22391]  INFO -- : Completed 200 OK in 196ms (Views: 1.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:21:12.317760 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.318653 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.319000 #22391]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:21:12.319093 #22391]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:21:12.319178 #22391]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:21:12.320213 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.321886 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.323744 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8933716084"], ["active", 1]]
D, [2020-04-01T08:21:12.325302 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.326955 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.329621 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384385446"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.332290 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384385446"], ["date_of_birth", "2001-04-01"], ["phone", "3600230842"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.334019 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.335933 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.337885 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.339553 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.341249 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.343414 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.345376 #22391] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.346875 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.348609 #22391]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
F, [2020-04-01T08:21:12.370788 #22391] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:21:12.375518 #22391]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
F, [2020-04-01T08:21:12.393190 #22391] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:21:12.397726 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.398623 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.398975 #22391]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:21:12.399065 #22391]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:21:12.399144 #22391]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:21:12.400232 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.402043 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.403847 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1111303228"], ["active", 1]]
D, [2020-04-01T08:21:12.405314 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.406866 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.408586 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046103590"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.410316 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "046103590"], ["date_of_birth", "2001-04-01"], ["phone", "7274081608"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.411946 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.413423 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.414984 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.416375 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.417718 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.419586 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.421100 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.422253 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.423715 #22391]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.424921 #22391]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:21:12.427137 #22391]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:21:12.428084 #22391]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.5ms)
I, [2020-04-01T08:21:12.429250 #22391]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:21:12.432173 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.433034 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.433352 #22391]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:21:12.433500 #22391]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:21:12.433589 #22391]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:21:12.434576 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.436205 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.438054 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3999692360"], ["active", 1]]
D, [2020-04-01T08:21:12.439554 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.441033 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.442634 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049701562"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.444417 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049701562"], ["date_of_birth", "2001-04-01"], ["phone", "8517199590"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.446051 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.447586 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.449211 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.450628 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.452030 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.453922 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.455450 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.456650 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.457789 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.459330 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.460987 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077354984"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.462620 #22391] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "077354984"], ["date_of_birth", "2001-04-01"], ["phone", "8709233359"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.464094 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.465758 #22391]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.466945 #22391]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:21:12.467311 #22391]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:21:12.468697 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.470300 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.472601 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.474469 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.476043 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.477416 #22391] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.479419 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.480948 #22391] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:21:12.482293 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.483430 #22391]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:21:12.484555 #22391]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-04-01T08:21:12.491346 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.492519 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.493362 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.493769 #22391]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:21:12.493870 #22391]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:21:12.493944 #22391]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:21:12.495018 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.496763 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.498490 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0055153437"], ["active", 1]]
D, [2020-04-01T08:21:12.500135 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.501584 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.503327 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242852653"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.505080 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242852653"], ["date_of_birth", "2001-04-01"], ["phone", "5212615665"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.506652 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.513623 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.515915 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.517538 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.519068 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.521302 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.523044 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.524382 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.525784 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.452527 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:22:51.547705 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.548234 #22538]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:22:51.548286 #22538]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:22:51.548312 #22538]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:22:51.654153 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.656117 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.657818 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7125579158"], ["active", 1]]
D, [2020-04-01T08:22:51.659017 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.673826 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.676976 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201432006"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.678486 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "201432006"], ["date_of_birth", "2001-04-01"], ["phone", "2367610662"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:51.679809 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.698608 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.712159 #22538] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.714489 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.716140 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.725084 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.726249 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:51.727117 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.728046 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:22:51.730942 #22538]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:22:51 +0000
I, [2020-04-01T08:22:51.746274 #22538]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:22:51.746598 #22538]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:22:51.752202 #22538] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.753565 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.754818 #22538] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:22:51.755872 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.756930 #22538]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:22:51.757862 #22538]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:22:51.765264 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:51.767989 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.768964 #22538] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.769282 #22538]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:22:51.769396 #22538]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:22:51.769462 #22538]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:22:51.770450 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.772095 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.773870 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1160828588"], ["active", 1]]
D, [2020-04-01T08:22:51.775424 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.776908 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.778547 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228917737"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.780200 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228917737"], ["date_of_birth", "2001-04-01"], ["phone", "8557079462"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:51.781701 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.783146 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.784653 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.785993 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.787436 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.789274 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.790681 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:51.791835 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.793471 #22538]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:22:51 +0000
I, [2020-04-01T08:22:51.794696 #22538]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:22:51.795080 #22538]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:22:51.796437 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.798391 #22538] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.976245 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.977810 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.979391 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.983950 #22538]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:22:51.985634 #22538]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:22:51.987345 #22538]  INFO -- : Completed 200 OK in 192ms (Views: 6.3ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:22:51.991939 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.992775 #22538] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.993158 #22538]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:22:51.993258 #22538]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:22:51.993333 #22538]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:22:51.994349 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.996077 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.997752 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7151806698"], ["active", 1]]
D, [2020-04-01T08:22:51.999213 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.000647 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.002242 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103297675"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.003945 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103297675"], ["date_of_birth", "2001-04-01"], ["phone", "0563542595"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.005395 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.006812 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.008417 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.009760 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.011040 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.012888 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.014264 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.015393 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.016858 #22538]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
F, [2020-04-01T08:22:52.035521 #22538] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:22:52.040476 #22538]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
F, [2020-04-01T08:22:52.064667 #22538] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:22:52.069337 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.070428 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.070855 #22538]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:22:52.070974 #22538]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:22:52.071045 #22538]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:22:52.072146 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.073799 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.075558 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8048708348"], ["active", 1]]
D, [2020-04-01T08:22:52.076937 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.078275 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.079834 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305958001"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.081358 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305958001"], ["date_of_birth", "2001-04-01"], ["phone", "4154321954"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.082732 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.084211 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.085664 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.086912 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.088208 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.089911 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.091250 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.092393 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.093689 #22538]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.094812 #22538]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:22:52.096914 #22538]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:22:52.097706 #22538]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:22:52.098842 #22538]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:22:52.101638 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.102650 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.103129 #22538]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:22:52.103214 #22538]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:22:52.103308 #22538]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:22:52.104229 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.105680 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.107363 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5400865123"], ["active", 1]]
D, [2020-04-01T08:22:52.108852 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.110154 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.111752 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283890961"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.113297 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283890961"], ["date_of_birth", "2001-04-01"], ["phone", "8483089468"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.114672 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.116148 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.117538 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.118794 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.120087 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.121782 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.123143 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.124355 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.125401 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.159074 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.159742 #22538]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:22:52.159890 #22538]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:22:52.160014 #22538]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:22:52.161118 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.162761 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.164505 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0705398767"], ["active", 1]]
D, [2020-04-01T08:22:52.165891 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.167267 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.168860 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278835688"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.170446 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278835688"], ["date_of_birth", "2001-04-01"], ["phone", "9768612938"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.171961 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.173353 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.174727 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.176089 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.177331 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.179021 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.180369 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.181476 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.182819 #22538]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.184207 #22538]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:22:52.185410 #22538]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:22:52.185905 #22538]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:22:52.187052 #22538]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:22:52.189826 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.190878 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.191378 #22538]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:22:52.191468 #22538]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:22:52.191535 #22538]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:22:52.192430 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.193974 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.195681 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5975177444"], ["active", 1]]
D, [2020-04-01T08:22:52.197130 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.198553 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.200332 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282402435"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.201947 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "282402435"], ["date_of_birth", "2001-04-01"], ["phone", "7947150695"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.203476 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.204959 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.218132 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.219598 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.220925 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.222749 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.224181 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.225235 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.226266 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:52.227718 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.229239 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016553062"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.230687 #22538] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "016553062"], ["date_of_birth", "2001-04-01"], ["phone", "3308721078"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.232155 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.233629 #22538]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.234697 #22538]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:22:52.235049 #22538]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:22:52.236331 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.237812 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.240052 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.241758 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.243242 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.244629 #22538] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.246428 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.247924 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:22:52.249105 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.250076 #22538]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:22:52.251106 #22538]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:22:52.257441 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:52.258467 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.404639 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:23:27.489375 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.489841 #22613]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:23:27.489886 #22613]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:23:27.489910 #22613]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:23:27.585200 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.587256 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.588980 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0163023953"], ["active", 1]]
D, [2020-04-01T08:23:27.590243 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.605290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.608211 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181246917"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.609770 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "181246917"], ["date_of_birth", "2001-04-01"], ["phone", "4944521153"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.610952 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.628971 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.630897 #22613] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.633008 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.634557 #22613] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.642884 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.644082 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.644952 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.647936 #22613]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.658886 #22613]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:23:27.667121 #22613]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:23:27.668830 #22613]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.3ms)
I, [2020-04-01T08:23:27.670354 #22613]  INFO -- : Completed 200 OK in 11ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:23:27.676136 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.677070 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.677384 #22613]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:23:27.677465 #22613]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:23:27.677529 #22613]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:23:27.678571 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.680314 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.681982 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3657727962"], ["active", 1]]
D, [2020-04-01T08:23:27.683445 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.684916 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.686570 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326205904"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.688352 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326205904"], ["date_of_birth", "2001-04-01"], ["phone", "4480066300"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.690112 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.691815 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.704690 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.705977 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.707196 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.708899 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.710211 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.711256 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.717636 #22613]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.718846 #22613]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:23:27.719176 #22613]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:23:27.720435 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.722348 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.872995 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.874485 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.876080 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.877773 #22613]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:23:27.878565 #22613]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:23:27.879881 #22613]  INFO -- : Completed 200 OK in 160ms (Views: 2.3ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:23:27.884050 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.884877 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.885212 #22613]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:23:27.885304 #22613]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:23:27.885392 #22613]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:23:27.886332 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.887901 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.889490 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3084966073"], ["active", 1]]
D, [2020-04-01T08:23:27.890903 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.892290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.893852 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305102463"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.895424 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305102463"], ["date_of_birth", "2001-04-01"], ["phone", "7121018757"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.896892 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.898287 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.899682 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.900975 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.902186 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.903927 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.905224 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.906290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.907582 #22613]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.908888 #22613]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:23:27.910089 #22613]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:23:27.910564 #22613]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:23:27.911716 #22613]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:23:27.914491 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.915365 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.915720 #22613]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:23:27.915816 #22613]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:23:27.915887 #22613]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:23:27.916768 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.918267 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.919909 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6040748046"], ["active", 1]]
D, [2020-04-01T08:23:27.921283 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.922626 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.924153 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200193723"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.925736 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "200193723"], ["date_of_birth", "2001-04-01"], ["phone", "7190041126"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.927144 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.928562 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.929905 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.931115 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.932323 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.933913 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.935240 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.936348 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.937468 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:27.938729 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.940194 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100874766"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.941664 #22613] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "100874766"], ["date_of_birth", "2001-04-01"], ["phone", "7433700175"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.943023 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.944510 #22613]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.945583 #22613]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:23:27.945903 #22613]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:23:27.947084 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.948449 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.950485 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.952187 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.953520 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.954824 #22613] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.956671 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.958143 #22613] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:23:27.959265 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.960319 #22613]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:23:27.961354 #22613]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:23:27.967534 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:27.968581 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.969440 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.969773 #22613]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:23:27.969868 #22613]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:23:27.969937 #22613]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:23:27.970907 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.972367 #22613] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.974015 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0961578470"], ["active", 1]]
D, [2020-04-01T08:23:27.975449 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.976821 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.978315 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001259567"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.979877 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001259567"], ["date_of_birth", "2001-04-01"], ["phone", "6011864823"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.981211 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.982503 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.983833 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.985038 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.986192 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.987795 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.989048 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.990079 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.991361 #22613]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
F, [2020-04-01T08:23:28.006063 #22613] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:23:28.010322 #22613]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:23:28 +0000
F, [2020-04-01T08:23:28.025298 #22613] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:23:28.029423 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:28.030236 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:28.030594 #22613]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:23:28.030681 #22613]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:23:28.030751 #22613]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:23:28.031811 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.033527 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.035220 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3692637405"], ["active", 1]]
D, [2020-04-01T08:23:28.036658 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.038119 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.039810 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178557349"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.041428 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178557349"], ["date_of_birth", "2001-04-01"], ["phone", "6100827980"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:28.042933 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.044445 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.045925 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.047271 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.048649 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.050413 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.051762 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:28.052853 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.053871 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:23:28.055169 #22613]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:23:28 +0000
I, [2020-04-01T08:23:28.056390 #22613]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:23:28.056703 #22613]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:23:28.057984 #22613] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.059159 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.060334 #22613] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:23:28.061318 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:28.062269 #22613]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:23:28.063137 #22613]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:23:28.067361 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:28.068379 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:28.069216 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:28.069523 #22613]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:23:28.069602 #22613]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:23:28.069666 #22613]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:23:28.070647 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.072140 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.073739 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5191283712"], ["active", 1]]
D, [2020-04-01T08:23:28.075075 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.076504 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.078060 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194421766"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.079653 #22613] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "194421766"], ["date_of_birth", "2001-04-01"], ["phone", "4221875606"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:28.081100 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.082603 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.084061 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.085405 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.086673 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.088465 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.089846 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:28.090929 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.092009 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:13.718108 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:31:13.808854 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:13.809325 #23147]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:31:13.809371 #23147]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:31:13.809396 #23147]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:31:13.908656 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.910661 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.912338 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0766841778"], ["active", 1]]
D, [2020-04-01T08:31:13.913513 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.928572 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.931570 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218069840"], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.933075 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218069840"], ["date_of_birth", "2001-04-01"], ["phone", "3433642466"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:13.934277 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.965252 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.967188 #23147] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:13.969291 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:13.970862 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.979719 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.980896 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:13.981733 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.982556 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:31:13.985367 #23147]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:31:13 +0000
I, [2020-04-01T08:31:14.000493 #23147]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:31:14.000797 #23147]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:31:14.006767 #23147] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.008165 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.009349 #23147] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:31:14.010495 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.011570 #23147]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:31:14.012576 #23147]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:31:14.020022 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.022537 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.025884 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.026243 #23147]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:31:14.026325 #23147]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:31:14.026388 #23147]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:31:14.027403 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.029046 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.030693 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1200524246"], ["active", 1]]
D, [2020-04-01T08:31:14.032114 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.033451 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.035052 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152633470"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.036703 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152633470"], ["date_of_birth", "2001-04-01"], ["phone", "1478083741"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.038108 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.039489 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.040887 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.042146 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.043370 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.045077 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.046353 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.047452 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.048801 #23147]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.050158 #23147]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:31:14.054581 #23147]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:31:14.056101 #23147]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:31:14.057511 #23147]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:31:14.060337 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.063192 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.063525 #23147]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:31:14.063639 #23147]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:31:14.063704 #23147]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:31:14.064595 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.066129 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.067726 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1519572436"], ["active", 1]]
D, [2020-04-01T08:31:14.069128 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.070465 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.071978 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179921755"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.073429 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179921755"], ["date_of_birth", "2001-04-01"], ["phone", "4121313495"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.074847 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.076209 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.077606 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.078844 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.080093 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.081731 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.083053 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.084133 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.085370 #23147]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.086417 #23147]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:31:14.088389 #23147]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:31:14.089108 #23147]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:31:14.090162 #23147]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:31:14.092745 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.094979 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.095334 #23147]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:31:14.095416 #23147]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:31:14.095481 #23147]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:31:14.096294 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.097629 #23147] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.099117 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8590828619"], ["active", 1]]
D, [2020-04-01T08:31:14.100433 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.101691 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.103160 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239974274"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.104732 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "239974274"], ["date_of_birth", "2001-04-01"], ["phone", "0570462108"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.106115 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.107421 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.108731 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.110005 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.111197 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.112819 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.114137 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.115266 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.116696 #23147]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.117746 #23147]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:31:14.118056 #23147]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:31:14.119265 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.121199 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.404148 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.406152 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.407997 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.409192 #23147]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:31:14.409616 #23147]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:31:14.410941 #23147]  INFO -- : Completed 200 OK in 292ms (Views: 1.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:31:14.415464 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.418525 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.418878 #23147]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:31:14.418964 #23147]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:31:14.419076 #23147]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:31:14.420085 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.421702 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.423369 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9684887970"], ["active", 1]]
D, [2020-04-01T08:31:14.424765 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.426065 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.427665 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134301616"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.429234 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134301616"], ["date_of_birth", "2001-04-01"], ["phone", "2050147446"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.430618 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.432073 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.433456 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.434741 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.436021 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.437695 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.439032 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.440119 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.441277 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.442565 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.444062 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005614275"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.445568 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "005614275"], ["date_of_birth", "2001-04-01"], ["phone", "1585213311"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.446938 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.448503 #23147]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.449617 #23147]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:31:14.449984 #23147]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:31:14.451351 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.452896 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.455069 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.456846 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.458251 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.459619 #23147] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.461447 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.462984 #23147] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:31:14.464172 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.465174 #23147]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:31:14.466211 #23147]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:31:14.472509 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.473552 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.476068 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.476387 #23147]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:31:14.476506 #23147]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:31:14.476578 #23147]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:31:14.477511 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.479010 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.483914 #23147] DEBUG -- :   [1m[36mStore Create (3.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0304206639"], ["active", 1]]
D, [2020-04-01T08:31:14.485367 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.486801 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.488538 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225240090"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.490115 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225240090"], ["date_of_birth", "2001-04-01"], ["phone", "5051502301"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.491549 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.492974 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.494413 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.495714 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.496978 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.498639 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.500025 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.501152 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.502491 #23147]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
F, [2020-04-01T08:31:14.529953 #23147] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:31:14.534668 #23147]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
F, [2020-04-01T08:31:14.552743 #23147] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:31:14.556760 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.557647 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.558031 #23147]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:31:14.558143 #23147]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:31:14.558230 #23147]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:31:14.559331 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.561033 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.562737 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7433520242"], ["active", 1]]
D, [2020-04-01T08:31:14.564163 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.565619 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.567323 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104222299"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.568855 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104222299"], ["date_of_birth", "2001-04-01"], ["phone", "2295764464"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.570266 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.571775 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.573246 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.574551 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.575921 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.577648 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.578983 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.580144 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.581232 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:12.820266 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:34:12.906500 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:12.907011 #23374]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:34:12.907059 #23374]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:34:12.907086 #23374]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:34:13.004518 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.006621 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.008406 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4674757196"], ["active", 1]]
D, [2020-04-01T08:34:13.009621 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.025066 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.028305 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014521702"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.029909 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014521702"], ["date_of_birth", "2001-04-01"], ["phone", "1559248001"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.031162 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.049957 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.064037 #23374] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.066363 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.067971 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.076394 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.077570 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.078464 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.079362 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:34:13.082161 #23374]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.096958 #23374]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:34:13.097343 #23374]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:34:13.102956 #23374] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.104342 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.105525 #23374] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:34:13.106554 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.107639 #23374]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:34:13.108585 #23374]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:34:13.116088 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.118688 #23374] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.119635 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.120019 #23374]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:34:13.120104 #23374]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:34:13.120172 #23374]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:34:13.121235 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.122952 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.124776 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4172963540"], ["active", 1]]
D, [2020-04-01T08:34:13.126222 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.127773 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.129428 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342678117"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.131043 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342678117"], ["date_of_birth", "2001-04-01"], ["phone", "1162821326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.132501 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.133959 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.135473 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.136844 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.138152 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.139989 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.141398 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.142476 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.143947 #23374]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.145128 #23374]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:34:13.149818 #23374]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:34:13.151365 #23374]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:34:13.152883 #23374]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:34:13.156082 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.157002 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.157351 #23374]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:34:13.157434 #23374]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:34:13.157500 #23374]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:34:13.158491 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.160218 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.161942 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3418114000"], ["active", 1]]
D, [2020-04-01T08:34:13.163375 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.164810 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.166483 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165560013"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.168136 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "165560013"], ["date_of_birth", "2001-04-01"], ["phone", "2026905933"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.169575 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.171012 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.172631 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.173964 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.175203 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.176956 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.178370 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.179525 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.180639 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.182074 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.183625 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014531079"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.185116 #23374] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "014531079"], ["date_of_birth", "2001-04-01"], ["phone", "5888386815"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.186501 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.188113 #23374]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.189373 #23374]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:34:13.189785 #23374]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:34:13.191070 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.193154 #23374] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.195206 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.196967 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.198384 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.199739 #23374] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.201601 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.203110 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:34:13.204332 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.205359 #23374]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:34:13.206439 #23374]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
D, [2020-04-01T08:34:13.213383 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.214507 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.215353 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.215710 #23374]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:34:13.215795 #23374]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:34:13.215862 #23374]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:34:13.216866 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.218483 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.220216 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6487598985"], ["active", 1]]
D, [2020-04-01T08:34:13.221705 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.223205 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.224949 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "008475499"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.226561 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "008475499"], ["date_of_birth", "2001-04-01"], ["phone", "1175590630"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.228130 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.229740 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.231385 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.232836 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.234234 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.236168 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.237716 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.238950 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.240190 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.272026 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.272515 #23374]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:34:13.272624 #23374]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:34:13.272716 #23374]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:34:13.273854 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.275690 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.277502 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9424909774"], ["active", 1]]
D, [2020-04-01T08:34:13.279054 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.280702 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.282493 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133168164"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.284289 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "133168164"], ["date_of_birth", "2001-04-01"], ["phone", "8455737330"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.285962 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.287714 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.289382 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.290901 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.292400 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.302360 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.303946 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.305069 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.306676 #23374]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.307840 #23374]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:34:13.308195 #23374]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:34:13.309548 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.311148 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.585396 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.586987 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.588583 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.590453 #23374]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:34:13.591273 #23374]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:34:13.592591 #23374]  INFO -- : Completed 200 OK in 284ms (Views: 2.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:34:13.597063 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.597942 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.598327 #23374]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:34:13.598420 #23374]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:34:13.598494 #23374]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:34:13.599496 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.601142 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.602874 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0025571771"], ["active", 1]]
D, [2020-04-01T08:34:13.604351 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.605774 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.607353 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "171578393"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.609020 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "171578393"], ["date_of_birth", "2001-04-01"], ["phone", "5941634680"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.610534 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.612039 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.613493 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.614848 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.616148 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.617829 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.619240 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.620388 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.621754 #23374]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.623078 #23374]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:34:13.624364 #23374]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:34:13.624825 #23374]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:34:13.625978 #23374]  INFO -- : Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:34:13.628816 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.629631 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.629980 #23374]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:34:13.630066 #23374]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:34:13.630133 #23374]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:34:13.631035 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.632691 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.634337 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2341482495"], ["active", 1]]
D, [2020-04-01T08:34:13.635828 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.637225 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.638891 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108945826"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.640488 #23374] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "108945826"], ["date_of_birth", "2001-04-01"], ["phone", "1384700124"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.641978 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.643443 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.645026 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.646359 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.647689 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.649458 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.650825 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.651988 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.653411 #23374]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
F, [2020-04-01T08:34:13.672676 #23374] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:34:13.676902 #23374]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
F, [2020-04-01T08:34:13.696614 #23374] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:34:13.700297 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
