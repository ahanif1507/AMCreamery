# Logfile created on 2020-04-01 00:15:35 +0000 by logger.rb/v1.4.2
D, [2020-04-01T00:15:35.299757 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T00:15:35.385380 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.385863 #28879]  INFO -- : --------------------------------------------------
I, [2020-04-01T00:15:35.385909 #28879]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T00:15:35.385932 #28879]  INFO -- : --------------------------------------------------
D, [2020-04-01T00:15:35.489231 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.493726 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069530803"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.495921 #28879] DEBUG -- :   [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069530803"], ["date_of_birth", "2001-03-31"], ["phone", "6583086006"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.497426 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.514495 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.516511 #28879] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.518145 #28879] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9488098534"], ["active", 1]]
D, [2020-04-01T00:15:35.519594 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.541381 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.543655 #28879] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:15:35.560497 #28879] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:15:35.562272 #28879] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.572053 #28879] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.573325 #28879] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:15:35.574141 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.577037 #28879]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.586428 #28879]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T00:15:35.586742 #28879]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T00:15:35.591890 #28879] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T00:15:35.595438 #28879]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.1ms)
F, [2020-04-01T00:15:35.610514 #28879] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T00:15:35.618573 #28879] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:15:35.620067 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.620469 #28879]  INFO -- : ----------------------------------------------
I, [2020-04-01T00:15:35.620599 #28879]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T00:15:35.620682 #28879]  INFO -- : ----------------------------------------------
D, [2020-04-01T00:15:35.622065 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.624187 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021710140"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.626131 #28879] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "021710140"], ["date_of_birth", "2001-03-31"], ["phone", "1871673269"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.627781 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.629269 #28879]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.630516 #28879]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T00:15:35.655190 #28879]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-04-01T00:15:35.669582 #28879] FATAL -- : 
ActionController::UnknownFormat - EmployeesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/employees_controller_test.rb:9:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T00:15:35.674207 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:15:35.675369 #28879] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:15:35.675709 #28879]  INFO -- : --------------------------------------------
I, [2020-04-01T00:15:35.675794 #28879]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T00:15:35.675861 #28879]  INFO -- : --------------------------------------------
D, [2020-04-01T00:15:35.677106 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:15:35.678914 #28879] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "099472319"], ["LIMIT", 1]]
D, [2020-04-01T00:15:35.680668 #28879] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "099472319"], ["date_of_birth", "2001-03-31"], ["phone", "9550393849"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:15:35.682075 #28879] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:15:35.683510 #28879]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 00:15:35 +0000
I, [2020-04-01T00:15:35.684707 #28879]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T00:15:35.689173 #28879]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T00:15:35.690733 #28879]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T00:15:35.692246 #28879]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T00:15:35.695475 #28879] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:15.620481 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T00:19:15.707242 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:15.707896 #29203]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T00:19:15.707945 #29203]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T00:19:15.707970 #29203]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T00:19:15.806516 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.808609 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.810337 #29203] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9486178946"], ["active", 1]]
D, [2020-04-01T00:19:15.811627 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.826859 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.830168 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "107029821"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.831891 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "107029821"], ["date_of_birth", "2001-03-31"], ["phone", "0113525154"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:15.833200 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.852168 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.866534 #29203] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.869433 #29203] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.871145 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.881677 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.883107 #29203] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:15.884180 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.885177 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T00:19:15.888623 #29203]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 00:19:15 +0000
I, [2020-04-01T00:19:15.904173 #29203]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T00:19:15.904556 #29203]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T00:19:15.910775 #29203] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.912367 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.913711 #29203] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T00:19:15.914923 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:15.916261 #29203]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T00:19:15.917426 #29203]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
D, [2020-04-01T00:19:15.926471 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:15.929591 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:15.930713 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:15.931049 #29203]  INFO -- : ------------------------------------------------
I, [2020-04-01T00:19:15.931139 #29203]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T00:19:15.931242 #29203]  INFO -- : ------------------------------------------------
D, [2020-04-01T00:19:15.932417 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.934313 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.936182 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6663537826"], ["active", 1]]
D, [2020-04-01T00:19:15.937753 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.939401 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.941268 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059863235"], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.943060 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059863235"], ["date_of_birth", "2001-03-31"], ["phone", "3530432520"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:15.944734 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.946402 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:15.948288 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.949738 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:15.951177 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.953145 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:15.954695 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:15.955976 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:15.957557 #29203]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 00:19:15 +0000
I, [2020-04-01T00:19:15.958781 #29203]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T00:19:15.982902 #29203]  INFO -- : Completed 500  in 24ms (ActiveRecord: 0.0ms)
F, [2020-04-01T00:19:15.995931 #29203] FATAL -- : 
ActionController::UnknownFormat - AssignmentsController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.:
  test/controllers/assignments_controller_test.rb:11:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T00:19:16.001395 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.002614 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.003024 #29203]  INFO -- : ----------------------------------------------
I, [2020-04-01T00:19:16.003117 #29203]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T00:19:16.003192 #29203]  INFO -- : ----------------------------------------------
D, [2020-04-01T00:19:16.004324 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.006164 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.007990 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2974387138"], ["active", 1]]
D, [2020-04-01T00:19:16.009657 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.011249 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.013277 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "106549904"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.015471 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "106549904"], ["date_of_birth", "2001-03-31"], ["phone", "5644628747"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.017043 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.018820 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.020551 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.021994 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.023454 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.025426 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.026940 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.028431 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.029997 #29203]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.031327 #29203]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T00:19:16.036566 #29203]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T00:19:16.038559 #29203]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.4ms)
I, [2020-04-01T00:19:16.040314 #29203]  INFO -- : Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T00:19:16.043779 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.044681 #29203] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.045065 #29203]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T00:19:16.045155 #29203]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T00:19:16.045226 #29203]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T00:19:16.046374 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.048267 #29203] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.050122 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3632531822"], ["active", 1]]
D, [2020-04-01T00:19:16.051779 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.053484 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.055404 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "357914537"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.057135 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "357914537"], ["date_of_birth", "2001-03-31"], ["phone", "9509118819"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.058786 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.060421 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.062106 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.063710 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.065279 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.067491 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.069240 #29203] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.070659 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.072607 #29203]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.073972 #29203]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T00:19:16.074383 #29203]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-04-01T00:19:16.076075 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.078517 #29203] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.359482 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.361255 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.363035 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.364356 #29203]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T00:19:16.364921 #29203]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T00:19:16.366291 #29203]  INFO -- : Completed 200 OK in 291ms (Views: 1.6ms | ActiveRecord: 0.6ms)
D, [2020-04-01T00:19:16.370788 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.371735 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.372148 #29203]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T00:19:16.372236 #29203]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T00:19:16.372305 #29203]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T00:19:16.373314 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.374995 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.376771 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3568533625"], ["active", 1]]
D, [2020-04-01T00:19:16.378344 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.379822 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.381577 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268447922"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.383203 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "268447922"], ["date_of_birth", "2001-03-31"], ["phone", "0526440811"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.384745 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.386280 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.387945 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.389308 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.390689 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.392502 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.393974 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.395126 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.396549 #29203]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
F, [2020-04-01T00:19:16.413820 #29203] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T00:19:16.418426 #29203]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
F, [2020-04-01T00:19:16.435811 #29203] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T00:19:16.439919 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.440806 #29203] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.441150 #29203]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T00:19:16.441236 #29203]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T00:19:16.441304 #29203]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T00:19:16.442333 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.444117 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.445883 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6346521172"], ["active", 1]]
D, [2020-04-01T00:19:16.447346 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.448865 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.450523 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060439022"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.452238 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060439022"], ["date_of_birth", "2001-03-31"], ["phone", "8512103141"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.453676 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.455216 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.456763 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.458107 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.459408 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.461157 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.462525 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.463679 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.464732 #29203] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T00:19:16.497444 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T00:19:16.497870 #29203]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T00:19:16.497954 #29203]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T00:19:16.498019 #29203]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T00:19:16.499061 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.500828 #29203] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.502581 #29203] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3403240614"], ["active", 1]]
D, [2020-04-01T00:19:16.504050 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.505464 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.507188 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "284915029"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.508968 #29203] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "284915029"], ["date_of_birth", "2001-03-31"], ["phone", "8388608779"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.510388 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.512010 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.513507 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.514842 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.516248 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.517976 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.519409 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-31"]]
D, [2020-04-01T00:19:16.520515 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.521604 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:16.523021 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.524660 #29203] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053589062"], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.526159 #29203] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "053589062"], ["date_of_birth", "2001-03-31"], ["phone", "8439678326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T00:19:16.527644 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.529156 #29203]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 00:19:16 +0000
I, [2020-04-01T00:19:16.530236 #29203]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T00:19:16.530632 #29203]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-30", "end_date"=>nil}}
D, [2020-04-01T00:19:16.531918 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T00:19:16.533406 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.535756 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.537584 #29203] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.539113 #29203] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T00:19:16.540522 #29203] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.542564 #29203] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T00:19:16.544163 #29203] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-30"]]
D, [2020-04-01T00:19:16.545398 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T00:19:16.546401 #29203]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T00:19:16.547523 #29203]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
D, [2020-04-01T00:19:16.554232 #29203] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T00:19:16.555568 #29203] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.352536 #20033] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:52:41.452834 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.453313 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.453362 #20033]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:52:41.453392 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.573405 #20033]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.584895 #20033]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T07:52:41.594805 #20033]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T07:52:41.596743 #20033]  INFO -- :   Rendered home/about.html.erb within layouts/application (1.4ms)
I, [2020-04-01T07:52:41.598558 #20033]  INFO -- : Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.606978 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.608135 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.608547 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.608656 #20033]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:52:41.608733 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.609881 #20033]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.611156 #20033]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T07:52:41.613090 #20033]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T07:52:41.613965 #20033]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:52:41.615357 #20033]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.618137 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.619030 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.619548 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.619643 #20033]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:52:41.619728 #20033]  INFO -- : -----------------------------------------
I, [2020-04-01T07:52:41.620744 #20033]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.621745 #20033]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T07:52:41.623647 #20033]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T07:52:41.624446 #20033]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:52:41.625710 #20033]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.628357 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:52:41.629189 #20033] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:52:41.629623 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.629708 #20033]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:52:41.629795 #20033]  INFO -- : -------------------------------------------
I, [2020-04-01T07:52:41.630736 #20033]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 07:52:41 +0000
I, [2020-04-01T07:52:41.631845 #20033]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T07:52:41.633663 #20033]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T07:52:41.634463 #20033]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:52:41.635821 #20033]  INFO -- : Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:52:41.638445 #20033] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.421204 #20115] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:53:24.513454 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.513913 #20115]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:24.513961 #20115]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:53:24.513987 #20115]  INFO -- : -----------------------------------------
D, [2020-04-01T07:53:24.597577 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.653295 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.653693 #20115]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:24.653738 #20115]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:53:24.653764 #20115]  INFO -- : -------------------------------------------
D, [2020-04-01T07:53:24.654218 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.697284 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.697733 #20115]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:24.697780 #20115]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:53:24.697806 #20115]  INFO -- : -----------------------------------------
D, [2020-04-01T07:53:24.698223 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:24.741602 #20115] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:24.741991 #20115]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:24.742036 #20115]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:53:24.742061 #20115]  INFO -- : -------------------------------------------
D, [2020-04-01T07:53:24.742559 #20115] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:48.946509 #20177] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:53:49.029800 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.030249 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.030295 #20177]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T07:53:49.030319 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.112922 #20177]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.122537 #20177]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T07:53:49.130823 #20177]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T07:53:49.132431 #20177]  INFO -- :   Rendered home/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T07:53:49.133970 #20177]  INFO -- : Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.140565 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.141553 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.141866 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.141975 #20177]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T07:53:49.142088 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.143153 #20177]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.144532 #20177]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T07:53:49.146409 #20177]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T07:53:49.147197 #20177]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:53:49.148431 #20177]  INFO -- : Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.150998 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.151761 #20177] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.152139 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.152222 #20177]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T07:53:49.152288 #20177]  INFO -- : -------------------------------------------
I, [2020-04-01T07:53:49.153227 #20177]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.154342 #20177]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T07:53:49.156334 #20177]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T07:53:49.157136 #20177]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:53:49.158244 #20177]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.160967 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:53:49.161786 #20177] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:53:49.162121 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.162203 #20177]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T07:53:49.162282 #20177]  INFO -- : -----------------------------------------
I, [2020-04-01T07:53:49.163272 #20177]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 07:53:49 +0000
I, [2020-04-01T07:53:49.164411 #20177]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T07:53:49.166156 #20177]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T07:53:49.166873 #20177]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.3ms)
I, [2020-04-01T07:53:49.168007 #20177]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:53:49.170404 #20177] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.227256 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:55:36.310268 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.310735 #20378]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:55:36.310783 #20378]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T07:55:36.310809 #20378]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:55:36.420694 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.424382 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234879253"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.426068 #20378] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234879253"], ["date_of_birth", "2001-04-01"], ["phone", "7688653971"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.427452 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.428411 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T07:55:36.437928 #20378]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.448295 #20378]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T07:55:36.448643 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T07:55:36.454079 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.456088 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.457828 #20378] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.459320 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.460640 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T07:55:36.462769 #20378]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T07:55:36.464009 #20378]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:55:36.472079 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T07:55:36.473095 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:55:36.475033 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.475949 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.476285 #20378]  INFO -- : --------------------------------------------------
I, [2020-04-01T07:55:36.476376 #20378]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T07:55:36.476461 #20378]  INFO -- : --------------------------------------------------
D, [2020-04-01T07:55:36.477629 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.479271 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198060612"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.480955 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198060612"], ["date_of_birth", "2001-04-01"], ["phone", "2251773166"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.482440 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.495877 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.497665 #20378] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.499221 #20378] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5653102665"], ["active", 1]]
D, [2020-04-01T07:55:36.500698 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.519728 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.521916 #20378] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T07:55:36.523704 #20378] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T07:55:36.537133 #20378] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.547682 #20378] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.549253 #20378] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T07:55:36.550366 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.551929 #20378]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.553175 #20378]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T07:55:36.553495 #20378]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:55:36.554522 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:55:36.557895 #20378]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-04-01T07:55:36.573975 #20378] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T07:55:36.579561 #20378] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.580767 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.581193 #20378]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T07:55:36.581311 #20378]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T07:55:36.581455 #20378]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T07:55:36.583044 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.585093 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374595858"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.586815 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374595858"], ["date_of_birth", "2001-04-01"], ["phone", "0541407165"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.588731 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.590490 #20378]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.591844 #20378]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T07:55:36.592200 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T07:55:36.593642 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.805800 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.807480 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.811905 #20378]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T07:55:36.813433 #20378]  INFO -- :   Rendered employees/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T07:55:36.815110 #20378]  INFO -- : Completed 200 OK in 223ms (Views: 6.0ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:55:36.818866 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.819707 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.820052 #20378]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T07:55:36.820164 #20378]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T07:55:36.820244 #20378]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T07:55:36.821400 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.823042 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117330699"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.824953 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117330699"], ["date_of_birth", "2001-04-01"], ["phone", "5784822908"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.826433 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.827777 #20378]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
F, [2020-04-01T07:55:36.846181 #20378] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T07:55:36.849993 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.850771 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.851130 #20378]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:55:36.851227 #20378]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T07:55:36.851327 #20378]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:55:36.852781 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.854976 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204890229"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.856768 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204890229"], ["date_of_birth", "2001-04-01"], ["phone", "1048029741"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.858228 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.859746 #20378]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.861108 #20378]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T07:55:36.861486 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:55:36.862456 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.863895 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.865919 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.867946 #20378] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T07:55:36.869394 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.870326 #20378]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T07:55:36.871469 #20378]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:55:36.876615 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.877356 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.877738 #20378]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T07:55:36.877827 #20378]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T07:55:36.877908 #20378]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T07:55:36.878973 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.880649 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "387159590"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.882332 #20378] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "387159590"], ["date_of_birth", "2001-04-01"], ["phone", "3744962093"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.883768 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.885153 #20378]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.886362 #20378]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T07:55:36.886760 #20378]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:55:36.887768 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.889347 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.892075 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.894276 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.896068 #20378]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T07:55:36.896814 #20378]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:55:36.898353 #20378]  INFO -- : Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:55:36.902503 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.903296 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.903622 #20378]  INFO -- : ---------------------------------------------
I, [2020-04-01T07:55:36.903706 #20378]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T07:55:36.903771 #20378]  INFO -- : ---------------------------------------------
D, [2020-04-01T07:55:36.904852 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.906392 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "233517599"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.908057 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "233517599"], ["date_of_birth", "2001-04-01"], ["phone", "6158436188"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.910063 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.911666 #20378]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.912832 #20378]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T07:55:36.913150 #20378]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:55:36.914062 #20378] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:55:36.915551 #20378]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T07:55:36.916000 #20378]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:55:36.917058 #20378]  INFO -- : Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.1ms)
D, [2020-04-01T07:55:36.919984 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.920779 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.921091 #20378]  INFO -- : ----------------------------------------------
I, [2020-04-01T07:55:36.921196 #20378]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T07:55:36.921266 #20378]  INFO -- : ----------------------------------------------
D, [2020-04-01T07:55:36.922312 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.923919 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053585501"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.925611 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "053585501"], ["date_of_birth", "2001-04-01"], ["phone", "2612031748"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.927347 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.928534 #20378]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.929474 #20378]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T07:55:36.931591 #20378]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T07:55:36.932338 #20378]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:55:36.933398 #20378]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:55:36.935920 #20378] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:55:36.936618 #20378] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:55:36.936979 #20378]  INFO -- : --------------------------------------------
I, [2020-04-01T07:55:36.937064 #20378]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T07:55:36.937133 #20378]  INFO -- : --------------------------------------------
D, [2020-04-01T07:55:36.938142 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:55:36.939704 #20378] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "052427933"], ["LIMIT", 1]]
D, [2020-04-01T07:55:36.941282 #20378] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "052427933"], ["date_of_birth", "2001-04-01"], ["phone", "5305791373"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T07:55:36.942657 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:55:36.943782 #20378]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 07:55:36 +0000
I, [2020-04-01T07:55:36.944795 #20378]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T07:55:36.945857 #20378]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T07:55:36.946325 #20378]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:55:36.947362 #20378]  INFO -- : Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:55:36.949938 #20378] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:25.875676 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T07:59:25.972062 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:25.972574 #20769]  INFO -- : -------------------------------------------
I, [2020-04-01T07:59:25.972625 #20769]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T07:59:25.972651 #20769]  INFO -- : -------------------------------------------
D, [2020-04-01T07:59:26.108289 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.110588 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.112567 #20769] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1038160308"], ["active", 1]]
D, [2020-04-01T07:59:26.113957 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.117547 #20769]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.130153 #20769]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T07:59:26.139963 #20769]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T07:59:26.141729 #20769]  INFO -- :   Rendered stores/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T07:59:26.143666 #20769]  INFO -- : Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:59:26.150972 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.152138 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.152599 #20769]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T07:59:26.152687 #20769]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T07:59:26.152754 #20769]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T07:59:26.153889 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.155911 #20769] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.157875 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4076553710"], ["active", 1]]
D, [2020-04-01T07:59:26.159812 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.161091 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T07:59:26.168751 #20769]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.170208 #20769]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T07:59:26.170612 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T07:59:26.172323 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.174308 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.176318 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T07:59:26.178095 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.179394 #20769]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T07:59:26.180756 #20769]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:59:26.186658 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T07:59:26.188054 #20769] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:59:26.190605 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.191662 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.192027 #20769]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T07:59:26.192165 #20769]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T07:59:26.192245 #20769]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T07:59:26.193280 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.194969 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.196821 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4810149648"], ["active", 1]]
D, [2020-04-01T07:59:26.198455 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.199899 #20769]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
F, [2020-04-01T07:59:26.220705 #20769] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T07:59:26.226126 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.227214 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.227677 #20769]  INFO -- : --------------------------------------------
I, [2020-04-01T07:59:26.227791 #20769]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T07:59:26.227893 #20769]  INFO -- : --------------------------------------------
D, [2020-04-01T07:59:26.240372 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.242108 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.244018 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1576529301"], ["active", 1]]
D, [2020-04-01T07:59:26.245635 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.247074 #20769]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.248319 #20769]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T07:59:26.248657 #20769]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:59:26.269725 #20769] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.275452 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
I, [2020-04-01T07:59:26.276534 #20769]  INFO -- : Completed 500  in 28ms (ActiveRecord: 0.4ms)
D, [2020-04-01T07:59:26.278047 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.280062 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T07:59:26.284638 #20769] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
F, [2020-04-01T07:59:26.296167 #20769] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::Relation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T07:59:26.300938 #20769] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.302260 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.302596 #20769]  INFO -- : ------------------------------------------
I, [2020-04-01T07:59:26.302699 #20769]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T07:59:26.302857 #20769]  INFO -- : ------------------------------------------
D, [2020-04-01T07:59:26.303978 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.305692 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.307503 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0913443326"], ["active", 1]]
D, [2020-04-01T07:59:26.309085 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.310457 #20769]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.311792 #20769]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T07:59:26.312197 #20769]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T07:59:26.314946 #20769] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T07:59:26.317473 #20769]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T07:59:26.318243 #20769]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T07:59:26.319707 #20769]  INFO -- : Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.2ms)
D, [2020-04-01T07:59:26.323069 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.323999 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.324340 #20769]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:59:26.324425 #20769]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T07:59:26.324521 #20769]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:59:26.325455 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.326953 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.328690 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0465028986"], ["active", 1]]
D, [2020-04-01T07:59:26.330173 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.331630 #20769]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.332741 #20769]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T07:59:26.333159 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T07:59:26.334517 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.525954 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T07:59:26.527604 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.529449 #20769]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T07:59:26.530314 #20769]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.5ms)
I, [2020-04-01T07:59:26.531847 #20769]  INFO -- : Completed 200 OK in 198ms (Views: 2.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:59:26.535582 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.536443 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.536866 #20769]  INFO -- : -----------------------------------------
I, [2020-04-01T07:59:26.536959 #20769]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T07:59:26.537029 #20769]  INFO -- : -----------------------------------------
D, [2020-04-01T07:59:26.537984 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.539603 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.541279 #20769] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3204144714"], ["active", 1]]
D, [2020-04-01T07:59:26.542730 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.544093 #20769]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.545351 #20769]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T07:59:26.546574 #20769]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T07:59:26.546999 #20769]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:59:26.548151 #20769]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T07:59:26.550748 #20769] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.551577 #20769] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.551936 #20769]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T07:59:26.552015 #20769]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T07:59:26.552085 #20769]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T07:59:26.552925 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.554460 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.556613 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8918840315"], ["active", 1]]
D, [2020-04-01T07:59:26.558291 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.559945 #20769]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.561581 #20769]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T07:59:26.561934 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:59:26.562997 #20769] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.564466 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.566906 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.568749 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.569766 #20769]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T07:59:26.570203 #20769]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T07:59:26.571558 #20769]  INFO -- : Completed 200 OK in 9ms (Views: 1.3ms | ActiveRecord: 0.3ms)
D, [2020-04-01T07:59:26.575399 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T07:59:26.576252 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T07:59:26.576571 #20769]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T07:59:26.576663 #20769]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T07:59:26.576730 #20769]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T07:59:26.577606 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.579084 #20769] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.580750 #20769] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9810391545"], ["active", 1]]
D, [2020-04-01T07:59:26.582157 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.583477 #20769]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 07:59:26 +0000
I, [2020-04-01T07:59:26.584667 #20769]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T07:59:26.585000 #20769]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T07:59:26.585884 #20769] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.587324 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T07:59:26.589121 #20769] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T07:59:26.591075 #20769] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T07:59:26.592564 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T07:59:26.593736 #20769]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T07:59:26.594854 #20769]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T07:59:26.599822 #20769] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.382260 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:00:08.469483 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.470029 #20854]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:00:08.470088 #20854]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:00:08.470135 #20854]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:00:08.582139 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.584676 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.586601 #20854] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8458682210"], ["active", 1]]
D, [2020-04-01T08:00:08.588119 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.605751 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.609304 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "041220430"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.611165 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "041220430"], ["date_of_birth", "2001-04-01"], ["phone", "0567877990"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.612662 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.648592 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.650786 #20854] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.653294 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.655122 #20854] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.666162 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.667837 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.668956 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.677750 #20854]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.690808 #20854]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:00:08.691156 #20854]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:00:08.697344 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.699977 #20854] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.867011 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.868702 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.870340 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.876720 #20854]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:00:08.878449 #20854]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-04-01T08:00:08.880350 #20854]  INFO -- : Completed 200 OK in 189ms (Views: 8.3ms | ActiveRecord: 0.6ms)
D, [2020-04-01T08:00:08.888024 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.889887 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.890236 #20854]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:00:08.890339 #20854]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:00:08.890410 #20854]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:00:08.891643 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.893526 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.895396 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5145638968"], ["active", 1]]
D, [2020-04-01T08:00:08.896968 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.898652 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.900537 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "074023913"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.902310 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "074023913"], ["date_of_birth", "2001-04-01"], ["phone", "8047806258"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.903926 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.905531 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.907199 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.908647 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.910084 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.911979 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.913433 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.914713 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.915984 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.917647 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.919430 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269992673"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.921041 #20854] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "269992673"], ["date_of_birth", "2001-04-01"], ["phone", "6209235285"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.922497 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.924227 #20854]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.925408 #20854]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:00:08.925787 #20854]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:00:08.927146 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.928840 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.931105 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.933022 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.934554 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.935999 #20854] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.938040 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.939617 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:00:08.940822 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.941981 #20854]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:00:08.943049 #20854]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-04-01T08:00:08.950150 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.952337 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.953836 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.954198 #20854]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:00:08.954285 #20854]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:00:08.954355 #20854]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:00:08.955453 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.957303 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.959120 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4677807675"], ["active", 1]]
D, [2020-04-01T08:00:08.960578 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.962010 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.963818 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "232363940"], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.965491 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "232363940"], ["date_of_birth", "2001-04-01"], ["phone", "0954638788"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:08.966946 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.968729 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.970237 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.971689 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:08.973031 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.974839 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.976399 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:08.977504 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.978558 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:00:08.979978 #20854]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:00:08 +0000
I, [2020-04-01T08:00:08.981296 #20854]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:00:08.981634 #20854]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:08.983001 #20854] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:08.984301 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.985555 #20854] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:00:08.986628 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:08.987624 #20854]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:00:08.988595 #20854]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:00:08.993257 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:00:08.994289 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:08.995742 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:08.996119 #20854]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:00:08.996202 #20854]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:00:08.996268 #20854]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:00:08.997256 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:08.998863 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.000529 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8214247021"], ["active", 1]]
D, [2020-04-01T08:00:09.001913 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.003376 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.005260 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231203980"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.006975 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231203980"], ["date_of_birth", "2001-04-01"], ["phone", "4905763476"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.008500 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.010056 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.011659 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.013058 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.014417 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.016315 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.017760 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.018909 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.020433 #20854]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
I, [2020-04-01T08:00:09.021587 #20854]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:00:09.023910 #20854]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:00:09.024771 #20854]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.5ms)
I, [2020-04-01T08:00:09.025997 #20854]  INFO -- : Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:09.028906 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.030332 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.030694 #20854]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:00:09.030781 #20854]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:00:09.030860 #20854]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:00:09.031948 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.033693 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.035501 #20854] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2696769072"], ["active", 1]]
D, [2020-04-01T08:00:09.036971 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.038437 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.040167 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385249917"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.041903 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385249917"], ["date_of_birth", "2001-04-01"], ["phone", "2857487455"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.043391 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.044922 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.046400 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.047832 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.049158 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.051005 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.052452 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.053597 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.055053 #20854]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
F, [2020-04-01T08:00:09.081190 #20854] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:00:09.085960 #20854]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
F, [2020-04-01T08:00:09.103978 #20854] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:00:09.107771 #20854] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.108660 #20854] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.108991 #20854]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:00:09.109075 #20854]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:00:09.109148 #20854]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:00:09.110143 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.111973 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.113683 #20854] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2528909099"], ["active", 1]]
D, [2020-04-01T08:00:09.115137 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.116623 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.118281 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097704196"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.119880 #20854] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097704196"], ["date_of_birth", "2001-04-01"], ["phone", "5868893543"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.121220 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.122689 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.124193 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.125465 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.126730 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.130077 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.131560 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.132627 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:09.133979 #20854]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:00:09 +0000
I, [2020-04-01T08:00:09.135218 #20854]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:00:09.136529 #20854]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:00:09.137002 #20854]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:09.138101 #20854]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:09.140938 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:09.141752 #20854] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:09.142060 #20854]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:00:09.142144 #20854]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:00:09.142229 #20854]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:00:09.143247 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.144912 #20854] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.146547 #20854] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6696776776"], ["active", 1]]
D, [2020-04-01T08:00:09.147930 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.149336 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.151014 #20854] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "013224152"], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.152617 #20854] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "013224152"], ["date_of_birth", "2001-04-01"], ["phone", "0296141358"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:09.153980 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.155537 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.168901 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.170658 #20854] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:09.171999 #20854] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.173709 #20854] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:09.175022 #20854] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:09.176089 #20854] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:09.177110 #20854] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:31.573081 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:00:31.661267 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:31.661729 #20915]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T08:00:31.661776 #20915]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T08:00:31.661800 #20915]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T08:00:31.768417 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:31.771775 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "183055456"], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.773533 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "183055456"], ["date_of_birth", "2001-04-01"], ["phone", "7943369294"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:31.774823 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:31.777828 #20915]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:31 +0000
F, [2020-04-01T08:00:31.819404 #20915] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T08:00:31.825560 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:31.826976 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:31.827323 #20915]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T08:00:31.827408 #20915]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T08:00:31.827475 #20915]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T08:00:31.828801 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:31.830685 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059354127"], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.832444 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059354127"], ["date_of_birth", "2001-04-01"], ["phone", "4594691748"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:31.833878 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:31.835582 #20915]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:31 +0000
I, [2020-04-01T08:00:31.841389 #20915]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T08:00:31.841712 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T08:00:31.847434 #20915] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:31.849822 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.025319 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.027507 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.031928 #20915]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T08:00:32.033427 #20915]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:00:32.035212 #20915]  INFO -- : Completed 200 OK in 193ms (Views: 6.0ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:00:32.039574 #20915] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.040852 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.041215 #20915]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T08:00:32.041302 #20915]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T08:00:32.041371 #20915]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T08:00:32.042660 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.044540 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285607121"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.046280 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "285607121"], ["date_of_birth", "2001-04-01"], ["phone", "0839617638"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.047735 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.048827 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T08:00:32.051254 #20915]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.052506 #20915]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T08:00:32.052850 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T08:00:32.054263 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.056033 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.057730 #20915] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.059275 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.060635 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T08:00:32.061827 #20915]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T08:00:32.062958 #20915]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:00:32.068188 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T08:00:32.069172 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T08:00:32.070375 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.071700 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.072027 #20915]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:00:32.072111 #20915]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T08:00:32.072177 #20915]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:00:32.073328 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.074927 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182676701"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.076732 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182676701"], ["date_of_birth", "2001-04-01"], ["phone", "9365749658"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.078107 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.079427 #20915]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.080484 #20915]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T08:00:32.082817 #20915]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T08:00:32.083624 #20915]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:00:32.084716 #20915]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:32.087463 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.088740 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.089085 #20915]  INFO -- : --------------------------------------------------
I, [2020-04-01T08:00:32.089169 #20915]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T08:00:32.089235 #20915]  INFO -- : --------------------------------------------------
D, [2020-04-01T08:00:32.090389 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.092116 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278625317"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.093754 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278625317"], ["date_of_birth", "2001-04-01"], ["phone", "9521374138"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.095088 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.108676 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.110400 #20915] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.111962 #20915] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5278202052"], ["active", 1]]
D, [2020-04-01T08:00:32.113253 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.129946 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.131775 #20915] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:32.133146 #20915] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:00:32.134469 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.142932 #20915] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.144415 #20915] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:00:32.145529 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.146997 #20915]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.148276 #20915]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T08:00:32.148570 #20915]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:32.149539 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T08:00:32.152717 #20915]  INFO -- : Completed 500  in 4ms (ActiveRecord: 0.1ms)
F, [2020-04-01T08:00:32.180450 #20915] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T08:00:32.184937 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.186695 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.187013 #20915]  INFO -- : --------------------------------------------
I, [2020-04-01T08:00:32.187096 #20915]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T08:00:32.187177 #20915]  INFO -- : --------------------------------------------
D, [2020-04-01T08:00:32.188493 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.190344 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198810230"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.192065 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198810230"], ["date_of_birth", "2001-04-01"], ["phone", "5668165249"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.193507 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.194765 #20915]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.196052 #20915]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T08:00:32.197892 #20915]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T08:00:32.198675 #20915]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:00:32.199838 #20915]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:00:32.202437 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.203671 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.203983 #20915]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T08:00:32.204064 #20915]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T08:00:32.204159 #20915]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T08:00:32.205271 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.206998 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215521173"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.208709 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "215521173"], ["date_of_birth", "2001-04-01"], ["phone", "6733607871"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.210124 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.211798 #20915]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.212836 #20915]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T08:00:32.213201 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T08:00:32.214473 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.216829 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.218350 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.219505 #20915]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T08:00:32.219929 #20915]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:32.221236 #20915]  INFO -- : Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T08:00:32.224848 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.226001 #20915] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.226361 #20915]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T08:00:32.226450 #20915]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T08:00:32.226515 #20915]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T08:00:32.227738 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.229414 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104990081"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.231100 #20915] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104990081"], ["date_of_birth", "2001-04-01"], ["phone", "0120568637"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.232675 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.234119 #20915]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.235555 #20915]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T08:00:32.235913 #20915]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T08:00:32.236843 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.238315 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.240420 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.242486 #20915] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T08:00:32.244008 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.245741 #20915]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T08:00:32.246881 #20915]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:00:32.252405 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:00:32.253939 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:00:32.254262 #20915]  INFO -- : ---------------------------------------------
I, [2020-04-01T08:00:32.254343 #20915]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T08:00:32.254405 #20915]  INFO -- : ---------------------------------------------
D, [2020-04-01T08:00:32.255705 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:00:32.257458 #20915] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311590533"], ["LIMIT", 1]]
D, [2020-04-01T08:00:32.259123 #20915] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311590533"], ["date_of_birth", "2001-04-01"], ["phone", "7564078208"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:00:32.260603 #20915] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:00:32.261899 #20915]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 08:00:32 +0000
I, [2020-04-01T08:00:32.263060 #20915]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T08:00:32.263367 #20915]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:00:32.264334 #20915] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T08:00:32.265889 #20915]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T08:00:32.266468 #20915]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:00:32.267625 #20915]  INFO -- : Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T08:00:32.270706 #20915] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.117548 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:07:12.201032 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.201472 #21419]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:07:12.201518 #21419]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:07:12.201541 #21419]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:07:12.299964 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.302256 #21419] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.304047 #21419] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3203243646"], ["active", 1]]
D, [2020-04-01T08:07:12.305412 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.321260 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.324617 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "266543250"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.326234 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "266543250"], ["date_of_birth", "2001-04-01"], ["phone", "2449424350"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.327532 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.346464 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.348503 #21419] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.350807 #21419] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.352612 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.362206 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.363570 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.364575 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.368150 #21419]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.380417 #21419]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:07:12.390129 #21419]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:07:12.391879 #21419]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:07:12.393620 #21419]  INFO -- : Completed 200 OK in 13ms (Views: 6.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:07:12.400506 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.401589 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.402004 #21419]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:07:12.402100 #21419]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:07:12.402176 #21419]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:07:12.403372 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.405363 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.407273 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9494022220"], ["active", 1]]
D, [2020-04-01T08:07:12.408904 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.410554 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.412676 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242332728"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.414640 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242332728"], ["date_of_birth", "2001-04-01"], ["phone", "8652913194"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.416624 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.418548 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.432786 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.434273 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.435633 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.437514 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.438976 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.440126 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.447555 #21419]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.448949 #21419]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:07:12.449285 #21419]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:07:12.450799 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.453041 #21419] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.648293 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.649911 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.651559 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.653443 #21419]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:07:12.654221 #21419]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:07:12.655604 #21419]  INFO -- : Completed 200 OK in 206ms (Views: 2.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:07:12.660181 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.661164 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.661510 #21419]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:07:12.661595 #21419]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:07:12.661664 #21419]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:07:12.662784 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.664535 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.666258 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9203428473"], ["active", 1]]
D, [2020-04-01T08:07:12.667730 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.669209 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.671017 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088086577"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.672671 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088086577"], ["date_of_birth", "2001-04-01"], ["phone", "8914504934"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.674115 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.675712 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.677222 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.678460 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.679794 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.681514 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.683004 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.684144 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.685520 #21419]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.686910 #21419]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:07:12.688220 #21419]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:07:12.688735 #21419]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:07:12.689882 #21419]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:07:12.692780 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.693577 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.693904 #21419]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:07:12.693992 #21419]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:07:12.694058 #21419]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:07:12.695073 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.696726 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.698373 #21419] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9183356114"], ["active", 1]]
D, [2020-04-01T08:07:12.699800 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.701174 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.702776 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158610623"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.704356 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158610623"], ["date_of_birth", "2001-04-01"], ["phone", "2291062348"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.705714 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.707149 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.708673 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.709937 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.711333 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.713075 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.714420 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.715547 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.716926 #21419]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
F, [2020-04-01T08:07:12.733450 #21419] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:07:12.738133 #21419]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
F, [2020-04-01T08:07:12.754237 #21419] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:07:12.758507 #21419] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.759353 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.759687 #21419]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:07:12.759781 #21419]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:07:12.759848 #21419]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:07:12.760852 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.762460 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.764109 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1643682871"], ["active", 1]]
D, [2020-04-01T08:07:12.765483 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.766872 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.768513 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132970332"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.770035 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132970332"], ["date_of_birth", "2001-04-01"], ["phone", "2044539335"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.771373 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.772803 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.774186 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.775447 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.776651 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.778319 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.779634 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.780681 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.781805 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.783202 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.784738 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378306036"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.786198 #21419] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "378306036"], ["date_of_birth", "2001-04-01"], ["phone", "5034716602"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.787561 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.789070 #21419]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.790185 #21419]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:07:12.790489 #21419]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:07:12.791762 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.793203 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.795223 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.796879 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.798242 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.799549 #21419] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.801333 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.802729 #21419] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:07:12.803899 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.804914 #21419]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:07:12.805966 #21419]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:07:12.812171 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.813220 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.814021 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.814329 #21419]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:07:12.814434 #21419]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:07:12.814530 #21419]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:07:12.815504 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.817049 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.818641 #21419] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4042004686"], ["active", 1]]
D, [2020-04-01T08:07:12.820086 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.821505 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.823146 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "148953295"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.824764 #21419] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "148953295"], ["date_of_birth", "2001-04-01"], ["phone", "7526639019"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.826129 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.827598 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.829035 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.830290 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.831555 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.833226 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.834620 #21419] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.835857 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.836942 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:07:12.838291 #21419]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:07:12 +0000
I, [2020-04-01T08:07:12.839601 #21419]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:07:12.839924 #21419]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:07:12.841388 #21419] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.842751 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.844075 #21419] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:07:12.845171 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:07:12.846227 #21419]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:07:12.847216 #21419]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:07:12.851891 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:07:12.852966 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:07:12.853812 #21419] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:07:12.854148 #21419]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:07:12.854247 #21419]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:07:12.854326 #21419]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:07:12.855407 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.857049 #21419] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.858835 #21419] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4828084290"], ["active", 1]]
D, [2020-04-01T08:07:12.860315 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.861856 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.863584 #21419] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "156520766"], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.865292 #21419] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "156520766"], ["date_of_birth", "2001-04-01"], ["phone", "6203941494"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:07:12.866781 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.868447 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.869985 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.871756 #21419] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:07:12.873762 #21419] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.876506 #21419] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:07:12.878609 #21419] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:07:12.880416 #21419] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:07:12.881654 #21419] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.464640 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:11:06.552920 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.553376 #21753]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:11:06.553440 #21753]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:11:06.553467 #21753]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:11:06.681678 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.683901 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.685708 #21753] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8649909778"], ["active", 1]]
D, [2020-04-01T08:11:06.687059 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.703315 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.706642 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160311621"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.708411 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160311621"], ["date_of_birth", "2001-04-01"], ["phone", "5116240667"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.709831 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.744167 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.746200 #21753] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.748482 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.750168 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.759949 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.761292 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.762276 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.763541 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.796879 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.797356 #21753]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:11:06.797404 #21753]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:11:06.797429 #21753]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:11:06.798300 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.799982 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.801638 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1574100662"], ["active", 1]]
D, [2020-04-01T08:11:06.802984 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.804267 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.805786 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172709400"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.807172 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172709400"], ["date_of_birth", "2001-04-01"], ["phone", "6972392239"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.808439 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.809665 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.810970 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.812192 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.813292 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.814951 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.816107 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.817115 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.818080 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:11:06.821278 #21753]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.838621 #21753]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:11:06.839014 #21753]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:11:06.845257 #21753] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.846736 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.848112 #21753] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:11:06.849238 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.850356 #21753]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:11:06.851456 #21753]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
D, [2020-04-01T08:11:06.859720 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.862591 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.863903 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.864556 #21753]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:11:06.864686 #21753]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:11:06.864777 #21753]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:11:06.866083 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.867973 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.869824 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5212008866"], ["active", 1]]
D, [2020-04-01T08:11:06.871410 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.872897 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.874865 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "346561986"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.876679 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346561986"], ["date_of_birth", "2001-04-01"], ["phone", "5191468943"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.878274 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.879978 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.881615 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.883027 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.884518 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.886406 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.888119 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.889323 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.890864 #21753]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.892325 #21753]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:11:06.897375 #21753]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:11:06.899035 #21753]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:11:06.900657 #21753]  INFO -- : Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:11:06.903863 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.904888 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.905248 #21753]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:11:06.905337 #21753]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:11:06.905406 #21753]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:11:06.906481 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.908350 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.910158 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7149594797"], ["active", 1]]
D, [2020-04-01T08:11:06.911734 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.913379 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.915180 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231951275"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.916978 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "231951275"], ["date_of_birth", "2001-04-01"], ["phone", "9500046633"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.918556 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.920211 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.921928 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.923474 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.924967 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.927006 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.928636 #21753] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:06.929980 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.931163 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.932746 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.934485 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224763267"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.936276 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "224763267"], ["date_of_birth", "2001-04-01"], ["phone", "9206832171"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.937955 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.939778 #21753]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:11:06 +0000
I, [2020-04-01T08:11:06.941212 #21753]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:11:06.941649 #21753]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:11:06.943225 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.945686 #21753] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.948202 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.950309 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.952093 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.953667 #21753] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.955988 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.957868 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:11:06.959319 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:06.960412 #21753]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:11:06.961606 #21753]  INFO -- : Completed 302 Found in 20ms (ActiveRecord: 1.1ms)
D, [2020-04-01T08:11:06.969089 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:11:06.970233 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:06.971186 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:06.971574 #21753]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:11:06.971691 #21753]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:11:06.971771 #21753]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:11:06.972819 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.974606 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.976397 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4158180294"], ["active", 1]]
D, [2020-04-01T08:11:06.978002 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.979620 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.981455 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "135224399"], ["LIMIT", 1]]
D, [2020-04-01T08:11:06.983126 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "135224399"], ["date_of_birth", "2001-04-01"], ["phone", "8754137762"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:06.984834 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.986402 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:06.988019 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.989466 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:06.990995 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.000621 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.002116 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.003226 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.004625 #21753]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
F, [2020-04-01T08:11:07.023247 #21753] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:11:07.029073 #21753]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
F, [2020-04-01T08:11:07.048560 #21753] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:11:07.052746 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:07.053658 #21753] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:07.054012 #21753]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:11:07.054098 #21753]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:11:07.054164 #21753]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:11:07.055128 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.056849 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.058516 #21753] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3889877718"], ["active", 1]]
D, [2020-04-01T08:11:07.059923 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.061312 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.062886 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362052621"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.064486 #21753] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362052621"], ["date_of_birth", "2001-04-01"], ["phone", "8761650362"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:07.065897 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.067396 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.068901 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.070180 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.071434 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.073077 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.074403 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.075604 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.076998 #21753]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
I, [2020-04-01T08:11:07.078115 #21753]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:11:07.080292 #21753]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:11:07.081090 #21753]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:11:07.082195 #21753]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:11:07.085135 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:11:07.085999 #21753] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:11:07.086337 #21753]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:11:07.086418 #21753]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:11:07.086485 #21753]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:11:07.087490 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.089093 #21753] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.090725 #21753] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7266154712"], ["active", 1]]
D, [2020-04-01T08:11:07.092187 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.093816 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.095775 #21753] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "308631262"], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.097486 #21753] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "308631262"], ["date_of_birth", "2001-04-01"], ["phone", "0382622374"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:11:07.098992 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.100614 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.102234 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.103814 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.105198 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.107153 #21753] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.108608 #21753] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:11:07.109731 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.111423 #21753]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:11:07 +0000
I, [2020-04-01T08:11:07.112797 #21753]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:11:07.113100 #21753]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:11:07.114493 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:11:07.116148 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:11:07.394705 #21753] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.396257 #21753] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:11:07.397787 #21753] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:11:07.398921 #21753]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:11:07.399390 #21753]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:11:07.400638 #21753]  INFO -- : Completed 200 OK in 287ms (Views: 1.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:11:07.404793 #21753] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.106526 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:14:57.225428 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.225947 #21901]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:14:57.226000 #21901]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:14:57.226030 #21901]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:14:57.337870 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.340047 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.341840 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7905194785"], ["active", 1]]
D, [2020-04-01T08:14:57.343234 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.359621 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.362645 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "310333355"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.364324 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "310333355"], ["date_of_birth", "2001-04-01"], ["phone", "0876965487"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.365744 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.385727 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.387642 #21901] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.389933 #21901] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.391642 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.401418 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.402676 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.403656 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.407132 #21901]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
F, [2020-04-01T08:14:57.458817 #21901] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:14:57.466055 #21901]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
F, [2020-04-01T08:14:57.484618 #21901] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:14:57.488949 #21901] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.489942 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.490283 #21901]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:14:57.490435 #21901]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:14:57.490514 #21901]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:14:57.491627 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.493527 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.495362 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8134763325"], ["active", 1]]
D, [2020-04-01T08:14:57.496956 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.498316 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.499927 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294733209"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.501447 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "294733209"], ["date_of_birth", "2001-04-01"], ["phone", "8457290433"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.503047 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.504573 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.506114 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.507536 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.508841 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.510523 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.511854 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.512925 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.513875 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.558769 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.559222 #21901]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:14:57.559327 #21901]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:14:57.559404 #21901]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:14:57.560304 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.561871 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.563504 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6496511636"], ["active", 1]]
D, [2020-04-01T08:14:57.564863 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.566235 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.567842 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000530989"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.569331 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000530989"], ["date_of_birth", "2001-04-01"], ["phone", "9288692803"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.570715 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.572111 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.573463 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.574692 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.575937 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.577569 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.578889 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.579949 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.580985 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:14:57.582293 #21901]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.588021 #21901]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:14:57.588325 #21901]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:14:57.593662 #21901] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.594932 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.596148 #21901] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:14:57.597139 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.598215 #21901]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:14:57.599134 #21901]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:14:57.603602 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.605363 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.606250 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.606562 #21901]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:14:57.606642 #21901]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:14:57.606705 #21901]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:14:57.607657 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.609072 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.610722 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2182901545"], ["active", 1]]
D, [2020-04-01T08:14:57.612110 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.613475 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.614970 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060305943"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.616668 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060305943"], ["date_of_birth", "2001-04-01"], ["phone", "7695879256"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.618131 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.619544 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.621032 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.622385 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.623693 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.625405 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.626725 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.627869 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.629286 #21901]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.630442 #21901]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:14:57.635437 #21901]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:14:57.637075 #21901]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:14:57.638548 #21901]  INFO -- : Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:14:57.641506 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.642343 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.642652 #21901]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:14:57.642761 #21901]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:14:57.642844 #21901]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:14:57.643852 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.645345 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.647016 #21901] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8581343269"], ["active", 1]]
D, [2020-04-01T08:14:57.648476 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.649886 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.651489 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331482542"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.653053 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331482542"], ["date_of_birth", "2001-04-01"], ["phone", "8858802477"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.654493 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.655887 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.657211 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.658543 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.659826 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.661610 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.662981 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.664175 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.665560 #21901]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.666926 #21901]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:14:57.669563 #21901]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:14:57.670339 #21901]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:14:57.671515 #21901]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:14:57.674394 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.675344 #21901] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.675705 #21901]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:14:57.675798 #21901]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:14:57.675867 #21901]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:14:57.676800 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.678343 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.680050 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1012360857"], ["active", 1]]
D, [2020-04-01T08:14:57.681520 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.682862 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.684450 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019787666"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.686077 #21901] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "019787666"], ["date_of_birth", "2001-04-01"], ["phone", "5826418972"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.687558 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.688926 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.690289 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.691652 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.692955 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.694709 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.696096 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.697282 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.698347 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.699675 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.701212 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116598806"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.702790 #21901] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "116598806"], ["date_of_birth", "2001-04-01"], ["phone", "6905380039"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.704257 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.705850 #21901]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.707008 #21901]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:14:57.707424 #21901]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:14:57.708706 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.710645 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.712767 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.714508 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.716003 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.717317 #21901] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.719167 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.720592 #21901] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:14:57.721867 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.722881 #21901]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:14:57.724047 #21901]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:14:57.730353 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:14:57.731421 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:14:57.732262 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:14:57.732594 #21901]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:14:57.732693 #21901]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:14:57.732767 #21901]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:14:57.733685 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.735195 #21901] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.736854 #21901] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8504099061"], ["active", 1]]
D, [2020-04-01T08:14:57.738274 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.739600 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.741082 #21901] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "031265228"], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.742572 #21901] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031265228"], ["date_of_birth", "2001-04-01"], ["phone", "1987035958"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:14:57.744165 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.745585 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.746973 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.748357 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:57.749683 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.751407 #21901] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:57.752890 #21901] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:14:57.754146 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:57.755751 #21901]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:14:57 +0000
I, [2020-04-01T08:14:57.756894 #21901]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:14:57.757241 #21901]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:14:57.758482 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:14:57.759956 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:14:58.012967 #21901] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:58.014428 #21901] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:14:58.016025 #21901] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:14:58.017174 #21901]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:14:58.017614 #21901]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:14:58.018838 #21901]  INFO -- : Completed 200 OK in 261ms (Views: 1.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:14:58.022899 #21901] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:40.987594 #22323] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:20:41.072359 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.072828 #22323]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:20:41.072874 #22323]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:20:41.072898 #22323]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:20:41.171075 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.173196 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.175021 #22323] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0254870128"], ["active", 1]]
D, [2020-04-01T08:20:41.176334 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.192062 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.195081 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084779039"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.196620 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084779039"], ["date_of_birth", "2001-04-01"], ["phone", "2048585325"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.197855 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.216030 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.217859 #22323] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.219984 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.221499 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.229911 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.231091 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.231968 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.232823 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:20:41.235834 #22323]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.251001 #22323]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:20:41.251420 #22323]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:20:41.256928 #22323] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.258286 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.259593 #22323] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:20:41.260664 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.261772 #22323]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:20:41.262773 #22323]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:20:41.270087 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.272906 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.273831 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.274172 #22323]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:20:41.274266 #22323]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:20:41.274351 #22323]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:20:41.275508 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.277312 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.279237 #22323] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9366311210"], ["active", 1]]
D, [2020-04-01T08:20:41.292041 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.293462 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.295080 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "301526188"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.296666 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "301526188"], ["date_of_birth", "2001-04-01"], ["phone", "4107225121"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.298036 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.299403 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.300790 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.302025 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.303195 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.304854 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.306058 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.307084 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.308439 #22323]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.309743 #22323]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:20:41.314127 #22323]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:20:41.315694 #22323]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:20:41.317365 #22323]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:20:41.320253 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.321179 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.321480 #22323]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:20:41.321558 #22323]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:20:41.321646 #22323]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:20:41.322492 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.323931 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.325398 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9102209840"], ["active", 1]]
D, [2020-04-01T08:20:41.326743 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.328021 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.329477 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160244761"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.330981 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160244761"], ["date_of_birth", "2001-04-01"], ["phone", "6704094859"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.332430 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.333789 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.335157 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.336360 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.337570 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.339253 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.340650 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.341749 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.342754 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.344004 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.345430 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "248278060"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.346836 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "248278060"], ["date_of_birth", "2001-04-01"], ["phone", "7618152648"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.348202 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.349735 #22323]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.350999 #22323]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:20:41.351311 #22323]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:20:41.352561 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.354362 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.356315 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.358016 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.359452 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.360832 #22323] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.362580 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.364099 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:20:41.365334 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.366332 #22323]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:20:41.367399 #22323]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:20:41.373762 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:20:41.375034 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.376057 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.376390 #22323]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:20:41.376469 #22323]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:20:41.376530 #22323]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:20:41.377378 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.378697 #22323] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.380196 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9378898576"], ["active", 1]]
D, [2020-04-01T08:20:41.381544 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.382755 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.384216 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117070125"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.385647 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "117070125"], ["date_of_birth", "2001-04-01"], ["phone", "2987596359"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.387005 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.388363 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.389641 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.390815 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.392083 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.393609 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.394875 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.395937 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.397207 #22323]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.398246 #22323]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:20:41.400343 #22323]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:20:41.401087 #22323]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:20:41.402188 #22323]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:20:41.404883 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.405643 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.405991 #22323]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:20:41.406070 #22323]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:20:41.406128 #22323]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:20:41.406955 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.408306 #22323] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.409831 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2173214179"], ["active", 1]]
D, [2020-04-01T08:20:41.411198 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.412478 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.413996 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147792364"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.415516 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147792364"], ["date_of_birth", "2001-04-01"], ["phone", "7764238138"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.416945 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.418203 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.419678 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.420933 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.422195 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.423900 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.425251 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.426350 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.427819 #22323]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
I, [2020-04-01T08:20:41.428871 #22323]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:20:41.429214 #22323]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:20:41.430397 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.431813 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.693559 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.694977 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.696478 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.697562 #22323]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:20:41.698017 #22323]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:20:41.699190 #22323]  INFO -- : Completed 200 OK in 270ms (Views: 1.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:20:41.703179 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.703982 #22323] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.704310 #22323]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:20:41.704391 #22323]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:20:41.704458 #22323]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:20:41.705413 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.706887 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.708518 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4513781456"], ["active", 1]]
D, [2020-04-01T08:20:41.709933 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.711203 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.712680 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376880963"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.714228 #22323] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376880963"], ["date_of_birth", "2001-04-01"], ["phone", "7023290740"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.715608 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.716949 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.718212 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.719420 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.720596 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.722296 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.723593 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.724617 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.725554 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:20:41.754750 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:20:41.755128 #22323]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:20:41.755211 #22323]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:20:41.755332 #22323]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:20:41.756282 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.757751 #22323] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.759317 #22323] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0545224649"], ["active", 1]]
D, [2020-04-01T08:20:41.760638 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.761912 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.763398 #22323] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188495986"], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.764882 #22323] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188495986"], ["date_of_birth", "2001-04-01"], ["phone", "8968286787"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:20:41.766232 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.767576 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:20:41.768908 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.770109 #22323] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:20:41.771310 #22323] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.772897 #22323] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:20:41.774148 #22323] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:20:41.775164 #22323] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:20:41.776478 #22323]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
F, [2020-04-01T08:20:41.796859 #22323] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:20:41.802161 #22323]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:20:41 +0000
F, [2020-04-01T08:20:41.823212 #22323] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:20:41.827917 #22323] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:11.755599 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:21:11.837000 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:11.837508 #22391]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:21:11.837560 #22391]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:21:11.837591 #22391]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:21:11.940455 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.942537 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.944330 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5319346294"], ["active", 1]]
D, [2020-04-01T08:21:11.945597 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.961318 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.964294 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152267771"], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.965844 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152267771"], ["date_of_birth", "2001-04-01"], ["phone", "8983286222"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:11.967092 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.985367 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:11.987186 #22391] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:11.989258 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:11.990812 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:11.999404 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.000617 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.001603 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.002488 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:21:12.005444 #22391]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.020794 #22391]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:21:12.021136 #22391]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:21:12.026598 #22391] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.027935 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.029146 #22391] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:21:12.030203 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.031242 #22391]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:21:12.032289 #22391]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:21:12.039632 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.042218 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.043361 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.043757 #22391]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:21:12.043855 #22391]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:21:12.043951 #22391]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:21:12.045126 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.047048 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.049067 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4143287204"], ["active", 1]]
D, [2020-04-01T08:21:12.062172 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.063686 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.065420 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229618610"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.067010 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229618610"], ["date_of_birth", "2001-04-01"], ["phone", "7724671612"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.068461 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.069797 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.071240 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.072525 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.073778 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.075494 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.076738 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.077781 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.079153 #22391]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.080535 #22391]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:21:12.084990 #22391]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:21:12.086424 #22391]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.0ms)
I, [2020-04-01T08:21:12.087976 #22391]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:21:12.090821 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.091644 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.092004 #22391]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:21:12.092089 #22391]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:21:12.092158 #22391]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:21:12.093042 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.094531 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.096164 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8727693215"], ["active", 1]]
D, [2020-04-01T08:21:12.097830 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.099161 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.100769 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306530518"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.102283 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306530518"], ["date_of_birth", "2001-04-01"], ["phone", "5893677881"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.103735 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.105102 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.106500 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.107762 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.108994 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.110674 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.112087 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.113187 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.114658 #22391]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.115843 #22391]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:21:12.116174 #22391]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:21:12.117400 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.119242 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.306243 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.307942 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.309632 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.310929 #22391]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:21:12.311464 #22391]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:21:12.312854 #22391]  INFO -- : Completed 200 OK in 196ms (Views: 1.6ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:21:12.317760 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.318653 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.319000 #22391]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:21:12.319093 #22391]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:21:12.319178 #22391]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:21:12.320213 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.321886 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.323744 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8933716084"], ["active", 1]]
D, [2020-04-01T08:21:12.325302 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.326955 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.329621 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384385446"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.332290 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384385446"], ["date_of_birth", "2001-04-01"], ["phone", "3600230842"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.334019 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.335933 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.337885 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.339553 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.341249 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.343414 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.345376 #22391] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.346875 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.348609 #22391]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
F, [2020-04-01T08:21:12.370788 #22391] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:21:12.375518 #22391]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
F, [2020-04-01T08:21:12.393190 #22391] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:21:12.397726 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.398623 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.398975 #22391]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:21:12.399065 #22391]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:21:12.399144 #22391]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:21:12.400232 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.402043 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.403847 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1111303228"], ["active", 1]]
D, [2020-04-01T08:21:12.405314 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.406866 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.408586 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "046103590"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.410316 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "046103590"], ["date_of_birth", "2001-04-01"], ["phone", "7274081608"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.411946 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.413423 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.414984 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.416375 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.417718 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.419586 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.421100 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.422253 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.423715 #22391]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.424921 #22391]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:21:12.427137 #22391]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:21:12.428084 #22391]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.5ms)
I, [2020-04-01T08:21:12.429250 #22391]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:21:12.432173 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.433034 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.433352 #22391]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:21:12.433500 #22391]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:21:12.433589 #22391]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:21:12.434576 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.436205 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.438054 #22391] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3999692360"], ["active", 1]]
D, [2020-04-01T08:21:12.439554 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.441033 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.442634 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "049701562"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.444417 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "049701562"], ["date_of_birth", "2001-04-01"], ["phone", "8517199590"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.446051 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.447586 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.449211 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.450628 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.452030 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.453922 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.455450 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.456650 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.457789 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.459330 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.460987 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077354984"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.462620 #22391] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "077354984"], ["date_of_birth", "2001-04-01"], ["phone", "8709233359"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.464094 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.465758 #22391]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:21:12 +0000
I, [2020-04-01T08:21:12.466945 #22391]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:21:12.467311 #22391]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:21:12.468697 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.470300 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.472601 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.474469 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.476043 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.477416 #22391] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.479419 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.480948 #22391] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:21:12.482293 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:21:12.483430 #22391]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:21:12.484555 #22391]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-04-01T08:21:12.491346 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:21:12.492519 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:21:12.493362 #22391] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:21:12.493769 #22391]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:21:12.493870 #22391]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:21:12.493944 #22391]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:21:12.495018 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.496763 #22391] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.498490 #22391] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0055153437"], ["active", 1]]
D, [2020-04-01T08:21:12.500135 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.501584 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.503327 #22391] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "242852653"], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.505080 #22391] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "242852653"], ["date_of_birth", "2001-04-01"], ["phone", "5212615665"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:21:12.506652 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.513623 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.515915 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.517538 #22391] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:21:12.519068 #22391] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.521302 #22391] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:21:12.523044 #22391] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:21:12.524382 #22391] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:21:12.525784 #22391] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.452527 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:22:51.547705 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.548234 #22538]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:22:51.548286 #22538]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:22:51.548312 #22538]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:22:51.654153 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.656117 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.657818 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7125579158"], ["active", 1]]
D, [2020-04-01T08:22:51.659017 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.673826 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.676976 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "201432006"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.678486 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "201432006"], ["date_of_birth", "2001-04-01"], ["phone", "2367610662"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:51.679809 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.698608 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.712159 #22538] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.714489 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.716140 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.725084 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.726249 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:51.727117 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.728046 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:22:51.730942 #22538]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:22:51 +0000
I, [2020-04-01T08:22:51.746274 #22538]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:22:51.746598 #22538]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:22:51.752202 #22538] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.753565 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.754818 #22538] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:22:51.755872 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.756930 #22538]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:22:51.757862 #22538]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:22:51.765264 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:51.767989 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.768964 #22538] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.769282 #22538]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:22:51.769396 #22538]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:22:51.769462 #22538]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:22:51.770450 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.772095 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.773870 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1160828588"], ["active", 1]]
D, [2020-04-01T08:22:51.775424 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.776908 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.778547 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228917737"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.780200 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "228917737"], ["date_of_birth", "2001-04-01"], ["phone", "8557079462"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:51.781701 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.783146 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.784653 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.785993 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.787436 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.789274 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.790681 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:51.791835 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.793471 #22538]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:22:51 +0000
I, [2020-04-01T08:22:51.794696 #22538]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:22:51.795080 #22538]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:22:51.796437 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.798391 #22538] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.976245 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.977810 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:51.979391 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:51.983950 #22538]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:22:51.985634 #22538]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T08:22:51.987345 #22538]  INFO -- : Completed 200 OK in 192ms (Views: 6.3ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:22:51.991939 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:51.992775 #22538] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:51.993158 #22538]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:22:51.993258 #22538]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:22:51.993333 #22538]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:22:51.994349 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:51.996077 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:51.997752 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7151806698"], ["active", 1]]
D, [2020-04-01T08:22:51.999213 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.000647 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.002242 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103297675"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.003945 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103297675"], ["date_of_birth", "2001-04-01"], ["phone", "0563542595"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.005395 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.006812 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.008417 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.009760 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.011040 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.012888 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.014264 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.015393 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.016858 #22538]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
F, [2020-04-01T08:22:52.035521 #22538] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:22:52.040476 #22538]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
F, [2020-04-01T08:22:52.064667 #22538] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:22:52.069337 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.070428 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.070855 #22538]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:22:52.070974 #22538]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:22:52.071045 #22538]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:22:52.072146 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.073799 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.075558 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8048708348"], ["active", 1]]
D, [2020-04-01T08:22:52.076937 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.078275 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.079834 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305958001"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.081358 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305958001"], ["date_of_birth", "2001-04-01"], ["phone", "4154321954"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.082732 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.084211 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.085664 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.086912 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.088208 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.089911 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.091250 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.092393 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.093689 #22538]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.094812 #22538]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:22:52.096914 #22538]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:22:52.097706 #22538]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:22:52.098842 #22538]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:22:52.101638 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.102650 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.103129 #22538]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:22:52.103214 #22538]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:22:52.103308 #22538]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:22:52.104229 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.105680 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.107363 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5400865123"], ["active", 1]]
D, [2020-04-01T08:22:52.108852 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.110154 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.111752 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "283890961"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.113297 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "283890961"], ["date_of_birth", "2001-04-01"], ["phone", "8483089468"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.114672 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.116148 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.117538 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.118794 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.120087 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.121782 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.123143 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.124355 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.125401 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.159074 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.159742 #22538]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:22:52.159890 #22538]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:22:52.160014 #22538]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:22:52.161118 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.162761 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.164505 #22538] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0705398767"], ["active", 1]]
D, [2020-04-01T08:22:52.165891 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.167267 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.168860 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "278835688"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.170446 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278835688"], ["date_of_birth", "2001-04-01"], ["phone", "9768612938"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.171961 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.173353 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.174727 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.176089 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.177331 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.179021 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.180369 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.181476 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.182819 #22538]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.184207 #22538]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:22:52.185410 #22538]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:22:52.185905 #22538]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:22:52.187052 #22538]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:22:52.189826 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:22:52.190878 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:22:52.191378 #22538]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:22:52.191468 #22538]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:22:52.191535 #22538]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:22:52.192430 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.193974 #22538] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.195681 #22538] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5975177444"], ["active", 1]]
D, [2020-04-01T08:22:52.197130 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.198553 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.200332 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282402435"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.201947 #22538] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "282402435"], ["date_of_birth", "2001-04-01"], ["phone", "7947150695"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.203476 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.204959 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.218132 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.219598 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.220925 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.222749 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.224181 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:22:52.225235 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.226266 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:52.227718 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.229239 #22538] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "016553062"], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.230687 #22538] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "016553062"], ["date_of_birth", "2001-04-01"], ["phone", "3308721078"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:22:52.232155 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.233629 #22538]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:22:52 +0000
I, [2020-04-01T08:22:52.234697 #22538]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:22:52.235049 #22538]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:22:52.236331 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:22:52.237812 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.240052 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.241758 #22538] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.243242 #22538] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:22:52.244629 #22538] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.246428 #22538] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:22:52.247924 #22538] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:22:52.249105 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:22:52.250076 #22538]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:22:52.251106 #22538]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:22:52.257441 #22538] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:22:52.258467 #22538] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.404639 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:23:27.489375 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.489841 #22613]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:23:27.489886 #22613]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:23:27.489910 #22613]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:23:27.585200 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.587256 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.588980 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0163023953"], ["active", 1]]
D, [2020-04-01T08:23:27.590243 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.605290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.608211 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181246917"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.609770 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "181246917"], ["date_of_birth", "2001-04-01"], ["phone", "4944521153"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.610952 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.628971 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.630897 #22613] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.633008 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.634557 #22613] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.642884 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.644082 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.644952 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.647936 #22613]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.658886 #22613]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:23:27.667121 #22613]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:23:27.668830 #22613]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.3ms)
I, [2020-04-01T08:23:27.670354 #22613]  INFO -- : Completed 200 OK in 11ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:23:27.676136 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.677070 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.677384 #22613]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:23:27.677465 #22613]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:23:27.677529 #22613]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:23:27.678571 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.680314 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.681982 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3657727962"], ["active", 1]]
D, [2020-04-01T08:23:27.683445 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.684916 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.686570 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "326205904"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.688352 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "326205904"], ["date_of_birth", "2001-04-01"], ["phone", "4480066300"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.690112 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.691815 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.704690 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.705977 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.707196 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.708899 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.710211 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.711256 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.717636 #22613]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.718846 #22613]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:23:27.719176 #22613]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:23:27.720435 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.722348 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.872995 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.874485 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.876080 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.877773 #22613]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:23:27.878565 #22613]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:23:27.879881 #22613]  INFO -- : Completed 200 OK in 160ms (Views: 2.3ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:23:27.884050 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.884877 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.885212 #22613]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:23:27.885304 #22613]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:23:27.885392 #22613]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:23:27.886332 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.887901 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.889490 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3084966073"], ["active", 1]]
D, [2020-04-01T08:23:27.890903 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.892290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.893852 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "305102463"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.895424 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305102463"], ["date_of_birth", "2001-04-01"], ["phone", "7121018757"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.896892 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.898287 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.899682 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.900975 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.902186 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.903927 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.905224 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.906290 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.907582 #22613]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.908888 #22613]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:23:27.910089 #22613]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:23:27.910564 #22613]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:23:27.911716 #22613]  INFO -- : Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:23:27.914491 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.915365 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.915720 #22613]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:23:27.915816 #22613]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:23:27.915887 #22613]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:23:27.916768 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.918267 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.919909 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6040748046"], ["active", 1]]
D, [2020-04-01T08:23:27.921283 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.922626 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.924153 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "200193723"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.925736 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "200193723"], ["date_of_birth", "2001-04-01"], ["phone", "7190041126"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.927144 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.928562 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.929905 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.931115 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.932323 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.933913 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.935240 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.936348 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.937468 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:27.938729 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.940194 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100874766"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.941664 #22613] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "100874766"], ["date_of_birth", "2001-04-01"], ["phone", "7433700175"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.943023 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.944510 #22613]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
I, [2020-04-01T08:23:27.945583 #22613]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:23:27.945903 #22613]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:23:27.947084 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.948449 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.950485 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.952187 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.953520 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.954824 #22613] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.956671 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.958143 #22613] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:23:27.959265 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.960319 #22613]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:23:27.961354 #22613]  INFO -- : Completed 302 Found in 15ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:23:27.967534 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:27.968581 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:27.969440 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:27.969773 #22613]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:23:27.969868 #22613]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:23:27.969937 #22613]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:23:27.970907 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.972367 #22613] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.974015 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0961578470"], ["active", 1]]
D, [2020-04-01T08:23:27.975449 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.976821 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.978315 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001259567"], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.979877 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001259567"], ["date_of_birth", "2001-04-01"], ["phone", "6011864823"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:27.981211 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.982503 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:27.983833 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.985038 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:27.986192 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.987795 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:27.989048 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:27.990079 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:27.991361 #22613]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:23:27 +0000
F, [2020-04-01T08:23:28.006063 #22613] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:23:28.010322 #22613]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:23:28 +0000
F, [2020-04-01T08:23:28.025298 #22613] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:23:28.029423 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:28.030236 #22613] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:28.030594 #22613]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:23:28.030681 #22613]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:23:28.030751 #22613]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:23:28.031811 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.033527 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.035220 #22613] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3692637405"], ["active", 1]]
D, [2020-04-01T08:23:28.036658 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.038119 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.039810 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178557349"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.041428 #22613] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178557349"], ["date_of_birth", "2001-04-01"], ["phone", "6100827980"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:28.042933 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.044445 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.045925 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.047271 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.048649 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.050413 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.051762 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:28.052853 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.053871 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:23:28.055169 #22613]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:23:28 +0000
I, [2020-04-01T08:23:28.056390 #22613]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:23:28.056703 #22613]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:23:28.057984 #22613] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.059159 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.060334 #22613] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:23:28.061318 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:23:28.062269 #22613]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:23:28.063137 #22613]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:23:28.067361 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:23:28.068379 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:23:28.069216 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:23:28.069523 #22613]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:23:28.069602 #22613]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:23:28.069666 #22613]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:23:28.070647 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.072140 #22613] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.073739 #22613] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5191283712"], ["active", 1]]
D, [2020-04-01T08:23:28.075075 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.076504 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.078060 #22613] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194421766"], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.079653 #22613] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "194421766"], ["date_of_birth", "2001-04-01"], ["phone", "4221875606"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:23:28.081100 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.082603 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.084061 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.085405 #22613] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:23:28.086673 #22613] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.088465 #22613] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:23:28.089846 #22613] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:23:28.090929 #22613] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:23:28.092009 #22613] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:13.718108 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:31:13.808854 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:13.809325 #23147]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:31:13.809371 #23147]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:31:13.809396 #23147]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:31:13.908656 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.910661 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.912338 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0766841778"], ["active", 1]]
D, [2020-04-01T08:31:13.913513 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.928572 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.931570 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218069840"], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.933075 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218069840"], ["date_of_birth", "2001-04-01"], ["phone", "3433642466"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:13.934277 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.965252 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.967188 #23147] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:13.969291 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:13.970862 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.979719 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:13.980896 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:13.981733 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:13.982556 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:31:13.985367 #23147]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:31:13 +0000
I, [2020-04-01T08:31:14.000493 #23147]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:31:14.000797 #23147]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:31:14.006767 #23147] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.008165 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.009349 #23147] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:31:14.010495 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.011570 #23147]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:31:14.012576 #23147]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-01T08:31:14.020022 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.022537 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.025884 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.026243 #23147]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:31:14.026325 #23147]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:31:14.026388 #23147]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:31:14.027403 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.029046 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.030693 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1200524246"], ["active", 1]]
D, [2020-04-01T08:31:14.032114 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.033451 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.035052 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152633470"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.036703 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "152633470"], ["date_of_birth", "2001-04-01"], ["phone", "1478083741"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.038108 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.039489 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.040887 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.042146 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.043370 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.045077 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.046353 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.047452 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.048801 #23147]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.050158 #23147]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:31:14.054581 #23147]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:31:14.056101 #23147]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:31:14.057511 #23147]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:31:14.060337 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.063192 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.063525 #23147]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:31:14.063639 #23147]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:31:14.063704 #23147]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:31:14.064595 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.066129 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.067726 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1519572436"], ["active", 1]]
D, [2020-04-01T08:31:14.069128 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.070465 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.071978 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179921755"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.073429 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179921755"], ["date_of_birth", "2001-04-01"], ["phone", "4121313495"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.074847 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.076209 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.077606 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.078844 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.080093 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.081731 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.083053 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.084133 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.085370 #23147]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.086417 #23147]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:31:14.088389 #23147]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:31:14.089108 #23147]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.3ms)
I, [2020-04-01T08:31:14.090162 #23147]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:31:14.092745 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.094979 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.095334 #23147]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:31:14.095416 #23147]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:31:14.095481 #23147]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:31:14.096294 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.097629 #23147] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.099117 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8590828619"], ["active", 1]]
D, [2020-04-01T08:31:14.100433 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.101691 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.103160 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239974274"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.104732 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "239974274"], ["date_of_birth", "2001-04-01"], ["phone", "0570462108"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.106115 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.107421 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.108731 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.110005 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.111197 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.112819 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.114137 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.115266 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.116696 #23147]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.117746 #23147]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:31:14.118056 #23147]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:31:14.119265 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.121199 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.404148 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.406152 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.407997 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.409192 #23147]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:31:14.409616 #23147]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:31:14.410941 #23147]  INFO -- : Completed 200 OK in 292ms (Views: 1.4ms | ActiveRecord: 0.5ms)
D, [2020-04-01T08:31:14.415464 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.418525 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.418878 #23147]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:31:14.418964 #23147]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:31:14.419076 #23147]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:31:14.420085 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.421702 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.423369 #23147] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9684887970"], ["active", 1]]
D, [2020-04-01T08:31:14.424765 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.426065 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.427665 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134301616"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.429234 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134301616"], ["date_of_birth", "2001-04-01"], ["phone", "2050147446"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.430618 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.432073 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.433456 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.434741 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.436021 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.437695 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.439032 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.440119 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.441277 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.442565 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.444062 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005614275"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.445568 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "005614275"], ["date_of_birth", "2001-04-01"], ["phone", "1585213311"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.446938 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.448503 #23147]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
I, [2020-04-01T08:31:14.449617 #23147]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:31:14.449984 #23147]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:31:14.451351 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.452896 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.455069 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.456846 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.458251 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.459619 #23147] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.461447 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.462984 #23147] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:31:14.464172 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.465174 #23147]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:31:14.466211 #23147]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T08:31:14.472509 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:31:14.473552 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.476068 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.476387 #23147]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:31:14.476506 #23147]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:31:14.476578 #23147]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:31:14.477511 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.479010 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.483914 #23147] DEBUG -- :   [1m[36mStore Create (3.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0304206639"], ["active", 1]]
D, [2020-04-01T08:31:14.485367 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.486801 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.488538 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225240090"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.490115 #23147] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225240090"], ["date_of_birth", "2001-04-01"], ["phone", "5051502301"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.491549 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.492974 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.494413 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.495714 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.496978 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.498639 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.500025 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.501152 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:31:14.502491 #23147]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
F, [2020-04-01T08:31:14.529953 #23147] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:31:14.534668 #23147]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:31:14 +0000
F, [2020-04-01T08:31:14.552743 #23147] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:31:14.556760 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:31:14.557647 #23147] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:31:14.558031 #23147]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:31:14.558143 #23147]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:31:14.558230 #23147]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:31:14.559331 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.561033 #23147] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.562737 #23147] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7433520242"], ["active", 1]]
D, [2020-04-01T08:31:14.564163 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.565619 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.567323 #23147] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "104222299"], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.568855 #23147] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104222299"], ["date_of_birth", "2001-04-01"], ["phone", "2295764464"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:31:14.570266 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.571775 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.573246 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.574551 #23147] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:31:14.575921 #23147] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.577648 #23147] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:31:14.578983 #23147] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:31:14.580144 #23147] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:31:14.581232 #23147] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:12.820266 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:34:12.906500 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:12.907011 #23374]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:34:12.907059 #23374]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:34:12.907086 #23374]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:34:13.004518 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.006621 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.008406 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4674757196"], ["active", 1]]
D, [2020-04-01T08:34:13.009621 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.025066 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.028305 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014521702"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.029909 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014521702"], ["date_of_birth", "2001-04-01"], ["phone", "1559248001"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.031162 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.049957 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.064037 #23374] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.066363 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.067971 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.076394 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.077570 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.078464 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.079362 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:34:13.082161 #23374]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.096958 #23374]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:34:13.097343 #23374]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:34:13.102956 #23374] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.104342 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.105525 #23374] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:34:13.106554 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.107639 #23374]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:34:13.108585 #23374]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:34:13.116088 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.118688 #23374] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.119635 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.120019 #23374]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:34:13.120104 #23374]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:34:13.120172 #23374]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:34:13.121235 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.122952 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.124776 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4172963540"], ["active", 1]]
D, [2020-04-01T08:34:13.126222 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.127773 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.129428 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "342678117"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.131043 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "342678117"], ["date_of_birth", "2001-04-01"], ["phone", "1162821326"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.132501 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.133959 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.135473 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.136844 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.138152 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.139989 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.141398 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.142476 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.143947 #23374]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.145128 #23374]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:34:13.149818 #23374]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:34:13.151365 #23374]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (1.1ms)
I, [2020-04-01T08:34:13.152883 #23374]  INFO -- : Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:34:13.156082 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.157002 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.157351 #23374]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:34:13.157434 #23374]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:34:13.157500 #23374]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:34:13.158491 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.160218 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.161942 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3418114000"], ["active", 1]]
D, [2020-04-01T08:34:13.163375 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.164810 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.166483 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "165560013"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.168136 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "165560013"], ["date_of_birth", "2001-04-01"], ["phone", "2026905933"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.169575 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.171012 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.172631 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.173964 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.175203 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.176956 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.178370 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.179525 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.180639 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.182074 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.183625 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014531079"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.185116 #23374] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "014531079"], ["date_of_birth", "2001-04-01"], ["phone", "5888386815"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.186501 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.188113 #23374]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.189373 #23374]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:34:13.189785 #23374]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:34:13.191070 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.193154 #23374] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.195206 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.196967 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.198384 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.199739 #23374] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.201601 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.203110 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:34:13.204332 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.205359 #23374]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:34:13.206439 #23374]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
D, [2020-04-01T08:34:13.213383 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:34:13.214507 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.215353 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.215710 #23374]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:34:13.215795 #23374]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:34:13.215862 #23374]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:34:13.216866 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.218483 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.220216 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6487598985"], ["active", 1]]
D, [2020-04-01T08:34:13.221705 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.223205 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.224949 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "008475499"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.226561 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "008475499"], ["date_of_birth", "2001-04-01"], ["phone", "1175590630"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.228130 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.229740 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.231385 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.232836 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.234234 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.236168 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.237716 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.238950 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.240190 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.272026 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.272515 #23374]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:34:13.272624 #23374]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:34:13.272716 #23374]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:34:13.273854 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.275690 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.277502 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9424909774"], ["active", 1]]
D, [2020-04-01T08:34:13.279054 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.280702 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.282493 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133168164"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.284289 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "133168164"], ["date_of_birth", "2001-04-01"], ["phone", "8455737330"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.285962 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.287714 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.289382 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.290901 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.292400 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.302360 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.303946 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.305069 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.306676 #23374]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.307840 #23374]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:34:13.308195 #23374]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:34:13.309548 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.311148 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.585396 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.586987 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.588583 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.590453 #23374]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:34:13.591273 #23374]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:34:13.592591 #23374]  INFO -- : Completed 200 OK in 284ms (Views: 2.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:34:13.597063 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.597942 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.598327 #23374]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:34:13.598420 #23374]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:34:13.598494 #23374]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:34:13.599496 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.601142 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.602874 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0025571771"], ["active", 1]]
D, [2020-04-01T08:34:13.604351 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.605774 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.607353 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "171578393"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.609020 #23374] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "171578393"], ["date_of_birth", "2001-04-01"], ["phone", "5941634680"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.610534 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.612039 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.613493 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.614848 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.616148 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.617829 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.619240 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.620388 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.621754 #23374]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
I, [2020-04-01T08:34:13.623078 #23374]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:34:13.624364 #23374]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:34:13.624825 #23374]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:34:13.625978 #23374]  INFO -- : Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:34:13.628816 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:34:13.629631 #23374] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:34:13.629980 #23374]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:34:13.630066 #23374]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:34:13.630133 #23374]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:34:13.631035 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.632691 #23374] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.634337 #23374] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2341482495"], ["active", 1]]
D, [2020-04-01T08:34:13.635828 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.637225 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.638891 #23374] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108945826"], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.640488 #23374] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "108945826"], ["date_of_birth", "2001-04-01"], ["phone", "1384700124"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:34:13.641978 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.643443 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:34:13.645026 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.646359 #23374] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:34:13.647689 #23374] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.649458 #23374] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:34:13.650825 #23374] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:34:13.651988 #23374] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:34:13.653411 #23374]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
F, [2020-04-01T08:34:13.672676 #23374] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:34:13.676902 #23374]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:34:13 +0000
F, [2020-04-01T08:34:13.696614 #23374] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:34:13.700297 #23374] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:30.466001 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T08:53:30.550954 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:30.551584 #24726]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T08:53:30.551632 #24726]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T08:53:30.551657 #24726]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T08:53:30.693803 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.696064 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.697980 #24726] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6105743937"], ["active", 1]]
D, [2020-04-01T08:53:30.699436 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.716599 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.720195 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "215258125"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.722027 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "215258125"], ["date_of_birth", "2001-04-01"], ["phone", "3270968051"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:30.723343 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.742697 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.745330 #24726] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.747978 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.749824 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.760353 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.761756 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:30.762822 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.763997 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:53:30.765349 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.766832 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362333903"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.768408 #24726] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "362333903"], ["date_of_birth", "2001-04-01"], ["phone", "4024180140"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:30.769791 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:30.779394 #24726]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:53:30 +0000
I, [2020-04-01T08:53:30.791741 #24726]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:53:30.792139 #24726]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:53:30.797886 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.800631 #24726] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.802902 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.805172 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.806902 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.808522 #24726] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.810759 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.812665 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T08:53:30.814296 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:30.828113 #24726]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:53:30.829354 #24726]  INFO -- : Completed 302 Found in 37ms (ActiveRecord: 1.0ms)
D, [2020-04-01T08:53:30.839467 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:53:30.841508 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:30.842501 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:30.842853 #24726]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T08:53:30.842962 #24726]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T08:53:30.843033 #24726]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T08:53:30.844084 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.845759 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.847548 #24726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5693354092"], ["active", 1]]
D, [2020-04-01T08:53:30.849070 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.850522 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.852210 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "311404092"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.853842 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311404092"], ["date_of_birth", "2001-04-01"], ["phone", "6003782446"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:30.855343 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.856845 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.858353 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.859730 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.861073 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.862909 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.864413 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:30.865593 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.866719 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T08:53:30.868134 #24726]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 08:53:30 +0000
I, [2020-04-01T08:53:30.869508 #24726]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T08:53:30.869856 #24726]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T08:53:30.871253 #24726] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.872541 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.873856 #24726] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T08:53:30.874966 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:30.876080 #24726]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T08:53:30.877130 #24726]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T08:53:30.881879 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T08:53:30.882934 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:30.883818 #24726] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:30.884192 #24726]  INFO -- : ----------------------------------------------
I, [2020-04-01T08:53:30.884279 #24726]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T08:53:30.884347 #24726]  INFO -- : ----------------------------------------------
D, [2020-04-01T08:53:30.885296 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.886892 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.888629 #24726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0609597678"], ["active", 1]]
D, [2020-04-01T08:53:30.890154 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.891609 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.893250 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192084265"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.894968 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192084265"], ["date_of_birth", "2001-04-01"], ["phone", "8914968750"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:30.896548 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.898099 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.899624 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.901005 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.902369 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.904221 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.905709 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:30.906923 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:30.908367 #24726]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 08:53:30 +0000
I, [2020-04-01T08:53:30.909829 #24726]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T08:53:30.914707 #24726]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:53:30.916403 #24726]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.3ms)
I, [2020-04-01T08:53:30.918001 #24726]  INFO -- : Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:53:30.921160 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:30.922033 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:30.922434 #24726]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T08:53:30.922525 #24726]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T08:53:30.922595 #24726]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T08:53:30.923572 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.925192 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.926921 #24726] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8839884028"], ["active", 1]]
D, [2020-04-01T08:53:30.928461 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.929899 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.931525 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "157290792"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.933260 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "157290792"], ["date_of_birth", "2001-04-01"], ["phone", "0040773866"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:30.934869 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.936371 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.937871 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.939328 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:30.940662 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.942498 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.943938 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:30.945110 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:30.946567 #24726]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 08:53:30 +0000
F, [2020-04-01T08:53:30.964366 #24726] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T08:53:30.969255 #24726]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 08:53:30 +0000
F, [2020-04-01T08:53:30.986997 #24726] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T08:53:30.991312 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:30.992160 #24726] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:30.992511 #24726]  INFO -- : ------------------------------------------------
I, [2020-04-01T08:53:30.992604 #24726]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T08:53:30.992676 #24726]  INFO -- : ------------------------------------------------
D, [2020-04-01T08:53:30.993715 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:30.995490 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:30.997328 #24726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1748109618"], ["active", 1]]
D, [2020-04-01T08:53:30.998953 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.000423 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.002080 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358384353"], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.003804 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358384353"], ["date_of_birth", "2001-04-01"], ["phone", "9084199716"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:31.005452 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.007009 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.008639 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.010106 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.011562 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.013495 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.015149 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:31.016560 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:31.018110 #24726]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 08:53:31 +0000
I, [2020-04-01T08:53:31.019425 #24726]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T08:53:31.021878 #24726]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T08:53:31.022802 #24726]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T08:53:31.024235 #24726]  INFO -- : Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.0ms)
D, [2020-04-01T08:53:31.027475 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:31.028386 #24726] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:31.028752 #24726]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T08:53:31.028855 #24726]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T08:53:31.028947 #24726]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T08:53:31.029982 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.031729 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.033613 #24726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9287332563"], ["active", 1]]
D, [2020-04-01T08:53:31.035319 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.036908 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.038743 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370144830"], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.040606 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370144830"], ["date_of_birth", "2001-04-01"], ["phone", "4916534340"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:31.042372 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.044063 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.045670 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.047190 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.048695 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.050639 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.052293 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:31.053610 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.054728 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T08:53:31.098838 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T08:53:31.099255 #24726]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T08:53:31.099406 #24726]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T08:53:31.099484 #24726]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T08:53:31.100514 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.102240 #24726] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.104000 #24726] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5190728084"], ["active", 1]]
D, [2020-04-01T08:53:31.105528 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.106997 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.108644 #24726] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234142963"], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.110215 #24726] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234142963"], ["date_of_birth", "2001-04-01"], ["phone", "7385331604"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T08:53:31.111760 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.113259 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.114749 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.116133 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.117430 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.119248 #24726] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.120707 #24726] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T08:53:31.121896 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:31.123577 #24726]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 08:53:31 +0000
I, [2020-04-01T08:53:31.124762 #24726]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T08:53:31.125154 #24726]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T08:53:31.126467 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T08:53:31.127984 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T08:53:31.382016 #24726] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.383518 #24726] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T08:53:31.385010 #24726] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T08:53:31.386136 #24726]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T08:53:31.386584 #24726]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T08:53:31.387840 #24726]  INFO -- : Completed 200 OK in 262ms (Views: 1.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T08:53:31.391889 #24726] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.394784 #27910] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T09:41:01.490174 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.490628 #27910]  INFO -- : ------------------------------------------
I, [2020-04-01T09:41:01.490673 #27910]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T09:41:01.490696 #27910]  INFO -- : ------------------------------------------
D, [2020-04-01T09:41:01.632304 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.634700 #27910] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.636588 #27910] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6022619977"], ["active", 1]]
D, [2020-04-01T09:41:01.637926 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.641719 #27910]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.655468 #27910]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T09:41:01.655795 #27910]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T09:41:01.662983 #27910] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T09:41:01.669039 #27910]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T09:41:01.670654 #27910]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-01T09:41:01.672403 #27910]  INFO -- : Completed 200 OK in 16ms (Views: 5.6ms | ActiveRecord: 0.2ms)
D, [2020-04-01T09:41:01.679920 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.680995 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.681372 #27910]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T09:41:01.681477 #27910]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T09:41:01.681563 #27910]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T09:41:01.682674 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.684544 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.699104 #27910] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6357386942"], ["active", 1]]
D, [2020-04-01T09:41:01.700765 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.702047 #27910]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
F, [2020-04-01T09:41:01.718657 #27910] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T09:41:01.723241 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.724092 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.724408 #27910]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T09:41:01.724534 #27910]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T09:41:01.724601 #27910]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T09:41:01.725725 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.727400 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.729002 #27910] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8279454876"], ["active", 1]]
D, [2020-04-01T09:41:01.730403 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.731709 #27910]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.737573 #27910]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T09:41:01.737921 #27910]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T09:41:01.738993 #27910] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.740514 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.918703 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.920914 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.922151 #27910]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T09:41:01.922613 #27910]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T09:41:01.924081 #27910]  INFO -- : Completed 200 OK in 186ms (Views: 1.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T09:41:01.928166 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.928965 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.929315 #27910]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T09:41:01.929401 #27910]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T09:41:01.929481 #27910]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T09:41:01.930466 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.931951 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.933522 #27910] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2257117552"], ["active", 1]]
D, [2020-04-01T09:41:01.934851 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.935967 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T09:41:01.938266 #27910]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.939529 #27910]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T09:41:01.939857 #27910]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T09:41:01.941191 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.942674 #27910] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.944299 #27910] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T09:41:01.945866 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.946862 #27910]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T09:41:01.948000 #27910]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T09:41:01.952726 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T09:41:01.953947 #27910] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T09:41:01.955155 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.955953 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.956265 #27910]  INFO -- : -------------------------------------------
I, [2020-04-01T09:41:01.956367 #27910]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T09:41:01.956448 #27910]  INFO -- : -------------------------------------------
D, [2020-04-01T09:41:01.957324 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.958686 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.960259 #27910] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2826736006"], ["active", 1]]
D, [2020-04-01T09:41:01.961708 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.962909 #27910]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.963915 #27910]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T09:41:01.965991 #27910]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T09:41:01.966808 #27910]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T09:41:01.968044 #27910]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T09:41:01.970672 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.971542 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.971873 #27910]  INFO -- : -----------------------------------------
I, [2020-04-01T09:41:01.971992 #27910]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T09:41:01.972064 #27910]  INFO -- : -----------------------------------------
D, [2020-04-01T09:41:01.973101 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.974639 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.976255 #27910] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2833598503"], ["active", 1]]
D, [2020-04-01T09:41:01.977651 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.978913 #27910]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.980212 #27910]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T09:41:01.982142 #27910]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T09:41:01.982926 #27910]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T09:41:01.984077 #27910]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T09:41:01.986582 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:01.987369 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:01.987690 #27910]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T09:41:01.987772 #27910]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T09:41:01.987850 #27910]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T09:41:01.988700 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:01.990221 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.991880 #27910] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3563450894"], ["active", 1]]
D, [2020-04-01T09:41:01.993284 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:01.994640 #27910]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 09:41:01 +0000
I, [2020-04-01T09:41:01.995938 #27910]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T09:41:01.996322 #27910]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T09:41:01.997292 #27910] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T09:41:01.998692 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:02.000686 #27910] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T09:41:02.002688 #27910] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T09:41:02.004185 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:02.005407 #27910]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T09:41:02.006577 #27910]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-04-01T09:41:02.012026 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:02.012866 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:02.013229 #27910]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T09:41:02.013314 #27910]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T09:41:02.013400 #27910]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T09:41:02.014421 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:02.016093 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:02.017868 #27910] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4747920163"], ["active", 1]]
D, [2020-04-01T09:41:02.019410 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:02.021024 #27910]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 09:41:02 +0000
I, [2020-04-01T09:41:02.022169 #27910]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T09:41:02.022532 #27910]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T09:41:02.023965 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:02.026279 #27910] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T09:41:02.027823 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:02.028927 #27910]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T09:41:02.029375 #27910]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T09:41:02.030751 #27910]  INFO -- : Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T09:41:02.034471 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T09:41:02.035299 #27910] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T09:41:02.035654 #27910]  INFO -- : --------------------------------------------
I, [2020-04-01T09:41:02.035740 #27910]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T09:41:02.035802 #27910]  INFO -- : --------------------------------------------
D, [2020-04-01T09:41:02.036768 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T09:41:02.038445 #27910] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T09:41:02.040186 #27910] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1684770588"], ["active", 1]]
D, [2020-04-01T09:41:02.041673 #27910] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T09:41:02.043127 #27910]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 09:41:02 +0000
I, [2020-04-01T09:41:02.044274 #27910]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T09:41:02.044620 #27910]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T09:41:02.045701 #27910] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T09:41:02.067550 #27910] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T09:41:02.073547 #27910] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
I, [2020-04-01T09:41:02.074657 #27910]  INFO -- : Completed 500  in 30ms (ActiveRecord: 0.4ms)
D, [2020-04-01T09:41:02.076110 #27910] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T09:41:02.078141 #27910] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T09:41:02.082673 #27910] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
F, [2020-04-01T09:41:02.090035 #27910] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::Relation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:12:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T09:41:02.094420 #27910] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:16.869957 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T10:27:16.958792 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:16.959557 #30943]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:27:16.959615 #30943]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T10:27:16.959644 #30943]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:27:17.075588 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.077713 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.079611 #30943] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0602775050"], ["active", 1]]
D, [2020-04-01T10:27:17.081009 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.089822 #30943]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.102088 #30943]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:27:17.102448 #30943]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:27:17.108628 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.321585 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:27:17.323613 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.329578 #30943]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:27:17.331127 #30943]  INFO -- :   Rendered stores/new.html.erb within layouts/application (1.2ms)
I, [2020-04-01T10:27:17.332984 #30943]  INFO -- : Completed 200 OK in 230ms (Views: 7.7ms | ActiveRecord: 0.4ms)
D, [2020-04-01T10:27:17.339598 #30943] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.341196 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.341545 #30943]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:27:17.341635 #30943]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T10:27:17.341710 #30943]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:27:17.342708 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.344479 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.346248 #30943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1711878091"], ["active", 1]]
D, [2020-04-01T10:27:17.347767 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.349151 #30943]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.350697 #30943]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:27:17.351079 #30943]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:27:17.352641 #30943] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.355215 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.357800 #30943] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.359846 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.361637 #30943]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:27:17.362386 #30943]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T10:27:17.363816 #30943]  INFO -- : Completed 200 OK in 12ms (Views: 2.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T10:27:17.367834 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.369197 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.369559 #30943]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:27:17.369649 #30943]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T10:27:17.369723 #30943]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:27:17.370665 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.372309 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.373984 #30943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2297763533"], ["active", 1]]
D, [2020-04-01T10:27:17.375407 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.376773 #30943]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.378089 #30943]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:27:17.378433 #30943]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:27:17.379470 #30943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.380905 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.382835 #30943] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.385135 #30943] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T10:27:17.386605 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.388022 #30943]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T10:27:17.389165 #30943]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T10:27:17.395828 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.397259 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.397620 #30943]  INFO -- : ------------------------------------------
I, [2020-04-01T10:27:17.397716 #30943]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T10:27:17.397791 #30943]  INFO -- : ------------------------------------------
D, [2020-04-01T10:27:17.398782 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.400459 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.402089 #30943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2179845630"], ["active", 1]]
D, [2020-04-01T10:27:17.403525 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.404957 #30943]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.406098 #30943]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T10:27:17.406427 #30943]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:27:17.407530 #30943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T10:27:17.409034 #30943]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:27:17.409511 #30943]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:27:17.410724 #30943]  INFO -- : Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T10:27:17.414017 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.415539 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.415893 #30943]  INFO -- : -------------------------------------------
I, [2020-04-01T10:27:17.415993 #30943]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T10:27:17.416066 #30943]  INFO -- : -------------------------------------------
D, [2020-04-01T10:27:17.417041 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.418646 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.420371 #30943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7898398605"], ["active", 1]]
D, [2020-04-01T10:27:17.421906 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.423315 #30943]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.424460 #30943]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T10:27:17.426475 #30943]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T10:27:17.427344 #30943]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T10:27:17.428553 #30943]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:27:17.432880 #30943] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.434201 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.434800 #30943]  INFO -- : --------------------------------------------
I, [2020-04-01T10:27:17.434948 #30943]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T10:27:17.435085 #30943]  INFO -- : --------------------------------------------
D, [2020-04-01T10:27:17.436267 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.437916 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.439617 #30943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6250373146"], ["active", 1]]
D, [2020-04-01T10:27:17.440994 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.442353 #30943]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.443520 #30943]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T10:27:17.444084 #30943]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:27:17.445128 #30943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T10:27:17.448661 #30943]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-01T10:27:17.449772 #30943]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.5ms)
I, [2020-04-01T10:27:17.451628 #30943]  INFO -- : Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 0.1ms)
D, [2020-04-01T10:27:17.456928 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.458506 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.459055 #30943]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T10:27:17.459221 #30943]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T10:27:17.459442 #30943]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T10:27:17.460857 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.463222 #30943] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.465544 #30943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0732556213"], ["active", 1]]
D, [2020-04-01T10:27:17.467706 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.469535 #30943]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
F, [2020-04-01T10:27:17.498194 #30943] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T10:27:17.502645 #30943] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.503640 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.504050 #30943]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:27:17.504144 #30943]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T10:27:17.504228 #30943]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:27:17.505300 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.507028 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.508876 #30943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8185619620"], ["active", 1]]
D, [2020-04-01T10:27:17.510503 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.511847 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T10:27:17.513496 #30943]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.514685 #30943]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:27:17.515020 #30943]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:27:17.516666 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.518760 #30943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.520725 #30943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T10:27:17.522472 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.523811 #30943]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T10:27:17.525083 #30943]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T10:27:17.530529 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T10:27:17.531855 #30943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:27:17.533205 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:27:17.534166 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:27:17.534561 #30943]  INFO -- : -----------------------------------------
I, [2020-04-01T10:27:17.534678 #30943]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T10:27:17.534771 #30943]  INFO -- : -----------------------------------------
D, [2020-04-01T10:27:17.535838 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:27:17.538312 #30943] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:27:17.540657 #30943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7966797523"], ["active", 1]]
D, [2020-04-01T10:27:17.542163 #30943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:27:17.543662 #30943]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 10:27:17 +0000
I, [2020-04-01T10:27:17.545006 #30943]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T10:27:17.546355 #30943]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:27:17.546850 #30943]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:27:17.548250 #30943]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:27:17.552026 #30943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:54.808188 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T10:28:54.893572 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:54.894006 #31089]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:28:54.894079 #31089]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T10:28:54.894104 #31089]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:28:54.989383 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:54.991453 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:54.993107 #31089] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3637569756"], ["active", 1]]
D, [2020-04-01T10:28:54.994294 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:54.997364 #31089]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:28:54 +0000
I, [2020-04-01T10:28:55.012634 #31089]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:28:55.012998 #31089]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:28:55.019529 #31089] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.021819 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.185376 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.187449 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.191375 #31089]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:28:55.192829 #31089]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-01T10:28:55.194520 #31089]  INFO -- : Completed 200 OK in 181ms (Views: 5.5ms | ActiveRecord: 0.5ms)
D, [2020-04-01T10:28:55.200929 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.201823 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.202145 #31089]  INFO -- : ------------------------------------------
I, [2020-04-01T10:28:55.202260 #31089]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T10:28:55.202331 #31089]  INFO -- : ------------------------------------------
D, [2020-04-01T10:28:55.203459 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.205092 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.206837 #31089] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0879800479"], ["active", 1]]
D, [2020-04-01T10:28:55.208291 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.209702 #31089]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.210863 #31089]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T10:28:55.211167 #31089]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:28:55.212240 #31089] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T10:28:55.213724 #31089]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:28:55.214191 #31089]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:28:55.215325 #31089]  INFO -- : Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T10:28:55.219497 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.220359 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.220716 #31089]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:28:55.220811 #31089]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T10:28:55.220879 #31089]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:28:55.221866 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.223612 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.225398 #31089] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6782223191"], ["active", 1]]
D, [2020-04-01T10:28:55.226815 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.228251 #31089]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.229591 #31089]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:28:55.229951 #31089]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:28:55.230918 #31089] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.232505 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.234547 #31089] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.236627 #31089] DEBUG -- :   [1m[36mStore Update (0.2ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T10:28:55.238067 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.239321 #31089]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T10:28:55.240492 #31089]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T10:28:55.247009 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.247922 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.248269 #31089]  INFO -- : -----------------------------------------
I, [2020-04-01T10:28:55.248386 #31089]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T10:28:55.248459 #31089]  INFO -- : -----------------------------------------
D, [2020-04-01T10:28:55.249439 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.251045 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.252737 #31089] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0380005743"], ["active", 1]]
D, [2020-04-01T10:28:55.254037 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.255367 #31089]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.256609 #31089]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T10:28:55.258386 #31089]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:28:55.259184 #31089]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T10:28:55.260314 #31089]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:28:55.263075 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.263863 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.264214 #31089]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T10:28:55.264299 #31089]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T10:28:55.264365 #31089]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T10:28:55.265296 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.266862 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.268476 #31089] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7302154683"], ["active", 1]]
D, [2020-04-01T10:28:55.269763 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.270955 #31089]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
F, [2020-04-01T10:28:55.293442 #31089] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T10:28:55.297917 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.298774 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.299119 #31089]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:28:55.299210 #31089]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T10:28:55.299325 #31089]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:28:55.300382 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.302106 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.303871 #31089] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0243962311"], ["active", 1]]
D, [2020-04-01T10:28:55.305377 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.306949 #31089]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.308184 #31089]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:28:55.308507 #31089]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:28:55.309814 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.311808 #31089] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:28:55.313168 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.314266 #31089]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:28:55.314688 #31089]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:28:55.316004 #31089]  INFO -- : Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.2ms)
D, [2020-04-01T10:28:55.319559 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.320329 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.320695 #31089]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:28:55.320778 #31089]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T10:28:55.320843 #31089]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:28:55.321752 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.323353 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.325053 #31089] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4355516371"], ["active", 1]]
D, [2020-04-01T10:28:55.326490 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.327747 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T10:28:55.329229 #31089]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.330281 #31089]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:28:55.330659 #31089]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:28:55.331973 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.333540 #31089] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.335174 #31089] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T10:28:55.336704 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.337699 #31089]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T10:28:55.338791 #31089]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T10:28:55.343980 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T10:28:55.345116 #31089] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:28:55.346373 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.347177 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.347878 #31089]  INFO -- : -------------------------------------------
I, [2020-04-01T10:28:55.347963 #31089]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T10:28:55.348028 #31089]  INFO -- : -------------------------------------------
D, [2020-04-01T10:28:55.348958 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.350439 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.352106 #31089] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6861612314"], ["active", 1]]
D, [2020-04-01T10:28:55.353566 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.354885 #31089]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.356005 #31089]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T10:28:55.357965 #31089]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T10:28:55.358790 #31089]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T10:28:55.360126 #31089]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:28:55.362928 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:28:55.363706 #31089] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:28:55.364040 #31089]  INFO -- : --------------------------------------------
I, [2020-04-01T10:28:55.364122 #31089]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T10:28:55.364195 #31089]  INFO -- : --------------------------------------------
D, [2020-04-01T10:28:55.365176 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:28:55.366740 #31089] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.368372 #31089] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3762272206"], ["active", 1]]
D, [2020-04-01T10:28:55.369721 #31089] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:28:55.370945 #31089]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 10:28:55 +0000
I, [2020-04-01T10:28:55.372024 #31089]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T10:28:55.372336 #31089]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:28:55.373261 #31089] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:28:55.392751 #31089] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:28:55.398120 #31089] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
I, [2020-04-01T10:28:55.399101 #31089]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.4ms)
D, [2020-04-01T10:28:55.400428 #31089] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:28:55.402277 #31089] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:28:55.406457 #31089] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
F, [2020-04-01T10:28:55.416493 #31089] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::Relation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T10:28:55.420576 #31089] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:22.716571 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T10:37:22.796318 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:22.796794 #31665]  INFO -- : -------------------------------------------
I, [2020-04-01T10:37:22.796840 #31665]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T10:37:22.796863 #31665]  INFO -- : -------------------------------------------
D, [2020-04-01T10:37:22.897920 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:22.900002 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:22.901666 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8220982948"], ["active", 1]]
D, [2020-04-01T10:37:22.902840 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:22.905933 #31665]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 10:37:22 +0000
I, [2020-04-01T10:37:22.917332 #31665]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T10:37:22.926018 #31665]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T10:37:22.927515 #31665]  INFO -- :   Rendered stores/index.html.erb within layouts/application (1.0ms)
I, [2020-04-01T10:37:22.929157 #31665]  INFO -- : Completed 200 OK in 11ms (Views: 5.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:37:22.935153 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:22.936064 #31665] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:22.936418 #31665]  INFO -- : -----------------------------------------
I, [2020-04-01T10:37:22.936502 #31665]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T10:37:22.936565 #31665]  INFO -- : -----------------------------------------
D, [2020-04-01T10:37:22.937637 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:22.939377 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:22.941110 #31665] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9715583721"], ["active", 1]]
D, [2020-04-01T10:37:22.942676 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:22.944094 #31665]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 10:37:22 +0000
I, [2020-04-01T10:37:22.945447 #31665]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T10:37:22.947385 #31665]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:37:22.948230 #31665]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T10:37:22.949399 #31665]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T10:37:22.952340 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:22.953484 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:22.953971 #31665]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:37:22.954102 #31665]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T10:37:22.954178 #31665]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:37:22.955123 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:22.956858 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:22.959080 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8402117279"], ["active", 1]]
D, [2020-04-01T10:37:22.960948 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:22.962385 #31665]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:37:22 +0000
I, [2020-04-01T10:37:22.968952 #31665]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:37:22.969312 #31665]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:37:22.972185 #31665] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:37:22.974587 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.241750 #31665] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.245056 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.247919 #31665]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:37:23.249130 #31665]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.6ms)
I, [2020-04-01T10:37:23.251616 #31665]  INFO -- : Completed 200 OK in 282ms (Views: 3.8ms | ActiveRecord: 0.7ms)
D, [2020-04-01T10:37:23.258554 #31665] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.259814 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.260343 #31665]  INFO -- : ------------------------------------------
I, [2020-04-01T10:37:23.260488 #31665]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T10:37:23.260602 #31665]  INFO -- : ------------------------------------------
D, [2020-04-01T10:37:23.262049 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.264548 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.267222 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1908689834"], ["active", 1]]
D, [2020-04-01T10:37:23.269688 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.271767 #31665]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
I, [2020-04-01T10:37:23.273567 #31665]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T10:37:23.274108 #31665]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:37:23.275669 #31665] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T10:37:23.278063 #31665]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T10:37:23.278803 #31665]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:37:23.280735 #31665]  INFO -- : Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.1ms)
D, [2020-04-01T10:37:23.285829 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.287026 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.287648 #31665]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T10:37:23.287800 #31665]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T10:37:23.287940 #31665]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T10:37:23.289326 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.291761 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.294375 #31665] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3958645004"], ["active", 1]]
D, [2020-04-01T10:37:23.296761 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.298623 #31665]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
F, [2020-04-01T10:37:23.327783 #31665] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T10:37:23.334543 #31665] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.335798 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.336327 #31665]  INFO -- : --------------------------------------------
I, [2020-04-01T10:37:23.336507 #31665]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T10:37:23.336641 #31665]  INFO -- : --------------------------------------------
D, [2020-04-01T10:37:23.338141 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.340669 #31665] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.343333 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2752823354"], ["active", 1]]
D, [2020-04-01T10:37:23.345771 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.347781 #31665]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
I, [2020-04-01T10:37:23.349408 #31665]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T10:37:23.349937 #31665]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T10:37:23.351475 #31665] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.383332 #31665] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:37:23.392615 #31665] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
I, [2020-04-01T10:37:23.394344 #31665]  INFO -- : Completed 500  in 44ms (ActiveRecord: 0.5ms)
D, [2020-04-01T10:37:23.396718 #31665] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:37:23.400044 #31665] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
D, [2020-04-01T10:37:23.407765 #31665] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (role = 'manager') LIMIT ?[0m  [["LIMIT", 11]]
F, [2020-04-01T10:37:23.420550 #31665] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::Relation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T10:37:23.427584 #31665] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.429385 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.429942 #31665]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T10:37:23.430089 #31665]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T10:37:23.430240 #31665]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T10:37:23.431938 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.434567 #31665] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.437405 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0750176777"], ["active", 1]]
D, [2020-04-01T10:37:23.439982 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.443850 #31665]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
I, [2020-04-01T10:37:23.445820 #31665]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:37:23.446342 #31665]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:37:23.448509 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.451847 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:37:23.454089 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.455823 #31665]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T10:37:23.456489 #31665]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T10:37:23.458423 #31665]  INFO -- : Completed 200 OK in 11ms (Views: 2.0ms | ActiveRecord: 0.4ms)
D, [2020-04-01T10:37:23.464289 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.465543 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.466135 #31665]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:37:23.466278 #31665]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T10:37:23.466403 #31665]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:37:23.467836 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.470313 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.472959 #31665] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4861704589"], ["active", 1]]
D, [2020-04-01T10:37:23.475448 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.477195 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T10:37:23.479479 #31665]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
I, [2020-04-01T10:37:23.481065 #31665]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T10:37:23.481602 #31665]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T10:37:23.483607 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.486055 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.488708 #31665] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T10:37:23.491357 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.493050 #31665]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T10:37:23.495029 #31665]  INFO -- : Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
D, [2020-04-01T10:37:23.503541 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T10:37:23.505411 #31665] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T10:37:23.507404 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T10:37:23.508651 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T10:37:23.509221 #31665]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T10:37:23.509384 #31665]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T10:37:23.509508 #31665]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T10:37:23.510964 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.513470 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.516137 #31665] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9922631412"], ["active", 1]]
D, [2020-04-01T10:37:23.518664 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.520734 #31665]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 10:37:23 +0000
I, [2020-04-01T10:37:23.522674 #31665]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T10:37:23.523221 #31665]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T10:37:23.524620 #31665] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.526803 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T10:37:23.529785 #31665] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T10:37:23.532898 #31665] DEBUG -- :   [1m[36mStore Update (0.2ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T10:37:23.535499 #31665] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T10:37:23.537291 #31665]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T10:37:23.539453 #31665]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
D, [2020-04-01T10:37:23.548328 #31665] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.116444 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:01:56.245435 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.245909 #943]  INFO -- : -------------------------------------------
I, [2020-04-01T11:01:56.245958 #943]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T11:01:56.245983 #943]  INFO -- : -------------------------------------------
D, [2020-04-01T11:01:56.382755 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.385880 #943] DEBUG -- :   [1m[36mStore Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.388138 #943] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0325304212"], ["active", 1]]
D, [2020-04-01T11:01:56.389920 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.393495 #943]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.404375 #943]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T11:01:56.413024 #943]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T11:01:56.414549 #943]  INFO -- :   Rendered stores/index.html.erb within layouts/application (1.1ms)
I, [2020-04-01T11:01:56.416084 #943]  INFO -- : Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:01:56.422651 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.425358 #943] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.425674 #943]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:01:56.425752 #943]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T11:01:56.425832 #943]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:01:56.426917 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.428638 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.430336 #943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0789383484"], ["active", 1]]
D, [2020-04-01T11:01:56.431781 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.432907 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T11:01:56.439729 #943]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.440947 #943]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:01:56.441268 #943]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:01:56.442837 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.444561 #943] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.446184 #943] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T11:01:56.447685 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.448736 #943]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T11:01:56.449812 #943]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-01T11:01:56.454978 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T11:01:56.456162 #943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:01:56.458370 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.460257 #943] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.460600 #943]  INFO -- : ------------------------------------------
I, [2020-04-01T11:01:56.460689 #943]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T11:01:56.460749 #943]  INFO -- : ------------------------------------------
D, [2020-04-01T11:01:56.461686 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.463113 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.464725 #943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8656704742"], ["active", 1]]
D, [2020-04-01T11:01:56.466191 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.467548 #943]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.468740 #943]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T11:01:56.469025 #943]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:01:56.471711 #943] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:01:56.473905 #943]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:01:56.474694 #943]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:01:56.475953 #943]  INFO -- : Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 0.2ms)
D, [2020-04-01T11:01:56.479179 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.481727 #943] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.482114 #943]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:01:56.482204 #943]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T11:01:56.482277 #943]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:01:56.483247 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.484882 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.486561 #943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4197714722"], ["active", 1]]
D, [2020-04-01T11:01:56.488002 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.489354 #943]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.490774 #943]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:01:56.491114 #943]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:01:56.492104 #943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.493614 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.670087 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.672283 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.673437 #943]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:01:56.673883 #943]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:01:56.675223 #943]  INFO -- : Completed 200 OK in 184ms (Views: 1.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T11:01:56.679191 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.681904 #943] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.682255 #943]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:01:56.682342 #943]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T11:01:56.682408 #943]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:01:56.683436 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.685006 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.686733 #943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8576234369"], ["active", 1]]
D, [2020-04-01T11:01:56.688143 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.689463 #943]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.690711 #943]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:01:56.691031 #943]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:01:56.691984 #943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.693374 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.695254 #943] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.697224 #943] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T11:01:56.698600 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.699741 #943]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T11:01:56.700875 #943]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-01T11:01:56.706011 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.708483 #943] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.708829 #943]  INFO -- : --------------------------------------------
I, [2020-04-01T11:01:56.708916 #943]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T11:01:56.708982 #943]  INFO -- : --------------------------------------------
D, [2020-04-01T11:01:56.709884 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.711423 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.713038 #943] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5516110422"], ["active", 1]]
D, [2020-04-01T11:01:56.714437 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.715735 #943]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.716820 #943]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T11:01:56.717112 #943]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:01:56.718028 #943] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:01:56.727148 #943]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-04-01T11:01:56.747426 #943] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:13:in `block in <class:Assignment>'
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:01:56.752804 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.754913 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.755253 #943]  INFO -- : -----------------------------------------
I, [2020-04-01T11:01:56.755371 #943]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T11:01:56.755451 #943]  INFO -- : -----------------------------------------
D, [2020-04-01T11:01:56.756463 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.758193 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.759962 #943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9861461773"], ["active", 1]]
D, [2020-04-01T11:01:56.761422 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.762782 #943]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.764236 #943]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T11:01:56.766325 #943]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:01:56.767082 #943]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:01:56.768280 #943]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:01:56.771261 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.772793 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.773102 #943]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T11:01:56.773196 #943]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T11:01:56.773280 #943]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T11:01:56.774256 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.775976 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.777655 #943] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3358649036"], ["active", 1]]
D, [2020-04-01T11:01:56.779113 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.780478 #943]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
F, [2020-04-01T11:01:56.822146 #943] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:01:56.828134 #943] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:01:56.829712 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:01:56.830232 #943]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:01:56.830398 #943]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T11:01:56.830533 #943]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:01:56.832194 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.835239 #943] DEBUG -- :   [1m[36mStore Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:01:56.838111 #943] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3036589065"], ["active", 1]]
D, [2020-04-01T11:01:56.840780 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.843256 #943]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:01:56 +0000
I, [2020-04-01T11:01:56.845067 #943]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:01:56.845608 #943]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:01:56.847549 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:01:56.851072 #943] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:01:56.853116 #943] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:01:56.854862 #943]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:01:56.855666 #943]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:01:56.857388 #943]  INFO -- : Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T11:01:56.861485 #943] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:39.516801 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:02:39.613334 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:39.613822 #1024]  INFO -- : --------------------------------------------------
I, [2020-04-01T11:02:39.613870 #1024]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T11:02:39.613895 #1024]  INFO -- : --------------------------------------------------
D, [2020-04-01T11:02:39.720502 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.724183 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289288456"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.725955 #1024] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289288456"], ["date_of_birth", "2001-04-01"], ["phone", "1506465632"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.727267 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.741386 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.743064 #1024] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.744561 #1024] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1432176983"], ["active", 1]]
D, [2020-04-01T11:02:39.745803 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.764320 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.766281 #1024] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:02:39.768513 #1024] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:02:39.770045 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.779102 #1024] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.780973 #1024] DEBUG -- :   [1m[36mAssignment Create (0.7ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:02:39.781860 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:39.785059 #1024]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 11:02:39 +0000
I, [2020-04-01T11:02:39.796305 #1024]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T11:02:39.796604 #1024]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:02:39.801721 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:02:39.804975 #1024]  INFO -- : Completed 500  in 8ms (ActiveRecord: 0.1ms)
F, [2020-04-01T11:02:39.827014 #1024] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:14:in `block in <class:Assignment>'
  app/controllers/employees_controller.rb:12:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T11:02:39.847979 #1024] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:39.849268 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:39.849668 #1024]  INFO -- : ---------------------------------------------
I, [2020-04-01T11:02:39.849754 #1024]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T11:02:39.849819 #1024]  INFO -- : ---------------------------------------------
D, [2020-04-01T11:02:39.851132 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.853123 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003439311"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.854982 #1024] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003439311"], ["date_of_birth", "2001-04-01"], ["phone", "5480038891"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.856425 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:39.857907 #1024]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 11:02:39 +0000
I, [2020-04-01T11:02:39.859198 #1024]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T11:02:39.859561 #1024]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:02:39.860612 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:02:39.865788 #1024]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T11:02:39.867439 #1024]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-01T11:02:39.868916 #1024]  INFO -- : Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.1ms)
D, [2020-04-01T11:02:39.872652 #1024] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:39.873513 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:39.873822 #1024]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:02:39.873900 #1024]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T11:02:39.873963 #1024]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:02:39.875373 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.877274 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "177686642"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.879034 #1024] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "177686642"], ["date_of_birth", "2001-04-01"], ["phone", "8960364682"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.880461 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.881573 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T11:02:39.888694 #1024]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 11:02:39 +0000
I, [2020-04-01T11:02:39.890045 #1024]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T11:02:39.890359 #1024]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T11:02:39.891899 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.893791 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.895629 #1024] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.897067 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.898362 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T11:02:39.899566 #1024]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T11:02:39.900735 #1024]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
D, [2020-04-01T11:02:39.906278 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T11:02:39.907370 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:02:39.908594 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:39.909405 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:39.909743 #1024]  INFO -- : ----------------------------------------------
I, [2020-04-01T11:02:39.909825 #1024]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T11:02:39.909889 #1024]  INFO -- : ----------------------------------------------
D, [2020-04-01T11:02:39.911020 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.912627 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "103251808"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.914273 #1024] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103251808"], ["date_of_birth", "2001-04-01"], ["phone", "5690783277"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.915703 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:39.916993 #1024]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 11:02:39 +0000
I, [2020-04-01T11:02:39.918050 #1024]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T11:02:39.920443 #1024]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T11:02:39.921221 #1024]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:02:39.922316 #1024]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:02:39.925272 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:39.926088 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:39.926442 #1024]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T11:02:39.926524 #1024]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T11:02:39.926587 #1024]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T11:02:39.927873 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:39.929647 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "382945589"], ["LIMIT", 1]]
D, [2020-04-01T11:02:39.931413 #1024] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "382945589"], ["date_of_birth", "2001-04-01"], ["phone", "4881529815"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:39.932827 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:39.934486 #1024]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 11:02:39 +0000
I, [2020-04-01T11:02:39.935597 #1024]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T11:02:39.935900 #1024]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T11:02:39.937231 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.115231 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.116949 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.118694 #1024]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T11:02:40.119552 #1024]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:02:40.120815 #1024]  INFO -- : Completed 200 OK in 185ms (Views: 2.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T11:02:40.124525 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:40.125291 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:40.125603 #1024]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T11:02:40.125712 #1024]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T11:02:40.125780 #1024]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T11:02:40.126947 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.128701 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273999359"], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.130371 #1024] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "273999359"], ["date_of_birth", "2001-04-01"], ["phone", "8914537010"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:40.131910 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.133136 #1024]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 11:02:40 +0000
F, [2020-04-01T11:02:40.158231 #1024] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T11:02:40.164948 #1024] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:40.166293 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:40.166804 #1024]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T11:02:40.166939 #1024]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T11:02:40.167111 #1024]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T11:02:40.169063 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.171770 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "007554574"], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.173663 #1024] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007554574"], ["date_of_birth", "2001-04-01"], ["phone", "6382880463"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:40.175035 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.176776 #1024]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 11:02:40 +0000
I, [2020-04-01T11:02:40.178136 #1024]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T11:02:40.178486 #1024]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:02:40.179542 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.181002 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.183851 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.185878 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.186973 #1024]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T11:02:40.187546 #1024]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:02:40.188929 #1024]  INFO -- : Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 0.4ms)
D, [2020-04-01T11:02:40.192997 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:40.193774 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:40.194111 #1024]  INFO -- : --------------------------------------------
I, [2020-04-01T11:02:40.194208 #1024]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T11:02:40.194278 #1024]  INFO -- : --------------------------------------------
D, [2020-04-01T11:02:40.195530 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.197268 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "295731841"], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.198917 #1024] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "295731841"], ["date_of_birth", "2001-04-01"], ["phone", "6045593982"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:40.200290 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.201545 #1024]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 11:02:40 +0000
I, [2020-04-01T11:02:40.202780 #1024]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T11:02:40.204022 #1024]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T11:02:40.204518 #1024]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:02:40.205605 #1024]  INFO -- : Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:02:40.208262 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:02:40.209003 #1024] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:02:40.209330 #1024]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:02:40.209415 #1024]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T11:02:40.209482 #1024]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:02:40.210560 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.212234 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "327798270"], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.213877 #1024] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "327798270"], ["date_of_birth", "2001-04-01"], ["phone", "0832726337"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:02:40.215229 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.216591 #1024]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 11:02:40 +0000
I, [2020-04-01T11:02:40.217740 #1024]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T11:02:40.218095 #1024]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:02:40.219035 #1024] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.220447 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:02:40.222588 #1024] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:02:40.224670 #1024] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T11:02:40.226069 #1024] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:02:40.227071 #1024]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T11:02:40.228290 #1024]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T11:02:40.233545 #1024] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:21.873642 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:05:21.973189 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:21.973668 #1239]  INFO -- : ------------------------------------------
I, [2020-04-01T11:05:21.973716 #1239]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T11:05:21.973741 #1239]  INFO -- : ------------------------------------------
D, [2020-04-01T11:05:22.078863 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.080928 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.082765 #1239] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2364215867"], ["active", 1]]
D, [2020-04-01T11:05:22.084144 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.087431 #1239]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.098898 #1239]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T11:05:22.099214 #1239]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:05:22.106269 #1239] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:05:22.112170 #1239]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:05:22.113781 #1239]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (1.2ms)
I, [2020-04-01T11:05:22.115535 #1239]  INFO -- : Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 0.2ms)
D, [2020-04-01T11:05:22.122342 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.126149 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.126530 #1239]  INFO -- : -------------------------------------------
I, [2020-04-01T11:05:22.126647 #1239]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T11:05:22.126754 #1239]  INFO -- : -------------------------------------------
D, [2020-04-01T11:05:22.127866 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.129653 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.131515 #1239] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6080390346"], ["active", 1]]
D, [2020-04-01T11:05:22.133183 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.134670 #1239]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.135968 #1239]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T11:05:22.138310 #1239]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T11:05:22.150773 #1239]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:05:22.152058 #1239]  INFO -- : Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:05:22.155088 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.158377 #1239] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.158695 #1239]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T11:05:22.158807 #1239]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T11:05:22.158909 #1239]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T11:05:22.160056 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.161585 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.163346 #1239] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0935914440"], ["active", 1]]
D, [2020-04-01T11:05:22.164810 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.166019 #1239]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
F, [2020-04-01T11:05:22.199709 #1239] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:05:22.205441 #1239] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.206524 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.206939 #1239]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:05:22.207097 #1239]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T11:05:22.207189 #1239]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:05:22.208511 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.210620 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.212867 #1239] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6882808132"], ["active", 1]]
D, [2020-04-01T11:05:22.214833 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.216390 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T11:05:22.225024 #1239]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.226584 #1239]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:05:22.226984 #1239]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:05:22.228887 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.230917 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.233117 #1239] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T11:05:22.235200 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.236656 #1239]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T11:05:22.238042 #1239]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
D, [2020-04-01T11:05:22.244016 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T11:05:22.245310 #1239] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:05:22.246715 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.247589 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.247912 #1239]  INFO -- : -----------------------------------------
I, [2020-04-01T11:05:22.248033 #1239]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T11:05:22.248106 #1239]  INFO -- : -----------------------------------------
D, [2020-04-01T11:05:22.249243 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.250866 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.252592 #1239] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1219611875"], ["active", 1]]
D, [2020-04-01T11:05:22.253960 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.255439 #1239]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.256779 #1239]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T11:05:22.258761 #1239]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:05:22.259630 #1239]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:05:22.260762 #1239]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:05:22.263539 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.264391 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.264712 #1239]  INFO -- : --------------------------------------------
I, [2020-04-01T11:05:22.264794 #1239]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T11:05:22.264873 #1239]  INFO -- : --------------------------------------------
D, [2020-04-01T11:05:22.265853 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.267472 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.269163 #1239] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3000683738"], ["active", 1]]
D, [2020-04-01T11:05:22.270677 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.271957 #1239]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.272940 #1239]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T11:05:22.273252 #1239]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:05:22.274191 #1239] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:05:22.282940 #1239]  INFO -- : Completed 500  in 9ms (ActiveRecord: 0.1ms)
F, [2020-04-01T11:05:22.296216 #1239] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:13:in `block in <class:Assignment>'
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:05:22.300571 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.301595 #1239] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.301931 #1239]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:05:22.302014 #1239]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T11:05:22.302090 #1239]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:05:22.303054 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.304721 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.306390 #1239] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4163551243"], ["active", 1]]
D, [2020-04-01T11:05:22.307860 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.309344 #1239]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.310419 #1239]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:05:22.310763 #1239]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:05:22.312140 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.577617 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:05:22.579106 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.580305 #1239]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:05:22.580776 #1239]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:05:22.582058 #1239]  INFO -- : Completed 200 OK in 271ms (Views: 1.5ms | ActiveRecord: 0.3ms)
D, [2020-04-01T11:05:22.585709 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.586562 #1239] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.586897 #1239]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:05:22.586990 #1239]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T11:05:22.587066 #1239]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:05:22.588144 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.589703 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.591416 #1239] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3062515992"], ["active", 1]]
D, [2020-04-01T11:05:22.592769 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.594085 #1239]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.595520 #1239]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:05:22.595920 #1239]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:05:22.596928 #1239] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.598399 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.600909 #1239] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.602896 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.604053 #1239]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:05:22.604528 #1239]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:05:22.605937 #1239]  INFO -- : Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T11:05:22.609896 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:05:22.610711 #1239] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:05:22.611049 #1239]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:05:22.611134 #1239]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T11:05:22.611203 #1239]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:05:22.612146 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.613793 #1239] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.615540 #1239] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3108104092"], ["active", 1]]
D, [2020-04-01T11:05:22.616957 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.618337 #1239]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:05:22 +0000
I, [2020-04-01T11:05:22.619626 #1239]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:05:22.619950 #1239]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:05:22.620891 #1239] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.622282 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:05:22.624221 #1239] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:05:22.626165 #1239] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T11:05:22.627593 #1239] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:05:22.628714 #1239]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T11:05:22.629785 #1239]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T11:05:22.634993 #1239] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:22.650044 #2649] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:25:22.737235 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:22.737701 #2649]  INFO -- : -----------------------------------------
I, [2020-04-01T11:25:22.737748 #2649]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T11:25:22.737772 #2649]  INFO -- : -----------------------------------------
D, [2020-04-01T11:25:22.843755 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:22.845803 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:22.847558 #2649] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8936173447"], ["active", 1]]
D, [2020-04-01T11:25:22.848769 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:22.851923 #2649]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 11:25:22 +0000
I, [2020-04-01T11:25:22.862806 #2649]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T11:25:22.871597 #2649]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:25:22.873356 #2649]  INFO -- :   Rendered stores/new.html.erb within layouts/application (1.1ms)
I, [2020-04-01T11:25:22.875148 #2649]  INFO -- : Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:25:22.881730 #2649] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:22.883060 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:22.883458 #2649]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:25:22.883544 #2649]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T11:25:22.883638 #2649]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:25:22.884624 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:22.886283 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:22.887950 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9037359582"], ["active", 1]]
D, [2020-04-01T11:25:22.889333 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:22.895919 #2649]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:25:22 +0000
I, [2020-04-01T11:25:22.897196 #2649]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:25:22.897589 #2649]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:25:22.899083 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.089085 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:25:23.090646 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.091804 #2649]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T11:25:23.092220 #2649]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:25:23.093615 #2649]  INFO -- : Completed 200 OK in 196ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T11:25:23.097174 #2649] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.098503 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.098829 #2649]  INFO -- : -------------------------------------------
I, [2020-04-01T11:25:23.098913 #2649]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T11:25:23.098980 #2649]  INFO -- : -------------------------------------------
D, [2020-04-01T11:25:23.100027 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.101558 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.103165 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4248950979"], ["active", 1]]
D, [2020-04-01T11:25:23.104614 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.105940 #2649]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.106977 #2649]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T11:25:23.108969 #2649]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T11:25:23.109749 #2649]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T11:25:23.110867 #2649]  INFO -- : Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms)
D, [2020-04-01T11:25:23.113417 #2649] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.114625 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.114945 #2649]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T11:25:23.115029 #2649]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T11:25:23.115096 #2649]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T11:25:23.116009 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.117396 #2649] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.119001 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1493016286"], ["active", 1]]
D, [2020-04-01T11:25:23.120384 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.121579 #2649]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.122776 #2649]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:25:23.123137 #2649]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:25:23.124474 #2649] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.126913 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.129311 #2649] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.131185 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.132851 #2649]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:25:23.133562 #2649]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.3ms)
I, [2020-04-01T11:25:23.134880 #2649]  INFO -- : Completed 200 OK in 11ms (Views: 2.1ms | ActiveRecord: 0.4ms)
D, [2020-04-01T11:25:23.138616 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.139725 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.140050 #2649]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:25:23.140134 #2649]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T11:25:23.140201 #2649]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:25:23.141079 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.142423 #2649] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.144025 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4189401567"], ["active", 1]]
D, [2020-04-01T11:25:23.145361 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.146577 #2649]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.147729 #2649]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T11:25:23.148086 #2649]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T11:25:23.148968 #2649] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.150341 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.152052 #2649] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.153980 #2649] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T11:25:23.155436 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.156578 #2649]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T11:25:23.157675 #2649]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T11:25:23.162805 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.164076 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.164422 #2649]  INFO -- : ------------------------------------------
I, [2020-04-01T11:25:23.164512 #2649]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T11:25:23.164580 #2649]  INFO -- : ------------------------------------------
D, [2020-04-01T11:25:23.165416 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.166773 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.168376 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0830441698"], ["active", 1]]
D, [2020-04-01T11:25:23.169755 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.170943 #2649]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.172053 #2649]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T11:25:23.172377 #2649]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:25:23.173259 #2649] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:25:23.174787 #2649]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T11:25:23.175252 #2649]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T11:25:23.176380 #2649]  INFO -- : Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T11:25:23.179227 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.180439 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.180771 #2649]  INFO -- : --------------------------------------------
I, [2020-04-01T11:25:23.180852 #2649]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T11:25:23.180915 #2649]  INFO -- : --------------------------------------------
D, [2020-04-01T11:25:23.181759 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.183218 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.184864 #2649] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9459348721"], ["active", 1]]
D, [2020-04-01T11:25:23.186462 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.187853 #2649]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.188895 #2649]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T11:25:23.189230 #2649]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:25:23.190206 #2649] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:25:23.199580 #2649]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
F, [2020-04-01T11:25:23.229179 #2649] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:13:in `block in <class:Assignment>'
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:25:23.233919 #2649] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.235869 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.236207 #2649]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T11:25:23.236299 #2649]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T11:25:23.236376 #2649]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T11:25:23.237392 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.239064 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.240738 #2649] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4933544800"], ["active", 1]]
D, [2020-04-01T11:25:23.242084 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.243347 #2649]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
F, [2020-04-01T11:25:23.273374 #2649] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:25:23.276995 #2649] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:25:23.278205 #2649] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:25:23.278557 #2649]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T11:25:23.278640 #2649]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T11:25:23.278713 #2649]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T11:25:23.279645 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.281165 #2649] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.282762 #2649] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9296948186"], ["active", 1]]
D, [2020-04-01T11:25:23.284132 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.285182 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T11:25:23.286597 #2649]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 11:25:23 +0000
I, [2020-04-01T11:25:23.287739 #2649]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T11:25:23.288057 #2649]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T11:25:23.289356 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:25:23.290732 #2649] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T11:25:23.292262 #2649] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T11:25:23.293678 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:25:23.294607 #2649]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T11:25:23.295683 #2649]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-01T11:25:23.300057 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T11:25:23.301165 #2649] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T11:25:23.302284 #2649] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:30:16.232396 #2993] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:30:16.318489 #2993] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:30:16.318946 #2993]  INFO -- : --------------------------------------------
I, [2020-04-01T11:30:16.318991 #2993]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T11:30:16.319014 #2993]  INFO -- : --------------------------------------------
D, [2020-04-01T11:30:16.418584 #2993] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:30:16.420881 #2993] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:30:16.422675 #2993] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7271007308"], ["active", 1]]
D, [2020-04-01T11:30:16.424025 #2993] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:30:16.427363 #2993]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 11:30:16 +0000
I, [2020-04-01T11:30:16.438769 #2993]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T11:30:16.439142 #2993]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:30:16.446268 #2993] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T11:30:16.456097 #2993]  INFO -- : Completed 500  in 17ms (ActiveRecord: 0.2ms)
F, [2020-04-01T11:30:16.481879 #2993] FATAL -- : 
NoMethodError - undefined method `id' for 1:Integer
Did you mean?  i:
  app/models/assignment.rb:13:in `block in <class:Assignment>'
  app/controllers/stores_controller.rb:11:in `show'
  test/controllers/stores_controller_test.rb:18:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:30:16.488979 #2993] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:32:48.922242 #3193] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:32:49.005057 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:32:49.005526 #3193]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:32:49.005573 #3193]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:32:49.005596 #3193]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:32:49.102565 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.104494 #3193] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:32:49.106112 #3193] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3001281040"], ["active", 1]]
D, [2020-04-01T11:32:49.107342 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.121404 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.124161 #3193] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "226805978"], ["LIMIT", 1]]
D, [2020-04-01T11:32:49.125523 #3193] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "226805978"], ["date_of_birth", "2001-04-01"], ["phone", "5668661650"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:32:49.126697 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.143905 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.145477 #3193] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:32:49.147409 #3193] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:32:49.148882 #3193] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:32:49.157889 #3193] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:32:49.159194 #3193] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:32:49.160152 #3193] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:32:49.161325 #3193] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:41:01.432113 #3850] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:41:01.519990 #3850] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:41:01.520426 #3850]  INFO -- : --------------------------------------------
I, [2020-04-01T11:41:01.520480 #3850]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T11:41:01.520506 #3850]  INFO -- : --------------------------------------------
D, [2020-04-01T11:41:01.622504 #3850] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:41:01.624575 #3850] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:41:01.626201 #3850] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1188983852"], ["active", 1]]
D, [2020-04-01T11:41:01.627439 #3850] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T11:41:01.630946 #3850]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 11:41:01 +0000
I, [2020-04-01T11:41:01.642174 #3850]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T11:41:01.642494 #3850]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T11:41:01.649258 #3850] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:41:01.667917 #3850] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T11:41:01.671901 #3850] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
I, [2020-04-01T11:41:01.673118 #3850]  INFO -- : Completed 500  in 30ms (ActiveRecord: 0.4ms)
D, [2020-04-01T11:41:01.674378 #3850] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T11:41:01.677213 #3850] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T11:41:01.682157 #3850] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
F, [2020-04-01T11:41:01.707714 #3850] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::AssociationRelation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:12:in `show'
  test/controllers/stores_controller_test.rb:18:in `block in <class:StoresControllerTest>'

D, [2020-04-01T11:41:01.714675 #3850] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:45:37.612474 #4176] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:45:37.694353 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:45:37.694912 #4176]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:45:37.694963 #4176]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:45:37.694991 #4176]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:45:37.805243 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.807527 #4176] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:45:37.809419 #4176] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7455676509"], ["active", 1]]
D, [2020-04-01T11:45:37.810781 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.827867 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.831105 #4176] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "314916788"], ["LIMIT", 1]]
D, [2020-04-01T11:45:37.832881 #4176] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "314916788"], ["date_of_birth", "2001-04-01"], ["phone", "5504756949"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:45:37.834210 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.854535 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.856628 #4176] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:45:37.858900 #4176] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:45:37.864315 #4176] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:45:37.879255 #4176] DEBUG -- :   [1m[36mAssignment Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:45:37.881671 #4176] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:45:37.883459 #4176] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:45:37.885475 #4176] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:47:49.969593 #4355] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:47:50.061939 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:47:50.062378 #4355]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:47:50.062424 #4355]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:47:50.062447 #4355]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:47:50.165214 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.167697 #4355] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:47:50.169856 #4355] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2944909514"], ["active", 1]]
D, [2020-04-01T11:47:50.171576 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.192581 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.196553 #4355] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "059304890"], ["LIMIT", 1]]
D, [2020-04-01T11:47:50.198224 #4355] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059304890"], ["date_of_birth", "2001-04-01"], ["phone", "2179293225"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:47:50.199508 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.216782 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.218496 #4355] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:47:50.220422 #4355] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:47:50.221903 #4355] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:47:50.229790 #4355] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:47:50.230889 #4355] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:47:50.231773 #4355] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:47:50.232877 #4355] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:48:07.626758 #4411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:48:07.707159 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:48:07.707692 #4411]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:48:07.707739 #4411]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:48:07.707761 #4411]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:48:07.802086 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.804030 #4411] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:48:07.805742 #4411] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9841259683"], ["active", 1]]
D, [2020-04-01T11:48:07.806934 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.821898 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.825467 #4411] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147871890"], ["LIMIT", 1]]
D, [2020-04-01T11:48:07.827130 #4411] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "147871890"], ["date_of_birth", "2001-04-01"], ["phone", "2211248729"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:48:07.828361 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.847393 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.849287 #4411] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:48:07.851376 #4411] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:48:07.852888 #4411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:48:07.861738 #4411] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:48:07.862989 #4411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:48:07.863908 #4411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:48:07.865113 #4411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:49:16.723673 #4528] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:49:16.802459 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:49:16.802940 #4528]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:49:16.802984 #4528]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:49:16.803008 #4528]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:49:16.896794 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.898719 #4528] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:49:16.900375 #4528] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2809291280"], ["active", 1]]
D, [2020-04-01T11:49:16.901573 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.915774 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.918600 #4528] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "274640105"], ["LIMIT", 1]]
D, [2020-04-01T11:49:16.920129 #4528] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "274640105"], ["date_of_birth", "2001-04-01"], ["phone", "4139014455"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:49:16.921316 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.950531 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.952314 #4528] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:49:16.954243 #4528] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:49:16.955771 #4528] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:49:16.964038 #4528] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:49:16.965162 #4528] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:49:16.966030 #4528] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:49:16.967119 #4528] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T11:50:46.997974 #4657] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T11:50:47.080176 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T11:50:47.080635 #4657]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T11:50:47.080690 #4657]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T11:50:47.080719 #4657]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T11:50:47.175972 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.177917 #4657] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T11:50:47.179581 #4657] DEBUG -- :   [1m[36mStore Create (0.4ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3794753283"], ["active", 1]]
D, [2020-04-01T11:50:47.180827 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.195998 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.199069 #4657] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172207663"], ["LIMIT", 1]]
D, [2020-04-01T11:50:47.200708 #4657] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172207663"], ["date_of_birth", "2001-04-01"], ["phone", "8798805701"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T11:50:47.201936 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.219978 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.221849 #4657] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:50:47.223995 #4657] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T11:50:47.225482 #4657] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:50:47.233991 #4657] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T11:50:47.235247 #4657] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T11:50:47.236194 #4657] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T11:50:47.237462 #4657] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:16:39.029615 #6402] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:16:39.120616 #6402] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:16:39.121113 #6402]  INFO -- : --------------------------------------------
I, [2020-04-01T12:16:39.121160 #6402]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T12:16:39.121193 #6402]  INFO -- : --------------------------------------------
D, [2020-04-01T12:16:39.275495 #6402] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:16:39.278654 #6402] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:16:39.281397 #6402] DEBUG -- :   [1m[36mStore Create (0.5ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2324913796"], ["active", 1]]
D, [2020-04-01T12:16:39.283408 #6402] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:16:39.288364 #6402]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 12:16:39 +0000
I, [2020-04-01T12:16:39.307131 #6402]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T12:16:39.307636 #6402]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:16:39.318597 #6402] DEBUG -- :   [1m[36mStore Load (0.3ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:16:39.341081 #6402] DEBUG -- :   [1m[36mAssignment Load (0.3ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:16:39.345299 #6402] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
I, [2020-04-01T12:16:39.346469 #6402]  INFO -- : Completed 500  in 38ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:16:39.347701 #6402] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:16:39.350356 #6402] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:16:39.355250 #6402] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
F, [2020-04-01T12:16:39.368899 #6402] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::AssociationRelation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:12:in `show'
  test/controllers/stores_controller_test.rb:18:in `block in <class:StoresControllerTest>'

D, [2020-04-01T12:16:39.376671 #6402] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.336502 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-01T12:33:02.442839 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.443316 #7525]  INFO -- : ---------------------------------------------
I, [2020-04-01T12:33:02.443365 #7525]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-01T12:33:02.443388 #7525]  INFO -- : ---------------------------------------------
D, [2020-04-01T12:33:02.569080 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.572723 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "210131853"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.574635 #7525] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "210131853"], ["date_of_birth", "2001-04-01"], ["phone", "8887811124"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.576138 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.579536 #7525]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
I, [2020-04-01T12:33:02.591709 #7525]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-01T12:33:02.592025 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:02.597964 #7525] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:33:02.604387 #7525]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:33:02.606165 #7525]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (1.2ms)
I, [2020-04-01T12:33:02.607961 #7525]  INFO -- : Completed 200 OK in 16ms (Views: 6.0ms | ActiveRecord: 0.2ms)
D, [2020-04-01T12:33:02.615533 #7525] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.617167 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.617531 #7525]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:33:02.617630 #7525]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-01T12:33:02.617721 #7525]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:33:02.619153 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.621373 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160035672"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.623509 #7525] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "160035672"], ["date_of_birth", "2001-04-01"], ["phone", "3140388401"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.625483 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.645915 #7525]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
I, [2020-04-01T12:33:02.647320 #7525]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:33:02.647689 #7525]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:33:02.649286 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.836406 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.838022 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.839804 #7525]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:33:02.840573 #7525]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:02.841900 #7525]  INFO -- : Completed 200 OK in 194ms (Views: 2.4ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:33:02.845464 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.846728 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.847076 #7525]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-01T12:33:02.847165 #7525]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-01T12:33:02.847238 #7525]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-01T12:33:02.848514 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.850218 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293020067"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.851936 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "293020067"], ["date_of_birth", "2001-04-01"], ["phone", "7393957701"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.853342 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.854612 #7525]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
F, [2020-04-01T12:33:02.885949 #7525] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:33:02.890354 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.891866 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.892263 #7525]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:33:02.892353 #7525]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-01T12:33:02.892422 #7525]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:33:02.893753 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.895894 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186311457"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.898015 #7525] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "186311457"], ["date_of_birth", "2001-04-01"], ["phone", "5619544975"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.899642 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.900942 #7525]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
I, [2020-04-01T12:33:02.902021 #7525]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-01T12:33:02.904534 #7525]  INFO -- :   Rendering employees/index.html.erb within layouts/application
I, [2020-04-01T12:33:02.905330 #7525]  INFO -- :   Rendered employees/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:02.906412 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:02.909291 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.910507 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.910840 #7525]  INFO -- : --------------------------------------------
I, [2020-04-01T12:33:02.910927 #7525]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-01T12:33:02.910995 #7525]  INFO -- : --------------------------------------------
D, [2020-04-01T12:33:02.912195 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.913932 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "211076576"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.915645 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "211076576"], ["date_of_birth", "2001-04-01"], ["phone", "2705170157"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.917105 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.918367 #7525]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
I, [2020-04-01T12:33:02.919609 #7525]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-01T12:33:02.920783 #7525]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-01T12:33:02.921249 #7525]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T12:33:02.922350 #7525]  INFO -- : Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:02.925061 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:02.926142 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:02.926576 #7525]  INFO -- : --------------------------------------------------
I, [2020-04-01T12:33:02.926693 #7525]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-01T12:33:02.926767 #7525]  INFO -- : --------------------------------------------------
D, [2020-04-01T12:33:02.928053 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.929829 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "272264180"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.931515 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "272264180"], ["date_of_birth", "2001-04-01"], ["phone", "4376600898"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:02.932905 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.947269 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.949232 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.950832 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8744271453"], ["active", 1]]
D, [2020-04-01T12:33:02.952224 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.969809 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:02.971730 #7525] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:02.973175 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:02.974500 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.983693 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.985251 #7525] DEBUG -- :   [1m[36mAssignment Create (0.3ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:02.986423 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:02.987946 #7525]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-01 12:33:02 +0000
I, [2020-04-01T12:33:02.989049 #7525]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-01T12:33:02.989375 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:02.990306 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:02.992723 #7525] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:02.997056 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 11]]
I, [2020-04-01T12:33:02.998367 #7525]  INFO -- : Completed 500  in 9ms (ActiveRecord: 0.1ms)
D, [2020-04-01T12:33:02.999899 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:03.002022 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:03.006671 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 11]]
F, [2020-04-01T12:33:03.028741 #7525] FATAL -- : 
NoMethodError - undefined method `map!' for #<Assignment::ActiveRecord_AssociationRelation:0x0000000007b43eb0>
Did you mean?  map:
  app/controllers/employees_controller.rb:16:in `show'
  test/controllers/employees_controller_test.rb:19:in `block in <class:EmployeesControllerTest>'

D, [2020-04-01T12:33:03.033133 #7525] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.034810 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.035160 #7525]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:33:03.035244 #7525]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-01T12:33:03.035330 #7525]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:33:03.036603 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.038446 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "026011133"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.040187 #7525] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "026011133"], ["date_of_birth", "2001-04-01"], ["phone", "2494782097"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.041559 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.043084 #7525]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.044485 #7525]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:33:03.044822 #7525]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:33:03.045763 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.047146 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.049362 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.051390 #7525] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-01"], ["id", 1]]
D, [2020-04-01T12:33:03.052802 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.053783 #7525]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-01T12:33:03.054888 #7525]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:33:03.060084 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.061327 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.061681 #7525]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:33:03.061760 #7525]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-01T12:33:03.061831 #7525]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:33:03.062995 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.064697 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258850741"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.066375 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "258850741"], ["date_of_birth", "2001-04-01"], ["phone", "9141413653"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.067793 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.068916 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-01T12:33:03.070495 #7525]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.071686 #7525]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-01T12:33:03.072004 #7525]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-01", "role"=>"employee", "active"=>"true"}}
D, [2020-04-01T12:33:03.073281 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.074882 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.076606 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-01"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.078086 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.079482 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
I, [2020-04-01T12:33:03.080681 #7525]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-01T12:33:03.081857 #7525]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:33:03.087066 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-01T12:33:03.088239 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:33:03.089432 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.090716 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.091094 #7525]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-01T12:33:03.091173 #7525]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-01T12:33:03.091263 #7525]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-01T12:33:03.092537 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.094228 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150394213"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.096039 #7525] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "150394213"], ["date_of_birth", "2001-04-01"], ["phone", "6778661128"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.097499 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.098969 #7525]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.100284 #7525]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-01T12:33:03.100642 #7525]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-01", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:33:03.101612 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.103103 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.105883 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.107992 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.109121 #7525]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-01T12:33:03.109521 #7525]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T12:33:03.110946 #7525]  INFO -- : Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:33:03.114978 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.116718 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.117073 #7525]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-01T12:33:03.117162 #7525]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-01T12:33:03.117236 #7525]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-01T12:33:03.118285 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.119955 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.121775 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6863716733"], ["active", 1]]
D, [2020-04-01T12:33:03.123231 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.124759 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.126483 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "002972477"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.128206 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "002972477"], ["date_of_birth", "2001-04-01"], ["phone", "8619492410"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.129585 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.131054 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.132575 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.133862 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.135110 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.136810 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.138131 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.139194 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.140255 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T12:33:03.141630 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.143134 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084883719"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.144706 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "084883719"], ["date_of_birth", "2001-04-01"], ["phone", "7007490420"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.146022 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.147539 #7525]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.150462 #7525]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T12:33:03.150802 #7525]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T12:33:03.152230 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.154412 #7525] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.156636 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.158454 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.159962 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.161253 #7525] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.163124 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.174863 #7525] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-03-31"]]
D, [2020-04-01T12:33:03.176366 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.177345 #7525]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T12:33:03.178441 #7525]  INFO -- : Completed 302 Found in 27ms (ActiveRecord: 0.9ms)
D, [2020-04-01T12:33:03.184939 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T12:33:03.186069 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.187048 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.187543 #7525]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-01T12:33:03.187636 #7525]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-01T12:33:03.187702 #7525]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-01T12:33:03.188666 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.190238 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.191882 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0000505236"], ["active", 1]]
D, [2020-04-01T12:33:03.193181 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.194500 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.196054 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "214119946"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.197531 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "214119946"], ["date_of_birth", "2001-04-01"], ["phone", "5433103517"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.198846 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.200199 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.201481 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.202733 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.204041 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.205677 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.206901 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.208004 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.209379 #7525]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
F, [2020-04-01T12:33:03.239790 #7525] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-01T12:33:03.244001 #7525]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
F, [2020-04-01T12:33:03.273216 #7525] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-01T12:33:03.277025 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.278218 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.278524 #7525]  INFO -- : ----------------------------------------------
I, [2020-04-01T12:33:03.278622 #7525]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-01T12:33:03.278688 #7525]  INFO -- : ----------------------------------------------
D, [2020-04-01T12:33:03.279647 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.281191 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.282739 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8837981484"], ["active", 1]]
D, [2020-04-01T12:33:03.284149 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.285470 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.287024 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "004769084"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.288509 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "004769084"], ["date_of_birth", "2001-04-01"], ["phone", "1397643555"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.289829 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.291119 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.292476 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.293703 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.294900 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.296495 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.297744 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.298738 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.300010 #7525]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.301233 #7525]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-01T12:33:03.304609 #7525]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T12:33:03.305381 #7525]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.306472 #7525]  INFO -- : Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.309215 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.310491 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.310810 #7525]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-01T12:33:03.310889 #7525]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-01T12:33:03.310963 #7525]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-01T12:33:03.311868 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.313352 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.314936 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3260772632"], ["active", 1]]
D, [2020-04-01T12:33:03.316323 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.317607 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.319044 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "267036762"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.320593 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "267036762"], ["date_of_birth", "2001-04-01"], ["phone", "1977268121"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.321919 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.323188 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.324538 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.325772 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.326959 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.328557 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.329780 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.330778 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.332376 #7525]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.333466 #7525]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-01T12:33:03.333793 #7525]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-03-31", "end_date"=>nil}}
D, [2020-04-01T12:33:03.334964 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.336319 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.339228 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.340608 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.342109 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.343138 #7525]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-01T12:33:03.343548 #7525]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T12:33:03.344744 #7525]  INFO -- : Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:33:03.348949 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.350177 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.350478 #7525]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T12:33:03.350557 #7525]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-01T12:33:03.350630 #7525]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-01T12:33:03.351449 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.352765 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.354216 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9388354814"], ["active", 1]]
D, [2020-04-01T12:33:03.355526 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.356702 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.358106 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209454212"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.359579 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209454212"], ["date_of_birth", "2001-04-01"], ["phone", "7770149950"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.360927 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.362147 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.363414 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.364606 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.365773 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.367382 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.368609 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.369607 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.370606 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-01T12:33:03.371772 #7525]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.372900 #7525]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-01T12:33:03.373213 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:03.374417 #7525] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.375546 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.376648 #7525] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-01T12:33:03.377621 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.378545 #7525]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-01T12:33:03.379420 #7525]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-01T12:33:03.383726 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-01T12:33:03.384740 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.385940 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.386244 #7525]  INFO -- : ------------------------------------------------
I, [2020-04-01T12:33:03.386322 #7525]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-01T12:33:03.386425 #7525]  INFO -- : ------------------------------------------------
D, [2020-04-01T12:33:03.387269 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.388708 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.390285 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5112887351"], ["active", 1]]
D, [2020-04-01T12:33:03.391694 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.392963 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.394403 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "351399752"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.395935 #7525] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "351399752"], ["date_of_birth", "2001-04-01"], ["phone", "2245803499"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.397467 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.398963 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.400464 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.401803 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.403042 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.404864 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.406158 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.407249 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.408604 #7525]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.409743 #7525]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-01T12:33:03.411944 #7525]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-01T12:33:03.412754 #7525]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.413951 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.416848 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.418100 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.418413 #7525]  INFO -- : -----------------------------------------------------------
I, [2020-04-01T12:33:03.418496 #7525]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-01T12:33:03.418606 #7525]  INFO -- : -----------------------------------------------------------
D, [2020-04-01T12:33:03.419664 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.421324 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.423002 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5637124238"], ["active", 1]]
D, [2020-04-01T12:33:03.424561 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.426014 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.427667 #7525] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "141634932"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.429260 #7525] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "141634932"], ["date_of_birth", "2001-04-01"], ["phone", "3352176031"], ["role", "employee"], ["active", 1]]
D, [2020-04-01T12:33:03.430781 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.432323 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.433863 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.435105 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-01T12:33:03.436441 #7525] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.438135 #7525] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.439570 #7525] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-01"]]
D, [2020-04-01T12:33:03.440779 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.441800 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.478411 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.478860 #7525]  INFO -- : -------------------------------------------
I, [2020-04-01T12:33:03.478950 #7525]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-01T12:33:03.479020 #7525]  INFO -- : -------------------------------------------
I, [2020-04-01T12:33:03.480153 #7525]  INFO -- : Started GET "/home/contact" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.482800 #7525]  INFO -- : Processing by HomeController#contact as HTML
I, [2020-04-01T12:33:03.485473 #7525]  INFO -- :   Rendering home/contact.html.erb within layouts/application
I, [2020-04-01T12:33:03.486262 #7525]  INFO -- :   Rendered home/contact.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.487625 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.490377 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.491657 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.491990 #7525]  INFO -- : -----------------------------------------
I, [2020-04-01T12:33:03.492082 #7525]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-01T12:33:03.492151 #7525]  INFO -- : -----------------------------------------
I, [2020-04-01T12:33:03.493132 #7525]  INFO -- : Started GET "/home" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.494184 #7525]  INFO -- : Processing by HomeController#index as HTML
I, [2020-04-01T12:33:03.495901 #7525]  INFO -- :   Rendering home/index.html.erb within layouts/application
I, [2020-04-01T12:33:03.496696 #7525]  INFO -- :   Rendered home/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.497801 #7525]  INFO -- : Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.500420 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.501667 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.502031 #7525]  INFO -- : -------------------------------------------
I, [2020-04-01T12:33:03.502126 #7525]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-01T12:33:03.502204 #7525]  INFO -- : -------------------------------------------
I, [2020-04-01T12:33:03.503216 #7525]  INFO -- : Started GET "/home/privacy" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.504470 #7525]  INFO -- : Processing by HomeController#privacy as HTML
I, [2020-04-01T12:33:03.506257 #7525]  INFO -- :   Rendering home/privacy.html.erb within layouts/application
I, [2020-04-01T12:33:03.507041 #7525]  INFO -- :   Rendered home/privacy.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.508263 #7525]  INFO -- : Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.516163 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.517577 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.517931 #7525]  INFO -- : -----------------------------------------
I, [2020-04-01T12:33:03.518015 #7525]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-01T12:33:03.518082 #7525]  INFO -- : -----------------------------------------
I, [2020-04-01T12:33:03.519156 #7525]  INFO -- : Started GET "/home/about" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.520329 #7525]  INFO -- : Processing by HomeController#about as HTML
I, [2020-04-01T12:33:03.522167 #7525]  INFO -- :   Rendering home/about.html.erb within layouts/application
I, [2020-04-01T12:33:03.522989 #7525]  INFO -- :   Rendered home/about.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.524266 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.527156 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.529040 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.529435 #7525]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T12:33:03.529517 #7525]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-01T12:33:03.529582 #7525]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-01T12:33:03.530671 #7525]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.533951 #7525]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T12:33:03.534303 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:03.535999 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:33:03.537734 #7525]  INFO -- : Redirected to http://www.example.com/home
I, [2020-04-01T12:33:03.538659 #7525]  INFO -- : Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
D, [2020-04-01T12:33:03.542680 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.544461 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.544901 #7525]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:33:03.544996 #7525]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-01T12:33:03.545060 #7525]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:33:03.546077 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.547727 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.549464 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1942063125"], ["active", 1]]
D, [2020-04-01T12:33:03.550969 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.552385 #7525]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.553901 #7525]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T12:33:03.554297 #7525]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:33:03.555242 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.556765 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.559638 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.561656 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.564161 #7525]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T12:33:03.564969 #7525]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.5ms)
I, [2020-04-01T12:33:03.566475 #7525]  INFO -- : Completed 200 OK in 12ms (Views: 3.2ms | ActiveRecord: 0.4ms)
D, [2020-04-01T12:33:03.570908 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.572253 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.572585 #7525]  INFO -- : --------------------------------------------
I, [2020-04-01T12:33:03.572681 #7525]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-01T12:33:03.572749 #7525]  INFO -- : --------------------------------------------
D, [2020-04-01T12:33:03.573797 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.575482 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.577129 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8063098756"], ["active", 1]]
D, [2020-04-01T12:33:03.578652 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.580015 #7525]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.581142 #7525]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-01T12:33:03.581428 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:03.582412 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.586457 #7525] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:03.590796 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
I, [2020-04-01T12:33:03.591916 #7525]  INFO -- : Completed 500  in 10ms (ActiveRecord: 0.1ms)
D, [2020-04-01T12:33:03.593190 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:03.595133 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
D, [2020-04-01T12:33:03.599813 #7525] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["store_id", 1], ["LIMIT", 11]]
F, [2020-04-01T12:33:03.625892 #7525] FATAL -- : 
NoMethodError - undefined method `map!' for #<ActiveRecord::AssociationRelation []>
Did you mean?  map:
  app/controllers/stores_controller.rb:15:in `show'
  test/controllers/stores_controller_test.rb:16:in `block in <class:StoresControllerTest>'

D, [2020-04-01T12:33:03.630806 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.632557 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.632976 #7525]  INFO -- : -------------------------------------------
I, [2020-04-01T12:33:03.633061 #7525]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-01T12:33:03.633127 #7525]  INFO -- : -------------------------------------------
D, [2020-04-01T12:33:03.634174 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.635935 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.637714 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6089524354"], ["active", 1]]
D, [2020-04-01T12:33:03.639259 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.640736 #7525]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.641859 #7525]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-01T12:33:03.644130 #7525]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-01T12:33:03.644904 #7525]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.646152 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.649297 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.650485 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.650919 #7525]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-01T12:33:03.651003 #7525]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-01T12:33:03.651095 #7525]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-01T12:33:03.652097 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.653746 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.655594 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0833275211"], ["active", 1]]
D, [2020-04-01T12:33:03.657347 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.659142 #7525]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.660351 #7525]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T12:33:03.660802 #7525]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T12:33:03.662254 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.664739 #7525] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:33:03.666459 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.668861 #7525]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T12:33:03.669650 #7525]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-01T12:33:03.671505 #7525]  INFO -- : Completed 200 OK in 10ms (Views: 3.1ms | ActiveRecord: 0.3ms)
D, [2020-04-01T12:33:03.676113 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.677570 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.677986 #7525]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T12:33:03.678110 #7525]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-01T12:33:03.678241 #7525]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T12:33:03.679435 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.681345 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.683145 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0615898213"], ["active", 1]]
D, [2020-04-01T12:33:03.687006 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.688993 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-01T12:33:03.691479 #7525]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.693197 #7525]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-01T12:33:03.694031 #7525]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-01T12:33:03.696074 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.698659 #7525] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.701161 #7525] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-01T12:33:03.703774 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.705049 #7525]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-01T12:33:03.706609 #7525]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
D, [2020-04-01T12:33:03.717285 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-01T12:33:03.719066 #7525] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-01T12:33:03.721335 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.723032 #7525] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.723392 #7525]  INFO -- : ---------------------------------------------------------------
I, [2020-04-01T12:33:03.723480 #7525]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-01T12:33:03.723548 #7525]  INFO -- : ---------------------------------------------------------------
D, [2020-04-01T12:33:03.725177 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.727428 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.729796 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6884070395"], ["active", 1]]
D, [2020-04-01T12:33:03.732440 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.734500 #7525]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.735773 #7525]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-01T12:33:03.736738 #7525]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-01T12:33:03.737725 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.740370 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.743053 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.746989 #7525] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-01T12:33:03.749223 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.750997 #7525]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-01T12:33:03.753381 #7525]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
D, [2020-04-01T12:33:03.763239 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.764573 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.764928 #7525]  INFO -- : ------------------------------------------
I, [2020-04-01T12:33:03.765016 #7525]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-01T12:33:03.765736 #7525]  INFO -- : ------------------------------------------
D, [2020-04-01T12:33:03.766751 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.769705 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.772036 #7525] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8208045374"], ["active", 1]]
D, [2020-04-01T12:33:03.775080 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.777079 #7525]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.778534 #7525]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-01T12:33:03.778847 #7525]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-01T12:33:03.779988 #7525] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-01T12:33:03.781488 #7525]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-01T12:33:03.781939 #7525]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-01T12:33:03.783070 #7525]  INFO -- : Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.1ms)
D, [2020-04-01T12:33:03.786663 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.788009 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.788343 #7525]  INFO -- : -----------------------------------------
I, [2020-04-01T12:33:03.788428 #7525]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-01T12:33:03.788493 #7525]  INFO -- : -----------------------------------------
D, [2020-04-01T12:33:03.789464 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.791100 #7525] DEBUG -- :   [1m[36mStore Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.792783 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9456551730"], ["active", 1]]
D, [2020-04-01T12:33:03.794396 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.795623 #7525]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
I, [2020-04-01T12:33:03.796854 #7525]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-01T12:33:03.798100 #7525]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-01T12:33:03.798534 #7525]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-01T12:33:03.799737 #7525]  INFO -- : Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.0ms)
D, [2020-04-01T12:33:03.802689 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-01T12:33:03.803900 #7525] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-01T12:33:03.804328 #7525]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-01T12:33:03.804424 #7525]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-01T12:33:03.804577 #7525]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-01T12:33:03.805470 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-01T12:33:03.807184 #7525] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-01T12:33:03.808885 #7525] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9126453328"], ["active", 1]]
D, [2020-04-01T12:33:03.811350 #7525] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-01T12:33:03.812546 #7525]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-01 12:33:03 +0000
F, [2020-04-01T12:33:03.840953 #7525] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-01T12:33:03.844990 #7525] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
